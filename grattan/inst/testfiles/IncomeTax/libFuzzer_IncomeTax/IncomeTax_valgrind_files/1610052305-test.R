testlist <- list(rates = c(NaN, NaN, -1.26836459270827e-30, 1.43026673502722e-316,  -1.26823091051179e-30, -4.02651530039782e-34, -1.26836459270827e-30,  1.43026673502722e-316, 2.56647495110178e-301, -4.9540049074147e-33,  -1.26836459066993e-30, -1.26836459270829e-30, 2.72726193415388e-312,  -8.81442988748469e-280, NaN, -2.30331110816477e-156, -1.12583501772562e-305,  -3.0784025986712e-288, -5.46354689218091e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, -5.46354690059085e-108, -5.4635451747904e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, -3.10503618460142e+231,  -5.96890832411666e+306, -5.82900230650667e+303, NaN, NaN, -5.48612930076931e+303,  NaN, -8.0118894573443e-157, -2.30331110816477e-156, -2.30331110816477e-156,  NaN, -2.30331110816477e-156, 7.19870991335136e-310, NaN, 3.78576699573368e-270,  7.29112072938316e-304, -3.44108032454371e-147, 2.47192511988187e-94,  2.64868533388524e-305, -2.82149851225675e-277, 7.19870991012477e-310,  NaN, 3.78576699573368e-270, 0), thresholds = numeric(0), x = c(-7.39330192498285e-287,  NaN, 2.56647495437459e-301, -2.18103493600849e-289, 8.2889857824493e-317,  0, 0, 0, -5.48612407015086e+303, 2.96439387504748e-323, NaN,  5.42203113091213e-312, 2.393494597516e-301, 1.13160106993595e-314,  -3.18993387177143e-248, 5.84082107599125e-308, 6.07700744384733e-322,  1.26480805335359e-321, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -2.96164702290324e-277,  NaN, NaN, NaN, 2.81199605989981e-312, NaN, 3.0258424129229e-306 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(2.78923464737621e+228, 5.95750278494235e+228,  8.09307924505602e+175, 7.49779509808956e+247, 9.53732492013172e-307,  -3.14666901810749e+53, NaN, NA, NaN, -1.99700494896338e+242,  -8.7398998701518e+245, -8.50343441154999e+304, 4.46014903970612e+43,  NaN, -3.14666901811536e+53, -1.18182143918163e-125, 4.77045810117177e-299,  5.54095540936847e-310, -1.1255454651159e-256, 2.48084742099826e-265,  2.78134232318839e-309, -3.45507950618034e+304, NaN, 3.23785921002061e-319,  NaN, NaN, NaN, -3.23465380139002e+244, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, -4.95668081957698e+245, -5.82900682308922e+303,  4.71039275666249e-63, NaN, NaN, 6.80571229293454e+38, NaN, NaN,  NaN, NaN, NaN, NaN, -2.8866224505485e-63, 7.23148982346426e-308,  -5.54371769730056e+303, 2.12455197126707e+183, 3.94213052632413e-259,  -3.18196870780537e+305, 3.56429232981243e-315, NaN, NaN, 8.28904556439245e-317,  9.79032495090674e-307, -8.7398998701513e+245, -8.50343441154999e+304,  4.46014903970612e+43, NaN, 6.55651547271668e-07, 2.78105668265994e-309,  NaN, -2.83637103419045e-124, 1.71272844748826e-260, 7.50963276040374e-308,  -3.14666784575731e+53, -5.49989589581548e+303, 0), thresholds = c(1.05487533745491e+40,  -6.03473625562238e+304, 1.42991535175584e-308, NaN, -6.03473647567306e+304,  -8.64067982270302e+245, -6.31001569488506e-256, -1.31688403555542e+305,  7.56881123708566e-304, NaN, -1.46215003400902e+128, NaN, -5.54237304891436e+303,  -7.95487989975085e+304, NaN, NaN, 1.02084759352235e+40, -4.93751584743096e+304,  3.24255102939269e+178, 7.10544358357597e-15, 6.80592642457296e+38,  2.42722772089937e-315, 3.92660099062145e-310, NaN, 1.25986739689518e-321,  7.29112201955619e-304, 9.34531025882103e-307, 2.78105030004137e-309,  1.391757623412e-308, -1.41017140540399e+128, NaN, NaN, 4.34940402462135e-114,  7.51011421099525e-308, 1.88062745788168e-119, 9.26369954385498e+25,  1.62968375413993e-310, 2.783485538935e-309, 5.87574772763166e+228,  5.95750278984877e+228, 5.95229749923487e+228, 5.95750278984877e+228,  2.78910999442478e+132, 5.95750258651972e+228, -5.18846954791325e+245,  3.10503470425211e+231, 2.15245267172756e-312, NaN, 3.63183996873719e+180,  1.46900210268585e-101, 1.63335743813925e+40, 3.9374608960985e+92,  4.17199041059827e-308, 4.89613426143778e-299, 5.03402852565284e+226,  5.95750278984877e+228, 4.62494839268972e+228, 5.95750278984877e+228,  5.95750278984877e+228, 5.95745073761192e+228, -8.5233227686842e+245,  NaN, -4.55943088768514e-215, NaN, NaN, 1.10430781744799e-309,  -6.03473647567306e+304, -8.64067982270302e+245, 1.04294967600833e+40,  -5.49952239281811e+303, NaN, -5.48612614406437e+303, 3.10501686136498e+231,  NaN, NaN, 7.00659668223032e-308, -6.03473647567281e+304, 9.76763793907899e-307 ), x = c(-5.1754437868382e+245, -1.3139509669417e-118, -1.17255401062255e-117,  -1.17255401062255e-117, -1.17255401062255e-117, -1.17255401062255e-117,  -1.17255401062255e-117, -1.17255401062255e-117, -1.17255401062255e-117,  -1.17255401062255e-117, -1.17255401062255e-117, 1.86368939504705e+248,  1.75261887564955e+243, 1.23971598178855e+224, 1.04294967003024e+40,  5.43412073090628e-311, 8.90389806695633e+252, NaN, -5.17512496883702e+245,  0, NaN, NaN, NaN, 1.04294981664194e+40, 2.17292331044328e-310,  -5.54792474493996e+243, 2.12455197125173e+183, 3.94213052632413e-259,  -3.18196870780537e+305, 3.5643011834688e-315, 1.13203791517163e-72,  NaN, 2.12199579047121e-314, NaN, NaN, NaN, -8.73989987746428e+245,  NaN, NaN, NaN, 7.87902392938814e-308, 4.01378017054772e-297,  1.42943178999697e-101, 4.07221237780293e-308, 0, 0, 0, 0, 0,  0, 4.77830972673648e-299, 1.13203791517755e-72, NaN, 0, 0, 0,  NaN, NaN, NaN, NaN, NaN, -5.18931555224442e+245, NaN, NaN, -5.1882486699603e+245,  2.64818487196165e+43, 3.94235123396369e-259, 1.71251716990644e-260,  4.45960884102664e+43, 9.14219071064643e-320, 2.84809453888922e-306,  0, 0, 0, NaN, 1.25986739689518e-321, NaN, NaN, NaN, -5.10711143681407e+245,  -5.1893155522444e+245, 4.64991477501782e+279, 5.58561222671114e-311,  NaN, NaN, NaN, NaN, NaN, 7.00659668223032e-308, -8.91517059858154e+303,  1.31977521678509e-309, 9.76763793904796e-307, 1.02922123713583e+40,  NaN, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
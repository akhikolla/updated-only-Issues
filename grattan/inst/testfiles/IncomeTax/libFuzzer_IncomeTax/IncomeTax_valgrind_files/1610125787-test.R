testlist <- list(rates = numeric(0), thresholds = c(2.84132113906601e-173,  -1.34765550943381e+28, -1.34765550943381e+28, -1.34765550943381e+28,  -1.34765550943381e+28, -1.34765550943381e+28, 1.43088991990484e-181,  NaN, NaN, NaN, -2.22568242918476e+304, -3.38058523427243e+221,  -7.38690470204044e+304, -2.51608709743311e+304, -1.85133771268567e+304,  -5.486124068794e+303, NaN, -1.34765550943377e+28, 4.19672516587699e-312,  2.95941217101473e-144, 1.67982319586024e-322, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0), x = c(3.83677274890702e+117, 3.83698281517203e+117,  8.11695765432674e-308, 3.83698281515951e+117, 1.31744879044881e-284,  4.46014905632129e+43, -2.74306263116906e+304, 9.12404584912149e+194,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 8.10452260312399e+179,  NaN, NaN, NaN, -7.2911220195564e-304, NaN, NaN, NaN, NaN, NaN,  -1.71833317411388e-93, 2.11954162065895e-321, -5.48612930069759e+303,  2.84136877649549e-173, 2.84132113906601e-173, 2.84132113906601e-173,  6.23099213848946e+140, 1.20089273851362e-178, 1.20089319277908e-178,  -7.21018141782026e+304, 5.10239975985148e-308, NaN, 3.9656346395276e-310,  NaN, -3.19744231092046e-14, NaN, 7.29032584869847e-304, 5.1640128585803e+120,  1.60268953032662e-24, NaN, -2.88021513611669e+304, 9.12404584912149e+194,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  NaN, -1.56500840032025e-209, -1.56500839841835e-209, -1.56500839841835e-209,  -1.56500839841835e-209, 1.06099789548264e-312, -1.02357023881679e+270,  -3.3807305879321e+221, -3.38084207473076e+221, -3.38084306397821e+221,  NaN, 6.81576207291685e-28, 6.81576207296943e-28, -6.58334888261629e+304,  1.9613105391578e-153, 2.86510451913739e-173, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, -1.71833317411388e-93, 2.11954162065895e-321,  -5.48612930069759e+303, 1.26217975946955e-27, 6.95460770245994e-309,  7.29112201950335e-304, 4.46015025262667e+43, 7.15604264128451e-304,  2.77448004092031e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 9.52157048099431e-307,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -1.93267624126747e-12,  9.11767501288655e-312, NaN, -5.48746343411527e+303))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
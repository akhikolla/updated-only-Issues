testlist <- list(rates = c(-2.3033111077411e-156, -2.30331097358367e-156,  -2.30331110816477e-156, NaN, 7.19919233985879e-310, 9.70418706716128e-101,  9.70418696071228e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, Inf, 9.70418706716128e-101,  -2.3033111077411e-156, 9.69721082575941e-101, 9.70418706716128e-101,  -2.30331110695601e-156, -2.30331110816477e-156, -Inf, -1.97637754038728e+306,  1.25986739689518e-321, 0, 0, 2.84809453888922e-306, 2.81741340991653e+118,  -5.49084600862143e+303, 2.84878987140305e-306, 4.95400018337535e-317,  -2.29827868269844e-185, -2.82123518243434e-277, 3.41641322410626e-312,  1.08601191821704e-306, 0), thresholds = c(-2.30331110816477e-156,  NaN, 3.65207087186091e-306, NaN, NaN, Inf, 7.73071190387239e-12,  6.98327594525623e-310, NA, -Inf, -2.23234881164538e-289, 3.65207086127239e-306,  NaN, NaN, -3.07800332694277e-288, NaN, 0), x = c(NaN, -5.96890832411666e+306,  1.390652843099e-309, -3.85185989618682e-34, -8.81443176193936e-280,  -3.97083461829693e-34, -1.26836459270827e-30, 9.70418707901677e-101,  -2.15995176979249e-277, -5.69758255001719e-306, NaN, NA, 2.72784216611317e-312,  2.64868533186271e-305, -2.82149851225675e-277, 3.41641322410626e-312,  7.19870908769578e-310, 2.9548978549633e-306, 2.39957410182667e-309,  5.68604456976406e-270, -1.26836459270829e-30, 1.11076451584089e-314,  3.02540651506046e-306, -3.01406960140899e-135, 2.96256416550685e-307,  -3.85185988877447e-34, -8.81443176193936e-280, -3.97083461829693e-34,  -1.26836459270827e-30, 1.43026673502722e-316, NaN, 2.33385326930198e-301,  -2.97619001462835e-288, -2.9718420926367e-147, 7.52609340439459e-304,  NaN, -9.77818300079457e-150, -9.77579636327222e-150, 3.65365168861588e-306,  0, 0, 9.23492568228087e-311, 5.79909433230408e-316, 6.95346190762455e-310,  -6.56725888211742e-287, 6.96279910522665e-310, -1.09415610340935e-314,  1.26822404694409e-314, 0, -9.11307071058342e-306, 1.38990724308225e-312,  1.59481413420777e-313, 7.18370196731299e-310, -Inf))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
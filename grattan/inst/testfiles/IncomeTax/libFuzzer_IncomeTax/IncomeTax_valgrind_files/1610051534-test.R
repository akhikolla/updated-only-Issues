testlist <- list(rates = c(-1.24281111519981e-267, 2.47229315721747e-94,  -9.37438000465967e-287, 2.61006680314917e-312, 5.4323092248711e-312,  0, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, -3.10267998547707e-277, -1.24255658710767e-30, -1.26836459270829e-30,  3.78576699573368e-270, 2.8925960194786e-307, NaN, NaN, NaN, 2.56647495438769e-301,  -2.18089867681384e-289, 8.2889857824493e-317, 3.27339061179833e+152,  0, 2.31407681284749e-306, 2.84809454421907e-306, NaN, -7.76289525491291e-171,  -1.71283835855445e+265, 4.19867256729053e-140, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(-1.26836459270033e-30,  4.94065645841247e-324, -2.29827868269844e-185, 6.65988378995207e-310,  2.22507386265735e-308, NaN, 2.94024551642532e-306, -1.26836459270033e-30,  -1.26836459270033e-30, 0, 0), x = c(3.65365169107097e-306, NaN,  9.7041598162183e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, NaN, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 7.91826926828272e-101, 9.70418706716128e-101,  -2.6060352223097e+304, -5.66324542991478e+303, Inf, NaN, NaN,  NaN, -2.64494692449867e+154, 6.99179957456213e-310, 0, 2.3641409746639e-308,  1.48456814906984e-313, -3.97599402242608e-34, -8.81442700067642e-280,  -2.64494692448922e+154, -1.45462390078124e-278, -1.25812577768752e-30,  -1.26832758459898e-30, 1.00891829368586e-309, 5.44329432060333e-312,  -3.65223708759439e+304, 4.77830972673539e-299, 1.21044018122494e-305,  1.41497286004339e+190, 1.84870553760561e-272, NA, 5.44329432060333e-312,  -3.65223708759439e+304, NaN, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
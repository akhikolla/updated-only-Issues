testlist <- list(rates = c(-3.45507950617158e+304, 1.390671161567e-309, 0,  0, 7.2906770047847e-304, 5.41108926696144e-312, 0, -5.48612406883361e+303,  1.25986739689518e-321, 1.70114806571822e+40, -3.31521377423868e+118,  6.55651094312864e-07, NaN, NaN, NaN, NaN, -5.48633958130682e+303,  -5.18847371542227e+245, -5.17539168553194e+245, NaN, 1.31756732478297e-309,  NaN, NaN, NaN, 2.12455196732528e+183, 6.55651093237064e-07, -5.48612405857659e+303,  3.30345356134936e-304, -3.61301071222328e+306, -1.56500839841835e-209,  3.7393681412536e-131, 2.21386307615192e-80, -1.93372419505209e+242,  1.63335553564935e+40, 4.77830972877259e-299, 1.13203791517755e-72,  NaN, 0, 0, 0, 0, 2.84809453888922e-306, 0, NaN, NaN, -8.73989987746428e+245,  NaN, -5.10711143681407e+245, NaN, NaN, 1.390671161567e-309, 6.55651541948862e-07,  1.58653735272582e+124, -3.3660338951184e+304, 9.96833088362618e-306,  -5.02501567661801e+245, NaN, -5.8289348415118e+303, 6.80564992442599e+38,  1.51189165578349e-304, 3.94213052632414e-259, 2.11195847952035e-106,  NaN, NaN, 3.24181522621478e+178, 4.77028265708835e-299, 1.82922136166111e-260,  -2.67088736479396e-260, NaN, 7.23040570036398e-308, NaN, 5.43655321645303e-311,  NaN, 7.2911220195564e-304, 4.39013136499761e-259, NaN, -8.07557462926431e+306,  4.59496185198551e-312, -1.29499464712615e+116, NaN, 6.80731536378457e+38,  3.45541995013247e-260, NaN, 2.79513953293095e-129, NaN, NaN,  2.16443570677964e-312, 2.7810487249198e-309, -8.73989987746416e+245,  4.73878840674895e-10, 1.18495789628904e-303, 1.42991672770676e-308,  7.00659668223032e-308, 6.55651093237037e-07, -5.48612405857659e+303 ), thresholds = c(NaN, Inf, -Inf, 4.65661287307739e-10, -Inf,  NaN, NaN, 2.16443570677964e-312, -1.45094702117037e+128, 2.78132881200157e-309,  6.8089704084083e+38, NaN, NaN, 0, -4.57671320724439e-246, NaN,  NaN, NaN, -1.3323138021754e+305, 7.23066945774505e-308, -5.54371769730056e+303,  2.12455197126707e+183, 3.94213052632413e-259, -3.18196870780537e+305,  3.56429232981243e-315, 1.51189165578346e-304, NaN, 4.65769178428981e-10,  7.4202234095592e-68, NaN, NaN, -5.06443593278922e+245, Inf, NaN,  3.04668938042604e-05, NaN, -5.188252837444e+245, 4.77830972673471e-299,  -5.82982301129014e+303, NaN, 1.51193768685564e-304, NaN, NaN,  NaN, NaN, 1.8292213616808e-260, 2.00659200205709e+42, NaN, 5.43818615865253e-311,  -3.5510117602496e+307, NaN, 1.39782377108199e-304, NaN, 0), x = c(-5.18892797390551e+245,  -5.18892797307548e+245, -5.75028645430585e+243, NaN, -2.87893744591755e-63,  NaN, NaN, -6.97063641475086e-258, -8.08634877215979e-174, -4.82778918048755e+305,  NaN, 6.55651547276648e-07, -5.48612405857659e+303, NaN, NaN,  -9.00181948337867e+241, 5.02982669403682e-10, 1.18495754800529e-303,  -1.29211778498328e+294, NaN, 1.390671161567e-309, NaN, NaN, NaN,  NaN, -1.99700494896339e+242, NaN, 7.2911220195564e-304, NaN,  NaN, 6.24349710063198e+144, NaN, NaN, NaN, -5.17538835488245e+245,  NaN, -6.31007801965972e-256, 1.32963809623256e-105, 2.85581692249444e-109,  3.62473289151349e+228, 1.06399915245307e+248, 1.1461546353604e+247,  5.3118550823533e+169, -8.52438964205469e+245, NaN, NaN, 3.35877285666699e+227,  NaN, 6.31001593821752e-256, 5.95750442285959e+228, -8.5243896509936e+245,  7.27950626141545e-304, NaN, 1.3684555315672e-48, 7.27955163548947e-304,  1.04294967003054e+40))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
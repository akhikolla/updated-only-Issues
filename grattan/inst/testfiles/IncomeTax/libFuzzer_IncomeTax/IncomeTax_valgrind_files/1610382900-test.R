testlist <- list(rates = c(NaN, NaN, -7.55203993593245e+303, NaN, -8.5243896509936e+245,  -5.18892797390551e+245, -5.75028645430585e+243, NaN, NaN, NaN,  NA, 2.23764539047744e-310, -8.5243896509936e+245, NaN, NaN, 3.35877285666699e+227,  9.58685070020327e-307, 6.31001593821752e-256, 5.95750442285959e+228,  NaN, 0), thresholds = c(-5.0644359327619e+245, 1.91721240688345e-236,  NaN, NaN, NaN, 3.93746089609863e+92, 4.17199041059827e-308, 4.89613426143643e-299,  5.03402852565284e+226, 5.95750278984877e+228, 4.62494839268972e+228,  5.95750278984877e+228, 5.95750278984877e+228, 5.95745073761192e+228,  Inf, NaN, NaN, -Inf, NaN, -6.25613929180527e+269, 0), x = c(-5.82900682309298e+303,  -5.18846954791325e+245))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = numeric(0), thresholds = c(0, -2.95841658691758e-188,  1.94693962620681e-307, 1.0451773909944e-308, -3.02879630252661e-288,  7.19870960575483e-310, NaN, NaN, NaN, NaN, NaN, 3.7835305088198e+117,  -1.97637754038728e+306, 2.72814038002143e-312, -8.81550164309798e-280,  -1.26834825275039e-30, -9.77580118946814e-150, -2.97619079749159e-288,  -2.11852534546505e-289, -1.24371216570841e-30, 2.84809590466396e-306,  1.86165783044538e-130, 2.56647495438764e-301, -2.18103493600849e-289,  8.2889857824493e-317), x = c(-4.78043211992291e-310, 3.98942410759346e-306,  -2.26003441548446e-156, -3.32695152417538e-111, -3.54746497258718e-108,  -5.46354690059085e-108, 6.98935817093314e-310, -2.69092032456518e+305,  NaN, -5.46354690059072e-108, -5.46354690059085e-108, -5.4635451747904e-108,  2.11651704316135e+214, 1.03174956156456e+113, 3.28559320723671e+180,  -5.46354690056603e-108, -5.46299574005616e-108, NaN, -3.10503618460142e+231,  -5.96890832403493e+306, -5.82900230650667e+303, -2.29827867994588e-185,  NaN, -5.48612930076931e+303, NaN, NaN, 8.80034094429113e-310,  -4.38753740307468e+307, -2.11965588216799e-289, -1.83593039382815e-307,  -2.6064446869563e+304, 7.18372580480888e-310, 5.94568495811084e-302,  4.29105301847264e-317, 0, -5.55169938055022e+306, 3.23059644502674e-319,  9.72926582174422e-309, 2.84809453888922e-306, 2.84347436052587e-312,  2.47222686857108e-94, 3.5601616320854e-306, -1.75555970462997e+306,  7.1987099133561e-310, NaN, 3.78576699573368e-270, 7.29112072938316e-304 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
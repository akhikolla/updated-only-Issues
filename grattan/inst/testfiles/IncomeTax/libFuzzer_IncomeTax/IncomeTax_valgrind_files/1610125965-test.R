testlist <- list(rates = c(2.7744795585476e+180, 2.77448001762435e+180, -2.88021513611661e+304,  8.28893242335955e-317, 4.1254014950077e-293, 5.87058643646208e+197,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001761244e+180, 2.77448001762435e+180, 7.15619005046459e-304,  3.83677275391473e+117, 1.33946268217254e-142, 2.77448002226698e+180,  7.80930883474205e+194, 1.27209756180136e+225, NA), thresholds = c(-5.3172514347146e+305,  -3.35414773906275e+204, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001572227e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.04228248882e+280,  2.15184740883647e-312, 3.13151306251405e-294, -6.55093200737947e+303,  1.25986739689518e-321, 3.22526053605166e-319, -1.79622302505331e+308,  2.7246384467123e-274, 3.1653220940741e+180, 2.77448001762435e+180,  2.15162051651561e-312, 3.96558573507921e-310, -5.70642425329479e+305,  4.49047989057169e-306, 3.83698281515951e+117, 1.31744879044881e-284,  1.33939372871051e-142, 7.27603497800276e-308, 2.12738328712367e-106,  -2.48721736378895e+304, 7.29023199250634e-304, 1.33278671340845e-142,  3.84372534613508e+117, 1.52706140083726e-310, 5.43223475676734e-312,  2.04488139862213e-173, 1.11253692925474e-306, 3.83698281515937e+117,  -1.39046352378877e+305, NaN, -2.88021513611558e+304, 6.31088725681422e-28,  3.11941819105243e-143, NaN, 3.23785921002061e-319, 2.7518336180954e-135,  6.47733881213645e-145), x = c(-5.31401037251781e+303, -5.31401037251781e+303,  -2.6570051862589e+303, -5.31401037251781e+303, NaN, NaN, -5.31401036233918e+303,  6.56233278834207e-28, NaN, NaN, 1.39065217937453e-309, NaN, 7.29032585060848e-304,  NaN, 5.43223507675884e-312, 3.83698439012239e+117, 7.18520929158341e-304,  1.50192485449233e-307, -5.3172514347146e+305, 9.94684568527618e-316 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
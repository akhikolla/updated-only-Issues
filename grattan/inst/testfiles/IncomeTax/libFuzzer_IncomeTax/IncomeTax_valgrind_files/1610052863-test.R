testlist <- list(rates = c(9.70418706715543e-101, NaN, 9.70418706707811e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  -2.82126001086179e-277, 3.2444302831103e-319, NaN, NaN, NaN,  NaN, NaN, -6.64550662528709e-287, 3.66148565438541e-314, 3.91612999627766e-306,  -8.98798625795533e+307, -6.69969684636837e-287, 7.32777351954831e-15,  1.11604253465019e-314, 3.60446694374285e-305, -9.77941371393343e-150,  2.33246235504083e-12, -2.15995069167566e-277, -5.69758255001719e-306,  -Inf, -3.04032340824977e-288, 7.84460841917251e+168, 2.81218450794511e-312,  3.83677275828159e+117, 1.12812834827904e-291, 2.71623750163133e-312,  1.4091384623419e-315, 8.84871571701673e-321, -8.81442986651231e-280,  -2.11866430635714e-289, NaN, -2.30174327470608e-286, 1.44838919828424e+147,  1.62503131573644e-319, 6.98594916738453e-310, -2.97578918250622e-288,  NaN, -4.19082550208318e-31, NaN, -1.26836407059221e-30, -2.8214554825258e-277,  -1.26826829408497e-30, 2.40086640681612e-300, 4.29076497820112e-317,  Inf, 3.66343140688495e-305, -2.25755811656918e-289, 3.65207086127239e-306,  NaN, 3.91612999631911e-306, 1.38622512589831e-309, 2.4692825238425e-94,  -7.5648509762186e+303, -7.2911220195564e-304, -4.29176022090965e-278,  4.90274403849123e-309, 7.74682062256267e-304, 5.14265712180014e+25,  -9.88538071068547e-277, -1.45387243821169e+306, 1.39066109167247e-309,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, 3.65365168624447e-306, 7.09876007659596e+132,  -2.05227035158761e-289, 2.87903828240062e-306, -6.64553199053192e-287,  NaN, NaN, 7.29109420613317e-304, 0, 0, 0, 9.70395179000027e-101,  9.70418706716128e-101, 9.70418706716128e-101, 0), thresholds = c(9.70418706716128e-101,  9.70418706716128e-101, -9.77579958052209e-150, NaN, NaN, -5.48612677708849e+303,  NaN, NaN, -Inf, 0, 2.3641409746639e-308, 0, 1.42873423910284e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, -1.34481107682851e-284,  NaN, -7.36331510668791e+303, NaN, 7.1987099133561e-310, 3.65190247027494e-306,  2.71984340047916e-312, 0, 4.95400018337535e-317, 0, 2.95489645946111e-306,  9.70418706716128e-101, 1.53638764509134e-313, 7.18370196731299e-310,  NaN, NaN, -2.52435489670724e-29, 1.53948714210656e-314, -3.97083461829737e-34,  -1.26836459270827e-30, -2.0562923949346e-289, -1.25152224677666e+306,  1.55587395324858e-59, -1.26836459270829e-30, 3.56013998772825e-306,  NaN, NaN, NaN, NaN, -1.26841746137343e-30, -3.85185988881514e-34,  -3.56039308242766e-305, 2.64121166339307e-301, -1.26836459270829e-30,  0, 3.94108708470682e-312, -1.26836444221609e-30, 3.94108708470682e-312,  4.91407572666621e-319, 2.72888639290682e-312, 3.63041237940668e+282,  2.71984550446759e-312, 7.19919233907545e-310, -7.55234771438901e-287,  3.7835305088198e+117, -1.97637754038728e+306, 1.25986739689518e-321,  0, 0, 0, 9.72926582174422e-309, NaN, -1.40444736503779e+306,  -1.4094657681933e-52, -1.05115074807266e-286, -1.21044017903676e-305,  2.39349543715523e-301, 1.11688277665699e-308, -1.12858219058046e-276,  -1.26836459270732e-30, 9.14021444806306e-322, 1.00891829368495e-309,  2.67904643304077e+301, -1.2683645911815e-30, 9.37339630957792e-312,  -5.78534238436574e-34, 2.56647495592844e-301, -2.67120456398265e+305,  7.29067896755206e-304, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
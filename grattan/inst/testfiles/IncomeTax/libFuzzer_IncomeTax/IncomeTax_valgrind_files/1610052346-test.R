testlist <- list(rates = c(3.56011975004636e-305, -3.9759940224262e-34, -1.26836459270827e-30,  1.43026673502722e-316, 3.67243116683581e-306, 2.87903833031147e-306,  -1.26836459122742e-30, 9.37339630957792e-312, 1.70257006040729e-313,  3.56048353891001e-306, -1.23416654681114e-30, 2.81218450836506e-312,  9.6963001895514e+192, -3.56534405941289e-306, 4.15015142506647e-317,  0, 7.55920438137107e-322, 0, 7.52608981901476e-304, 1.06308641768579e-314,  0, 8.19090394664158e-312, 7.52608981901476e-304, NaN, -9.77818300079457e-150,  2.94613684519112e-306, 4.14452302922905e-317, -6.0589882471479e-65,  5.42377150743089e-312, -9.11307071058342e-306, 1.38990724308225e-312,  -2.82149747330052e-277, 2.26718819826215e-318, 7.55038392918931e-15,  -2.18003413361522e-289, 2.84809454421907e-306, 5.5869437297374e-319,  -1.26836407051221e-30, -9.36473653341481e-280, -3.04032340213361e-288,  2.56647495438759e-301, 5.67865049362949e-270, -9.77941371393343e-150,  2.33246235504083e-12, -2.15995069167566e-277, -5.69758255001719e-306,  7.29111937478047e-304, -3.04032340824977e-288, 7.84460841917251e+168,  2.81218450794511e-312, 1.26480805335359e-321, 0, 0, 1.40913782993788e-315,  8.84871571701673e-321, -8.81442986651231e-280, -2.11866430635714e-289,  1.06243882805742e-314, 0), thresholds = numeric(0), x = NA_real_)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(3.98264587882868e-317, 8.28904605845809e-317,  4.62898754777597e-299, 2.12628684398374e-314, NaN, NaN, -1.40444776161118e+306,  NaN, NaN, -2.30331061922935e-156, NaN, NaN, NaN, NaN, NaN, 3.66343140689406e-305,  -2.11967030492847e-289, -1.26836419890938e-30, -1.10310852891461e-146,  7.19919234111896e-310, 9.70418706716128e-101, 9.70418696071228e-101,  7.55652533908718e-308, 9.70418706357123e-101, 9.70418706716095e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706715965e-101, -5.18842027831762e-254, 1.29145347579917e-231,  -2.30331110816473e-156, -2.30331110816477e-156, -2.30327665540415e-156,  -2.30331110816477e-156, NaN, 2.81199605989981e-312, NaN, -8.22918610319053e+303,  4.46108959687689e-140, 3.60297094497336e-306, -1.06556334613796e-314,  9.7020880290895e-310, -7.39330493781016e-287, 2.81199605863994e-312,  NaN, -8.22918610319053e+303, 4.46108959687689e-140, -1.40444775900542e+306,  NaN, 7.2911220195564e-304, NaN, NaN, NaN, NaN), thresholds = c(-9.77719780333789e-292,  -9.77719780333789e-292, -2.20216447764871e-289, 7.57771153258705e-304,  -6.56725888219402e-287, NaN, NaN, NaN, NaN, -1.05658906227133e+270,  3.23785921002061e-319, 0, 0, 0, -7.5565253390872e-308, -2.35343736497682e-185,  7036874417766.4, -2.35343736826454e-185, 7.17736025324585e-310,  7.32777351949015e-15, NaN, 2.74711394303795e-282, 7.00767890008367e-310,  2.71984339982699e-312, 4.7658666824242e-149, 6.23700098582428e+291,  2.06258487362311, -9.37437737249537e-287, 2.61006680314917e-312,  -5.4323092248711e-312, 2.64121166339307e-301, -1.26836459270829e-30,  -Inf, -Inf, -2.64494692448922e+154, -1.90877083254457e-287, 3.18765646655326e-314,  -1.2341419504043e-30, 2.11860059793463e-309, Inf, 2.12199579096527e-314,  0, 2.31058266785128e-138, 2.00877667922349e-139, 4.67704767180488e-149,  6.23700098582428e+291, 2.06258487362311, -8.11440022663352e-289,  -5.48612668833425e+303, NaN, NaN, NaN, NaN, NaN, -1.26836459351501e-30,  0), x = c(-9.63918865773052e-292, 1.152633308404e-97, 2.81218450766349e-312,  8.2863938883057e-312, -5.66899487076606e+303, NaN, 7.1987099133561e-310,  NaN, NaN, 5.43230663453926e-312, 0, 0, 0, 9.70418706357123e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  -5.82789329454073e+303, -5.82900681339507e+303, 2.65985899590435e+277,  1.10313045262037e+217, -6.64678428260256e-287, -4.25898787020039e-270,  NaN, -3.07840260097373e-288, NaN, -1.26836407059221e-30, -2.8214554825258e-277,  -1.26826829408497e-30, 2.40086640681612e-300, -7.92736885185452e-308,  2.4719252581509e-94, 3.66343140688493e-305, -1.26836459270251e-30,  3.66148293307183e-314, -8.81442592686244e-280, 1.23269447171475e-30,  -1.26836407088752e-30, -1.26836459270829e-30, NaN, NaN, NaN,  -6.1718895773929e+303, NaN, -1.27278078396014e+306, -9.77719780333789e-292,  -9.77719780333789e-292, 9.82745041327995e-101, 2.81218450766349e-312,  8.2863938883057e-312, -5.66899487076606e+303, NaN, 7.1987099133561e-310,  NaN, NaN, 5.43230663453926e-312, 0, 0, 2.56647495436053e-301,  -3.01363922187472e-135, -2.30331110816476e-156, -2.30331110816477e-156,  -2.29449120144681e-156, -2.30331110816477e-156, -1.84314079543842e+306,  7.1987099133561e-310, -7.29112201955619e-304, 2.87903833031139e-306,  -7.92736885289052e-308, -3.04032340824977e-288, 2.72784216611317e-312,  2.64868533186271e-305, -2.82149851225675e-277, 7.19870991012477e-310,  NaN, 3.78576699573368e-270, 7.29112072938316e-304, -7.29111855645909e-304,  2.87903833031139e-306))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
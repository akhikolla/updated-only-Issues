testlist <- list(rates = c(3.78987813636309e-312, 3.65365169083783e-306,  -5.48612677708849e+303, NaN, 7.07039469279248e-304, -2.60644468696874e+304,  NaN, NaN, 1.390671161567e-309, 5.43230922360629e-312, 2.84809454436e-306,  4.95400018337535e-317, 0, 2.95489645946111e-306, 7.10542909137157e-15,  -5.48612422239372e+303, -9.77702922971014e-150, 5.39899432002944e-310,  5.85363771174557e+170, 2.8480955933963e-306, 6.98051735718635e-310,  -2.67120456398365e+305, 1.39066109167247e-309, 0, 0, 0, 9.23492568228087e-311,  5.79909433230408e-316, 1.44804023176556e+190, -1.75590191507535e+306,  4.46108959687713e-140, 3.60297094497336e-306, -2.11852534548144e-289,  2.73154948297718e-312, 2.25779346205449e-309, -2.3033111081542e-156,  8.67124371330009e-310, 2.9548978549633e-306, 3.9191047797502e+202,  2.4006026425124e-300, 5.67865049360052e-270, -1.8065053561116e+307,  7.22857561988298e-304, -1.00908366756849e-149, 2.73729184714066e-312,  NaN), thresholds = -2.60644468696874e+304, x = c(-2.3033111081542e-156,  -2.30331110816477e-156, -2.30331110816476e-156, 1.09015244729545e+217,  -1.66880539387418e-307, 3.83677401710034e+117, NaN, -1.06567983545374e-314,  NaN, -2.11840642770069e-289, 4.10079003537813e-311, -3.9759940224262e-34,  -1.26823100659151e-30, -1.26836459270829e-30, -4.7783370684945e-299,  3.56048348188099e-306, 34082834.0004893, NaN, NaN, 6.95335580946088e-310,  -1.48042114701683e-314, -8.24519868127501e-157, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30331097358367e-156, 2.66705205377917e-79,  NaN, -5.48612677708849e+303, NaN, 7.07039469279248e-304, -2.60644468696874e+304,  7.95923289723679e-310, -1.2683640469159e-30, -2.82145547645118e-277,  -1.2437121450743e-30, -1.26836459270829e-30, 3.78576699573368e-270,  1.00891829346111e-309, 8.63073241202148e+115, -2.82116926034698e-277,  3.23785921002061e-319, 0, 0, 0, 5.59610256518376e-275, -5.48612406879369e+303,  NaN, 4.27416536063214e-317, 2.84809453959379e-306, -3.01406960140899e-135,  3.66343140688495e-305, -3.85185988877447e-34, -8.81443176193936e-280,  -3.97083461829693e-34, -1.26836459270827e-30, 1.43026673502722e-316,  -1.26823091051179e-30, 2.33385326930198e-301, 4.65604443888978e-10,  -3.04032340529304e-288, 3.78576699573379e-270, -1.26836459270033e-30,  6.01362129181413e-317, 0, 3.60739284464096e-313, 4.33892353296385e-317,  7.00746712868804e-310, -1.42447098956418e-305, -8.24519868127501e-157,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331097358367e-156,  -2.30331110816477e-156, NaN, -5.48612677708849e+303))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
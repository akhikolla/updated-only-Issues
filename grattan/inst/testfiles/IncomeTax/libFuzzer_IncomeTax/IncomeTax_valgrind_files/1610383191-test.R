testlist <- list(rates = c(NaN, 2.1643735389342e-312, NaN, 3.63183996873719e+180,  1.46900210268585e-101, 1.63335743813925e+40, 3.9374608960985e+92,  4.17199041059827e-308, 4.89613426143778e-299, 5.03402852565284e+226,  5.95750278984877e+228, 4.62494839268972e+228, 5.95750278984877e+228,  5.95750278984877e+228, 5.95745073761192e+228, -8.5233227686842e+245,  NaN, -4.55943088768514e-215, NaN, NaN, 1.10430781744799e-309,  -1.1255454651159e-256, 2.28135770725662e-310, -6.31008200917235e-256,  -8.73989570995536e+245, 1.10833655663439e-277, 1.39121439248936e-308,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, 7.00767890001921e-308, -5.18931553857232e+245,  NaN, NaN, NaN, 8.73189386463589e-308, 1.42991672770726e-308,  NaN, 4.86173068582902e-63, -6.03473647567306e+304, 4.45998517039374e+43,  -2.83637103417778e-124, 1.71272844748826e-260, NaN, NaN, NaN,  NaN, 6.64116530657599e-07, 1.22326355857578e-303, NaN, 1.39769620676628e-309,  3.64556100396913e-304, -1.18297538621888e-125, -8.52438965094796e+245,  9.87239057337792e-55, 1.08708352740731e-311, 2.33589462432972e-310,  -2.83637110188085e-124, NaN, NaN, -8.4070565320089e+304, NaN,  NaN, 2.43896181554285e-259, NaN, -2.41844193503962e+24, NaN,  -5.17512497157144e+245, NaN, 3.24181522621478e+178, 4.77028265708835e-299,  2.33589379614305e-310, 2.70150095835327e-307, NaN, NaN, NaN,  NaN, NaN, -2.8866224505485e-63, NaN, -5.75028645430846e+243,  NaN, -4.13259400256433e-40, NaN, NaN, NaN, -5.06443593276214e+245,  -5.17538999909498e+245, 6.47561818001834e-308, 1.68048229123576e+117 ), thresholds = c(NaN, NaN, NaN, NaN, NaN, -8.72602724925346e+245,  2.18006185075172e-106, 7.50963275957326e-308, NaN, 1.04294967003024e+40,  9.55008712236373e+139, 9.1245883769185e-313, 3.92660069275906e-310,  -2.27610495945882e-159, 8.92489319913998e+252, 4.78210139740299e+180,  3.949655557033e+180, 3.94213052632413e-259, 4.94665521972364e+173,  2.44047694750493e-152, NaN, 2.75744471482275e-10, NaN, 3.04660497931763e-05,  -Inf, NaN, 3.94213052906068e-259, 8.48798168141712e-313, NA,  9.79032497743128e-307, -3.14666901810749e+53, NaN, 4.77830972972643e-299,  2.82755217285071e-110, NaN, 8.28904556439245e-317, NaN, NaN,  NaN, -2.88665259471098e-63, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, -7.31781923598515e+241, 7.29112201886404e-304, 3.56598994200504e+179,  -5.75028660757305e+243, -1.90203418620616e+244, 5.58561510707977e-311,  -5.49952238194071e+303, 1.65276208593417e+40, 6.80571224627428e+38,  9.96733287421135e-306, NaN, NaN, NaN, NaN, NaN, -8.52332276868434e+245,  3.10503470425215e+231, NaN, 5.95750278982973e+228, 5.95750278984877e+228,  5.95750153106955e+228, 1.04294967003054e+40, 2.78923465099275e+228,  2.08809742756317e-53, NaN, 5.95750278984886e+228, 1.04294967003054e+40,  9.16794260529633e-302, -5.17453735279954e+245, NaN, Inf, -5.06443593276214e+245,  -8.00197165336822e+304, NaN, NaN, NaN, 1.36845553142777e-48,  -5.17538999909499e+245, 0), x = c(-5.82766743733431e+303, NaN,  NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
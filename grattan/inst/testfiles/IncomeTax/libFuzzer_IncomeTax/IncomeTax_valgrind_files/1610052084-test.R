testlist <- list(rates = c(-1.26836459066847e-30, -4.76141252969079e-33,  -1.26836459270829e-30, 8.81442566340335e-280, -2.82145547645109e-277,  1.67129192517088e-112, -1.26836459270826e-30, 1.00891829368586e-309,  NaN, NaN, NaN, NaN, 3.66343140689406e-305, -2.11967030492847e-289,  -1.26836419890938e-30, 3.78576961503532e-270, 2.8925960194786e-307,  9.70418708481832e-101, 9.70418706716095e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706715965e-101,  -2.67120427074892e+305, 2.84809454421703e-306, 3.78987813636309e-312,  3.65365169083783e-306, 2.8480945455619e-306, 2.566474954367e-301,  3.44511941841516e-314, -2.30331110816477e-156, -6.05390363808932e-157,  -2.30331110816477e-156, -1.32083970121448e-284, -6.64678428256642e-287,  NaN, NaN, -2.60644468696874e+304, -5.66324542991478e+303, 1.28853504983371e-231,  -2.35343652660979e-185, -2.35343736826454e-185, -2.35343736826451e-185,  -9.77580118946814e-150, 5.8536377186878e+170, 5.39907627431893e-310,  NaN, -2.82116819827854e-277, -2.2652729467719e-309, 3.91612999627791e-306,  6.98394321837139e-310, -6.76385741726459e-231, -3.01441881829647e-305,  -1.24267941904771e-267, -7.39330261577608e-287, 8.54517853790596e+194,  3.65190248088492e-306, 2.71984340047916e-312, 2.84809454436e-306 ), thresholds = c(9.21188620376016e-97, -9.21253817446353e-280,  1.23269447171475e-30, -1.26836459270829e-30, 5.5869437297374e-319,  -1.26836407051221e-30, 1.88100416372243e-35, -1.26836459270829e-30,  5.5869437297374e-319, -2.247674815751e-289, -1.24371214513728e-30,  -1.26836459270033e-30, 3.66343140688495e-305, NaN, -3.15108981963701e-248,  NaN, 2.56647495783721e-301, -4.9540049074147e-33, -1.26836459066993e-30,  -1.26836459270829e-30, 8.24445099066359e-312, -9.11306812174856e-306,  8.34402647205924e-310, -7.93443086178592e-308, -2.82116724839022e-277,  2.73729168053678e-312, -1.26418156348545e-30, NaN, -1.23414719310911e-30,  2.56680426183462e-301, -4.9540049074147e-33), x = c(-2.30331110816477e-156,  -1.32083970121448e-284, -2.30331110816477e-156, NaN, NaN, NaN,  7.73071190387239e-12, -5.46354690059075e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, 3.78573811262366e-270, 7.29112072938316e-304,  3.32652954498878e-111, NaN, NaN, NaN, NaN, NaN, 1.38540861198517e-309,  NaN, NaN, -5.48612930076931e+303, -6.1718895773929e+303, -8.22918610319053e+303,  4.46108959687689e-140, 3.60297094497336e-306, NaN, 7.20047258077813e-310,  3.98264587882868e-317, 8.28904605845809e-317, NaN, NaN, NaN,  NaN, NaN, -9.77719780327796e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -2.82126001103731e-277, -1.39408757479111e-309,  -1.24267801634966e-267, NaN, 4.65661287305794e-10, NaN, NaN,  NaN, 1.25986739689518e-321, 0, 0, 1.42873423910284e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, -1.34481107682851e-284, NaN, -7.36331510668791e+303,  NaN, 7.1987099133561e-310, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
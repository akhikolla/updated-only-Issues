testlist <- list(rates = c(-5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, 1.82724810416579e-305, NaN, -8.22918577619206e+303,  4.46108959687689e-140, 3.42882753485303e+304, NaN, NaN, NaN,  5.43230922486616e-312, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),      thresholds = c(-5.46354690059085e-108, NA, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-2.9485516267944e-124, 1.42991746741254e-308,  1.39113377772151e-308, 1.70141080425748e+40, NaN, NaN, -9.00181948337867e+241,  NaN, NaN, 7.29048330221851e-304, -5.54792474493996e+243, NaN,  NaN, NaN, NaN, -5.49989590899971e+303, NaN, 5.54095540936847e-310,  NaN, 6.80897005772458e+38, 3.45541995013247e-260, 1.38526015842948e-309,  0, 2.84809453888922e-306, 0, NaN, -5.06443593276214e+245, -5.17538999909498e+245,  -8.4053447558216e+241, -6.31001569488506e-256, NaN, -2.42479044734714e+260,  1.72723371101884e-77, 9.96833088362555e-306, NaN, NaN, 1.04291228752109e+40,  -2.9211737760363e-124, 2.00124982711409e-256, 1.37437816256454e-309,  NaN, 2.12199579047121e-314, NaN, NaN, NaN, -8.73989987746428e+245,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -8.73989987746428e+245,  -3.23461734531014e+244), thresholds = c(-8.5233227686841e+245,  3.10503470425215e+231, 2.94664509246412e+229, 5.95750278984877e+228,  -1.12557035686127e-256, -3.56544497218912e+304), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
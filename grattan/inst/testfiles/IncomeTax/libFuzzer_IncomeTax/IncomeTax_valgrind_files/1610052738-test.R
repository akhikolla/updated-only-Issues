testlist <- list(rates = c(-Inf, 7.09803712463454e+132, -3.18993527369151e-248,  -2.34976108234296e-159, -2.29449120144681e-156, -2.30331110816477e-156,  6.71548019947827e-310, 2.47192511907948e-94, 1.97518749651964e-317,  NaN, NaN, NaN, -9.77719780327796e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, Inf, -2.82126001103731e-277, -5.82984917116844e+303,  2.62525962216652e-301, -1.48603602465348e-267, NaN, NaN, 7.09803712463454e+132,  -4.42747356485698e+304, 8.28891957765276e-317, 9.70418706357123e-101,  9.70418706716128e-101, 9.70418706716128e-101, 1.39776062458382e-317,  530.000489264727, 4.46108959078265e-140, 3.60297094497336e-306,  -1.06556334613796e-314, 9.7020880290895e-310, -7.39330493781016e-287,  -1.33453641541175e-314, 2.81199573737869e-312, 6.985949593258e-310,  9.37333633526043e-312, -5.78534238436574e-34, -1.26836459270829e-30,  4.33892353296385e-317, 7.00746712868804e-310, 2.85706888870448e-312,  -1.22202102341414e-32, 2.10776830652961e-309, -6.64550662527324e-287,  9.38197868360131e+301, -1.36890628482908e-231, NaN, 7.73071190387239e-12,  1.21044017902795e-305, 7.19919234034436e-310, 3.23790861658519e-319,  0, 0, 3.60739284464096e-313, 2.26527122355628e-318, 0), thresholds = c(NaN,  0, -5.48612407015086e+303, 2.96439387504748e-323, NaN, 7.17719822995867e-304,  -3.01441880984572e-305, -2.8999493091705e-277, -2.96004356739545e-306,  -3.18471904527818e-248, 6.68177101606839e-310, 1.390671161567e-309,  0, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -1.26836459066993e-30,  NaN, NaN, -1.28189897098414e-30, 5.43236936108402e-312, -3.97083461829737e-34,  -1.26836459270827e-30, -2.0562923949346e-289, -1.25152224677666e+306,  3.16202013338398e-322, 3.60739284464096e-313, 2.26527122355628e-318,  0, 7.27929436294622e-310, -2.93988024154063e-306, 1.6211281971343e-319,  2.71615461243555e-312, 5.4169641229678e-307, -1.26836459066993e-30,  -2.35343736826454e-185, -2.35343736825726e-185, -8.11440248256909e-289,  -7.92736885185439e-308, NaN, -5.97027451786473e+306, 1.390652843099e-309,  4.01416959718928e-306, 0), x = c(-9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719778799622e-292,  4.46078843844753e-99, 7.19919233962066e-310, -9.77719778799622e-292,  4.36707825033567e-306, -9.77719778799622e-292, 3.65207087186091e-306,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, Inf, 7.29109420613317e-304,  0, 0, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
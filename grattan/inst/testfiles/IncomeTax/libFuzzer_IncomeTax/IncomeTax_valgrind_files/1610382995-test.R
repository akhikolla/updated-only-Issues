testlist <- list(rates = NaN, thresholds = c(5.95750278984877e+228, NaN,  5.95750278984877e+228, 4.92181730290039e-303, -3.14666783151271e+53,  7.23040374413963e-308, -5.18931555222206e+245, 7.29023199003404e-304,  2.99322901319152e-110, NaN, 7.61849225887202e-321, 0, -6.32699214442659e-256,  NaN, 2.69703288397432e-307, 2.12867277744314e-106, 5.95750278984877e+228,  NaN, NaN, NaN, -6.85765508599211e+303, -8.73989987746428e+245,  -8.50343535984557e+304, NaN, 4.46014903970612e+43, NaN, 5.14674736242857e-312,  NaN, 4.46012139176381e+43, NA, -1.01163270339852e+308, NaN, NaN,  NaN, NaN, NaN, NaN, 5.54095540936847e-310, -1.1255454651159e-256,  6.36595498313783e-313, NaN, 2.33595787804786e-310, -8.53398810812706e+245,  NaN, 5.14674736242857e-312, 1.04294967003024e+40, 5.22277776582315e-10,  3.94212982853162e-259, NaN, -6.3100779998114e-256, -5.75032878056942e+243,  -1.13562063540755e-256, NaN, 7.50962954344995e-308, 1.65249625247277e+40,  -8.73989638052384e+245, -1.12022642773623e+243, -8.73989987741634e+245,  NaN, NaN, 5.95750214105648e+228, 4.0762888235478e+180, 3.94213052632413e-259,  4.17199225776676e-308, 7.10544092057131e-15, 0), x = c(5.95750278984877e+228,  5.95750278984877e+228, 5.95750278984877e+228, 2.15245267172756e-312,  NaN, 3.63183996873719e+180, NA, 1.63335743813925e+40, 3.9374608960985e+92,  4.17199041059827e-308, 4.89613426143778e-299, 5.03402852565284e+226,  NA, Inf, 5.95750278984877e+228, 5.95750278984877e+228, 5.95745073761192e+228,  -8.5233227686842e+245, NaN, -4.55943088768514e-215, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
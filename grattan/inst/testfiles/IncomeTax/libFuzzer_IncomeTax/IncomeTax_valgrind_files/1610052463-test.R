testlist <- list(rates = c(2.84809454421762e-306, -1.05115023175142e-286,  7.7307118769152e-12, 6.98327594525623e-310, -6.05898824717554e-65,  -2.25769487008466e-289, -1.2104401790365e-305, -1.84912323760304e-248,  2.8480945455619e-306, -5.48612677708818e+303, 2.72888655986149e-312,  3.66145950596111e-314, -1.2341419504043e-30, -1.80650535611164e+307,  -9.7757963632732e-150, 2.73729184714066e-312, 1.11604253465019e-314,  3.60446694374285e-305, -9.77941371393343e-150, 2.33246235504083e-12,  -2.15995069167566e-277, -5.69758255001719e-306, 7.29111937478047e-304,  -3.04032340824977e-288, 7.84460841917251e+168, -9.19482644320156e-287,  2.61006680314917e-312, 2.80103704451952e-312, -6.56853897642141e-287,  1.38999208669611e-309, 2.393494597516e-301, NaN, 3.78576699573368e-270,  NaN, NaN, NaN, NaN, NaN, -1.23414682871191e-30, 2.56680426183462e-301,  -1.3752438410368e-307, -2.87903833031139e-306, -8.24519868127501e-157,  -2.30331109514079e-156, -2.30331110816477e-156, -2.30331097358367e-156,  2.66705205377917e-79, NaN, -5.48612677708849e+303, NaN, 7.07039469279248e-304,  7.06416448596898e-304, 3.10907535048312e-312, -7.92736885289052e-308,  3.20144976506838e-314, -1.36890628235454e-231, NaN, 7.73071190387239e-12,  6.98327594525623e-310, -6.05898824717554e-65, -2.25769487008466e-289,  8.74601785371863e-310, 3.652068166337e-306, -9.11378520770331e-306,  2.40060263696258e-300, 5.67865049360052e-270), thresholds = numeric(0),      x = c(6.985949593258e-310, -1.26836459066847e-30, 3.91682458094239e-306,      3.60297094493192e-306, -3.01363922187477e-135, 5.68604456976417e-270,      -8.81443174834308e-280, 3.41641371420455e-312, NaN, 3.56048348188083e-306,      34082834.0004893, -3.04032340824977e-288, Inf, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
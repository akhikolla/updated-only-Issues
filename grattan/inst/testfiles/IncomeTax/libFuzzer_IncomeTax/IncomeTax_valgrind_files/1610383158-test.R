testlist <- list(rates = c(NaN, NaN, -Inf, NaN, -3.23465380139002e+244, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, 6.99830926169978e-126, NaN,  8.96831017076503e-44, -5.7502851316102e+243, 1.38653691272916e-309,  1.70114806571822e+40, -3.31521377423868e+118, 6.55651094312864e-07,  7.29112200597775e-304, NaN, -5.06443593276214e+245, NaN, NaN,  5.94417741721546e+228, -5.76043027219731e+304, NaN, -4.55943088768514e-215,  NaN, -Inf, 3.94212982856897e-259, 1.03277276821128e+40, 3.28459702170213e-299,  NaN, -Inf, 3.33000557011601e-309, 7.50963275955378e-308, 1.59070796007927e-310,  1.6525917826537e+40, NaN, 8.28904556439245e-317, 0, 0, 0), thresholds = c(NaN,  -3.45507950618034e+304, NaN, 1.25986739689518e-321, Inf, -8.22918610319053e+304,  NA, -3.5659806447159e+304, Inf, NaN), x = -5.1071114359872e+245)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-7.06373421489677e-304, 4.03016916411296e-306,  -1.2341419504043e-30, -2.24767481577168e-289, 7.54951658409808e-15,  -3.1315127781037e-294, 3.56047671159453e-306, -8.02506476812756e+304,  1.390652843099e-309, 4.28183424758689e-317, -7.39330388852429e-287,  2.12199579096527e-314, 0, 0, 6.953355807835e-310, -2.67120456398365e+305,  6.97614653673483e-310, -2.11640178818441e-289, 2.87903833578224e-306,  0, 3.24665356017687e-312, 0, -2.29844981641981e-185, 3.55816254229689e-310,  4.08272418357189e-311, 3.60289283426669e-306, -2.30331110816486e-156,  -2.30331110763906e-156, -1.79946180325373e-158, NaN, NaN, NaN,  1.3854086120054e-309), thresholds = c(-9.11378520770331e-306,  2.40060263696258e-300, 5.67865049360052e-270), x = c(7.1706481768425e-310,  2.37192207665604e-103, NaN, NaN, NaN, NaN, -9.88796980779598e-150,  3.23687261230869e-314, NaN, NaN, 2.81199605989981e-312, NaN,  NaN, 2.12199477862476e-314, 0, 0, 0, 9.70418706714725e-101, 9.70418706716128e-101,  9.70418706716128e-101, 2.56647495436511e-301, -3.01363922187472e-135,  -2.30331110816476e-156, -2.30331110816477e-156, -2.29449120144681e-156,  -2.30331110816477e-156, -1.84314079543842e+306, 7.1987099133561e-310,  NaN, 3.78576699573368e-270, 7.29112072938316e-304, -3.04032340824977e-288,  2.72784216611317e-312, 2.64868533186271e-305, -2.82149851225675e-277,  7.19870991012477e-310, NaN, 3.78576699573368e-270, 7.29112072938316e-304,  NaN, NaN, NaN, -2.52435489200526e-29, 3.66343140688495e-305,  7.17065483396996e-310, 1.38788106875732e-309, -3.97083461829737e-34,  -1.26836459270827e-30, -2.0562923949346e-289, -1.25152224677666e+306,  6.23700098582428e+291, 2.06258488060803, 2.11860110022319e-309,  2.36643149187119e-307, 7.09876007659596e+132, -2.05227035158761e-289,  1.88680652875407e-301, -9.77579638205135e-150, 2.71628105277197e-312,  -5.74764672273257e-306, 3.65190389201212e-306, 1.42908288084546e-101,  -2.2469318707895e-289, -1.26836444814554e-30, 3.78576699573368e-270,  -1.26836459270033e-30, -1.24351955275956e-30, -1.26836459270829e-30,  5.20542961913381e-270, 4.00791842552789e-306, 2.34012289634757e-269,  -1.26836459270829e-30, 3.20558539985664e-314, -1.36890628235454e-231,  NaN, 7.73071190387239e-12, 6.98327594525623e-310, -6.05898824717554e-65,  -2.25769487008466e-289))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
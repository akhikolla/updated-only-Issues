testlist <- list(rates = c(4.59113117803173e-303, Inf, NaN, 6.55651541948862e-07,  1.58653735272582e+124, -3.3660338951184e+304, 9.96833088362618e-306,  5.95051785750997e+228, -6.89831694673732e+305, NaN, 7.7710698149671e-305,  -3.1466690181077e+53, -5.82772496869689e+303, NaN, 4.11558861514195e+51,  6.13636390603352e-92, -1.18182170774872e-125, NaN, -1.0770943579485e+217,  NA, -1.56500839841838e-209, -1.45099023620555e+128, -6.3100779998114e-256,  Inf, -8.73989987746414e+245, 2.16443140004399e-312, NaN, -5.10711122518275e+245,  NaN, -6.89831694676614e+305, NaN, NaN, NaN, 0), thresholds = c(NaN,  -5.18931532427042e+245, 2.99939650269535e-241, -8.52012212182047e+245,  NaN, NaN, NaN, NaN, 3.27689286312011e+178, 3.33000555484851e-309,  7.50963275955378e-308, 1.59070796007927e-310, 0, 0, 0, 0, 0,  0, 2.781342323134e-309, 2.82755217285077e-110, 7.2911220195564e-304,  0, 0, 0, 0, 6.953355807835e-310, 0, 0, 0, NaN, 0, NaN, NaN, NaN,  -5.17512497239813e+245, -6.31008200917246e-256, 2.31421397865549e-306,  2.18187977605904e-313, NaN, NaN, NaN, NaN, NaN, 2.23764539047744e-310,  -8.5243896509936e+245, 5.53818599550706e-310, 1.62607068400524e-260,  -2.87893744588218e-63, 6.64149387839465e-07, 1.39113490711204e-308,  3.94212982853777e-259, NaN, -6.3100779998114e-256, 5.95750442228388e+228,  5.90784496692506e+228, NaN, 1.52264858200281e-308, 5.95750279622772e+228,  5.95750279143728e+228, 5.95750278984877e+228, NaN, NaN, NaN,  -6.30948725319357e-256, 7.1177190551809e-304, 4.32185817775748e+43,  7.27118756342016e-240, 1.39631574048471e-309, 1.03230394286533e-255,  NaN, 1.3684555315672e-48), x = c(NaN, -1.52114824882013e-209,  -1.59679227304235e-209, -1.56500839841835e-209, 5.54956328000911e-109,  -2.85341810760082e-63, -5.14874035222493e-246, NaN, NaN, NaN,  1.65276208995896e+40, NaN, 2.12862023882619e-106, NaN, -2.83637103419045e-124,  1.71272844748826e-260, 7.50966246834481e-308, 1.65249625247277e+40,  NaN, 7.2911220195564e-304, -5.48612406879369e+303, NaN, NaN,  NaN, 2.75744471483016e-10, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, -5.17538835488245e+245, NaN, 2.14769183374155e-312, -5.7502851316102e+243,  -8.00197039908648e+304, 2.04840165116337e-296, 4.77072468170829e-299,  4.42846608480635e-107, 7.13615122549739e-09, -5.48746345449538e+303 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
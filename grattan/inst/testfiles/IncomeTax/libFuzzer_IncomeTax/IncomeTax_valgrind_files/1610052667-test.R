testlist <- list(rates = c(NaN, NaN, 7.2903536873204e-304, NaN, NaN, -5.48612930076931e+303,  3.91613007585251e-306, -3.56047810653759e-306, 4.15015142506647e-317,  NaN, -2.30174327470608e-286, NA, -2.87811965578541e-188, 1.94693962620681e-307,  7.19919233907466e-310, -7.55234771438901e-287, NaN, NaN, NaN,  -Inf, -8.81442569611061e-280, 1.67129192517088e-112, -1.26836459270826e-30,  1.00891829368586e-309, 1.25800338602655e-316, 6.98594916584147e-310,  3.65365169082122e-306, 7.54951658409807e-15, -9.88672808293442e-150,  -Inf, -2.35331532831994e-185, -2.35349019634937e-185, 0), thresholds = c(1.67129192517088e-112,  -1.26836459270826e-30, 1.00891829368586e-309, 1.25800338602655e-316,  6.98594916584147e-310, -2.87284999378921e-188, 6.96280449144307e-310,  3.65365168445792e-306, -5.77662200276729e-275, 8.63073241202171e+115,  -2.82116926034698e-277, 3.23785921002061e-319, 0, 0, 0, 5.59610256518376e-275,  -5.48612406879369e+303, NaN, 1.42873559907201e-101, -1.41042199454284e-231,  -9.77579638261926e-150, -5.08189403532328e-306, 3.00089887426119e+284,  0, 4.94065645841247e-324, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, 1.87534617767719e+26, 2.84809549790643e-306, 1.90359856625529e+185,  1.90359856625529e+185, 1.90359856625529e+185, NaN, NaN, 3.66343140689406e-305,  1.90359856625526e+185, 4.00930495881424e-306, -1.26826378018642e-30,  3.94108708470682e-312, 1.86960640333876e+185, 1.90359856625529e+185,  6.53284532952253e-302, -2.97578981950058e-288, -1.25152224678193e+306,  3.78576699573357e-270, 7.29112072938316e-304, NaN, 3.02610044756979e-306,  6.9881578015912e-310, -2.30328334270592e-156, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30331110816272e-156, -5.5516993870748e+306,  4.65661286890991e-10, NaN, NaN, -9.77817400064824e-150, 7.2903536873204e-304,  -4.57615391491265e-246, 2.71615461306795e-312, -4.38889926233518e+306 ), x = NaN)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
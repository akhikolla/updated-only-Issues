testlist <- list(rates = c(1.23269447171475e-30, -1.26836407088752e-30, -1.26836459270829e-30,  2.11057945361079e-309, -2.29827867994584e-185, 9.11389926506012e-306,  3.44571489180014e-94, -2.18056649082045e-289, NaN, 2.7271398649941e-312,  7.14190420369699e-304, 5.43226988934558e-312, 0, 0, 0, 3.60739284464096e-313,  -5.77729739530589e-275, 7.31960296499841e-304, NaN, 6.98147805439749e-310,  -2.67120456398365e+305, 1.39066109167247e-309, 0, 9.70418706714725e-101,  9.70418706716128e-101, 9.70418706716128e-101, 7.91826926828272e-101,  9.70418706716128e-101, NaN, -2.24767623777504e-289, -1.24371214513728e-30,  -1.26836459270829e-30, 3.78576699573368e-270, -1.26836459270033e-30,  -1.24351955275956e-30, -1.26836459270829e-30, 5.20542961913381e-270,  4.00791842552789e-306, 2.34012289634757e-269, -1.26836459270829e-30,  3.94108708470682e-312, 3.65365168451823e-306, -5.48612677708849e+303,  NaN, 7.07039469279248e-304, -2.60644468696874e+304, NaN, NaN,  1.390671161567e-309, 1.08646184484774e-311, 2.85367895277239e-306,  3.83698199955456e+117, -2.30856418206831e-289, 7.84460841922937e+168,  5.85363771868791e+170, -9.77579998268762e-150, NaN, NaN, NaN,  NaN, -3.47306054607043e-164, 7.20267746058957e-304, 2.71502979554261e-307,  -2.26003441595648e-156, -1.12583501772562e-305, -2.30331110816477e-156,  -6.36358120662016e+305, -6.64678428260241e-287, NaN, NaN, -2.60644468696874e+304,  -5.66324542991478e+303, 535.215686270779, -1.26836459127945e-30,  -2.26527294677216e-309, 6.95335622230658e-310, 3.83698281198602e+117,  -6.92926965697143e-231, 2.33589379519439e-310, NaN, NaN, -1.26836459270829e-30,  -7.2239847844844e-287, 4.94065645841247e-324, -2.29827868269844e-185,  6.65988378995207e-310, 2.22507386265736e-308, NaN, 2.94024551642532e-306,  3.83698199955456e+117, 7.29069965756742e-304, 0, 0, 0, 2.3641409746639e-308,  1.48456814906984e-313, 3.9191047797502e+202, -2.18028465462708e-289,  534.645996093779), thresholds = c(NaN, -9.37438000465967e-287,  2.61006680314917e-312, 5.4323092248711e-312, 0, NaN, NaN, NaN,  NaN, NaN, -Inf, NaN, NaN, NaN, 5.59680771923404e-275, 3.9091312761673e+304,  -7.39330443971544e-287, 9.70418706714725e-101, 9.69721082575941e-101,  9.70418706566434e-101, 9.70395179000033e-101, 9.70418704587148e-101,  9.70418706716128e-101, 2.72711013083896e-312, 7.14190420369699e-304,  2.84878986943505e-306, 1.47812115956268e+282, -1.25152205320375e+306,  2.60187727435827e-259, 2.84814071376889e-306, 3.83698199955456e+117,  -3.67206769523307e-306, 2.22507591834078e-308, -9.77580118946814e-150,  5.74181509249131e+199, -1.74151858706142e-248, 7.20047258077813e-310,  3.98264587882868e-317, 8.28904605845809e-317, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, 3.80050275066437e-311, -3.18411881985831e-248,  7.19919234070053e-310, 9.70418706716128e-101, 9.70418696071228e-101,  7.55652533908718e-308, 9.70418706357123e-101, 9.70418706716095e-101,  NA, 9.70418706716128e-101, 5.84082107599116e-308, NaN, NaN, 3.94108708470682e-312,  0), x = c(4.65661203714475e-10, -5.46354474764561e-108, NA, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46310509567581e-108,  -5.46354690059085e-108, -5.46354690059085e-108, 4.94065645841247e-324,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  NaN, NaN, -9.7781740006482e-150, 7.2903536873204e-304, NaN, NaN,  5.43230922486616e-312, -9.77580118946814e-150, 7.29112485532916e-304,  1.11253692096455e-308, 1.95563101336488e-310, NaN, 1.3854086120054e-309,  -2.87284973051527e-188, -2.35343736826454e-185, -2.353436891546e-185,  -2.35343736826454e-185, NA, -9.77580118946814e-150, 2.33246235504083e-12,  -1.0655633224228e-314, NaN, NaN, NaN, 1.75642283882248e+156,  1.75642283882248e+156, 7.2911220195564e-304, NaN, NaN, 2.56647495436058e-301,  -2.18103493600849e-289, 2.94863844478765e-306, -6.76385741726459e-231,  -3.01441881829647e-305, -1.24267941904771e-267, NaN, NaN, NaN,  NaN, -7.40367110377773e-171, 1.39338739894421e-309, 7.2911264061461e-304,  6.99733211296544e-310, 2.72974914124656e-312, -2.30331099970595e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110816476e-156,  -1.74162172576442e-248, 1.75642283882248e+156, 1.0901524470015e+217,  7.52702515417832e-304, -9.77579636319873e-150, NaN, NaN, 3.65365169504459e-306,  7.54951658409807e-15, 7.29112135736202e-304, -2.11966640218428e-289,  -5.81608789291487e-34, -1.26836459270829e-30, -8.81443176193936e-280,  2.94024280027095e-306, 3.83698199955456e+117, 7.29069965756742e-304,  7.09876007659596e+132, -2.05227035158761e-289, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
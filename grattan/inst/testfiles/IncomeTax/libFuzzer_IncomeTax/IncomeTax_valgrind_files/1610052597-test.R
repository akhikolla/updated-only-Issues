testlist <- list(rates = c(-5.48612677708849e+303, NaN, 7.07039469279248e-304,  1.08601191822354e-306, -2.28998945498072e+226, -2.2899894549927e+226,  -1.73777003036691e+308, -5.82900230650667e+303, NaN, NaN, NaN,  -2.05603404907883e-289, 1.06243882805742e-314, 0, 1.93515632163099e-319,  2.84809453888922e-306), thresholds = c(7.19919234074421e-310,  7.51896958273426e-304, 8.54518060195055e+194, 2.29775642758296e+189,  4.36706738030935e-306, 4.51536703862195e-10, NaN, NaN, NaN, 1.25986739689518e-321,  7.07039469273943e-304, -2.60644468696874e+304, -5.66324542991478e+303,  2.84809454421703e-306), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = numeric(0), thresholds = numeric(0), x = c(0, 1.63335743813925e+40,  8.74079907220133e-313, NaN, NaN, 2.21386317669016e-80, 3.94212982868299e-259,  -5.21181786535375e+304, 4.45998517039374e+43, 1.44173486706794e-308,  -8.5243896509936e+245, -1.45094702117414e+128, -1.1818685957232e-125,  7.29111854342396e-304, -6.03473647566956e+304, NaN, NaN, -8.73984151612225e+245,  1.02091924732161e+40, 1.39612141990943e-309, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
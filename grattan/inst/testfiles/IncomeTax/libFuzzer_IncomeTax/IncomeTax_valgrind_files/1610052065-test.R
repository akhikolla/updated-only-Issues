testlist <- list(rates = c(4.00930495879766e-306, 5.85363771866079e+170,  8.62805110310557e-307, 5.85363594144907e+170, -2.10901416965392e-312,  -2.3341211589877e-159, -6.64678428257378e-287, -5.463546900558e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, NaN, Inf, 7.17409704831333e-304,  -2.11840698478085e-289, 1.24351972100265e-13, 7.2903536873204e-304,  NA, -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, 1.82724810416579e-305,  NaN, -8.22918577619206e+303, 4.46108959687689e-140, 3.42882753485303e+304,  -4.57671146818735e-246, NA, -4.80091361448088e-63, -3.04032340824977e-288,  7.84460841917251e+168, 2.81218450794511e-312, 0, 0, 1.09415509551544e-314,  -5.48612407015086e+303, 2.96439387504748e-323, -7.39330193354573e-287,  NaN, NaN, NaN, NaN, 6.98051735398461e-310, -6.76385741726459e-231,  -9.37438226425171e-287, 7.29112201955619e-304, -2.11966640218428e-289,  -5.81608789291487e-34, -1.26836459270829e-30, -8.81443176193936e-280,  1.91697470586404e-321, -2.87284972623436e-188, 2.36726998478986e-306,  1.28823036902996e-231, 0), thresholds = NaN, x = c(1.03878561526026e-13,  NaN, -2.82116925945693e-277, -9.77719387587134e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, 4.95224540605997e-303,  1.21044018122494e-305, -2.05226841231125e-289, NaN, NaN, -5.48612677708849e+303,  NaN, NaN, 8.28904161186728e-317, 0, 0, 0, 9.70418706716122e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, -5.82789329454073e+303, -5.82900681339507e+303,  2.65985899590435e+277, 1.10313045262037e+217, -6.64678428260256e-287,  -9.77719387575468e-292, -9.77719780333789e-292, -2.30331110816476e-156,  -2.30331110816477e-156, 2.93753105541517e-306, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
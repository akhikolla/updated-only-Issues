testlist <- list(rates = c(NaN, 2.15473329716753e-312, NaN, 2.05820328400481e+183,  3.94213052632413e-259, 1.97498519159721e+166, 1.21467875813798e+248,  1.68048229123576e+117, 6.36595216459214e-313, -1.96654331910306e+242,  7.50996086258245e-308, NaN, 6.64032995703601e-07, 1.39113490711204e-308,  2.33589462449573e-310, -1.12554546352376e-256, NaN, 4.31753057173121e-304,  7.29023212965317e-304, NaN, NaN, NaN, -6.6711268517937e+306,  NaN, -6.03399562792512e+304, -6.67112686765311e+306, -5.17539168553204e+245,  NaN, -8.72554259643048e+245, -8.50343535984557e+304, NaN, -3.23461994037911e+244,  NaN, 1.09014712354713e-305, 1.08729904423278e-311, NaN, 1.65249624504117e+40,  3.70351608122598e-320, 0, 0, 0, 0, 0, 0), thresholds = -7.45564260949051e+307,      x = c(NaN, 2.21386317669016e-80, 3.94212982868299e-259, -5.21181786535375e+304,      4.45998517039374e+43, 1.44173486706794e-308, -8.5243896509936e+245,      2.44394864183682e-148, 6.64032995703588e-07, 1.39113490711204e-308,      -1.1255454651159e-256, 2.28135770725662e-310, NaN, 5.95750442224183e+228     ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
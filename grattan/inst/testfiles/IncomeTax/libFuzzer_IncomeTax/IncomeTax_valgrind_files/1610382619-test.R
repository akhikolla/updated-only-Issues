testlist <- list(rates = c(1.39804328609529e-76, 1.39804328609529e-76, 1.39804328609529e-76,  1.39804328609529e-76, 1.39804328609529e-76, 1.39804328609529e-76,  NaN, NaN, 3.94212982853162e-259, 5.95718343413698e+228, 5.95750278984877e+228,  4.73791139586999e+226, 5.95750278984877e+228, 5.90784496692506e+228,  NaN, 1.52264858200281e-308, 5.95750279622772e+228, 5.95750279143728e+228,  5.95750278984877e+228, 4.77830972972681e-299, 2.82755217285071e-110,  NaN, 3.23785921002061e-319, 5.54095540613061e-310, NaN, NaN,  -1.37153101719842e+305, 4.46014903970612e+43, -8.4070565483332e+304,  1.42943179159788e-101, NaN, 6.64032995703601e-07, 3.6558835941525e+233,  4.71235854849405e+257), thresholds = c(NaN, 7.86647319376701e-317,  0, 2.14321574887493e-312, NaN, 3.63183996873719e+180, 1.46900210268585e-101,  1.63335743813925e+40, 3.9374608960985e+92, 4.17199041059827e-308,  4.89613426143643e-299, 5.03402852565284e+226, NaN, -5.17539065026827e+245,  6.06452379804964e+228, 5.95750278984877e+228, 5.95745073761192e+228,  -8.5233227686842e+245, NaN, -4.55943088768514e-215, NaN, -8.73941206645068e+245,  3.2768645786105e+178, 2.78348553888541e-309, 7.50963275955378e-308,  -5.188549907293e+245, NaN, 5.95792084008617e+228, NaN, NaN, 2.75744471483016e-10,  NaN, 3.24181196729963e+178, 3.94213052634217e-259, -8.23127053862787e+304,  NaN, 1.13195988485334e-72, 9.42907769216816e-307, -5.49989590899971e+303,  -7.74518381527211e-121, -1.56500772916558e-209, -1.56500888340179e-209,  3.0667174096201e-07, 1.39804328952071e-76), x = -3.70313374643411e+304)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
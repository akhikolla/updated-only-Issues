testlist <- list(rates = c(1.70257006040729e-313, -3.9759940224262e-34, -1.26823100659151e-30,  1.2742376682359e-314, 0, 2.47192511529492e-94, -3.18455528907644e-248,  2.72780477022514e-312, -2.30331110773024e-156, -2.30331110816477e-156,  -1.12583501772562e-305, -2.30331110816477e-156, 8.54548482416385e+194,  -3.01627439281425e-289, 8.30580772955891e-317, -1.05648156144933e+270,  NaN, -9.77719780327796e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -2.1810352660454e-289, -9.77619237190017e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, 9.70466856460705e-101,  -9.77580118946814e-150, 3.23687261230869e-314, NaN, NaN, 2.81199605989981e-312,  NaN, NaN, 2.12199477862476e-314, 0, 0, 2.47192511527748e-94,  -9.37438000465967e-287, 9.70462216627452e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 7.10169581022479e-304,  7.29112036975772e-304, -4.25898787020039e-270, NaN, -3.07840260097373e-288,  -3.07800176730183e-288, NaN, NaN, 4.46108959687713e-140, 3.60297094497336e-306,  -3.18411881987264e-248, 1.80354409094537e-130, 1.55571390562492e-319,  3.23790861658519e-319, NaN, NaN, NaN, NaN, NaN, 8.63073241202193e+115,  -2.82116926034698e-277, 3.23785921002061e-319, 0, 0, 0, 5.59610256518376e-275,  3.78320825121904e+117, -2.82116926035288e-277, 6.95356800417634e-310,  -3.97279473897749e-34, 5.67865050383217e-270, -2.08934551532475e-289,  6.95346191085594e-310, -6.56725888211742e-287, 6.96279910522665e-310,  0, -1.24351955275123e-30, 2.97723608048101e-306, 3.48019937561909e-312,  -3.01363922187463e-135, -2.82151061724581e-277, 5.73716459465271e+170,  5.85363771868791e+170, 1.21044018067558e-305, 5.85363771868791e+170,  5.74181509249139e+199, -2.11852534547717e-289, 8.62216120171516e-308,  2.34012289634757e-269), thresholds = c(-2.87285026134096e-188,  -5.66362677157793e+303, NaN, NaN, 7.74509271353833e-304, -3.01363922187472e-135,  -2.30331110816476e-156, -2.30331110816477e-156, -2.29449120144681e-156,  -2.3031688516048e-156, -1.84314079543842e+306, 7.1987099133561e-310,  NaN, 3.78576699573368e-270, 7.29112072938316e-304, -3.04032340824977e-288,  -2.84809454423549e-306, -8.69169477600504e-311, -2.82149851144155e-277,  7.19870991012477e-310, NaN, 3.78576699573368e-270, 7.29112072938316e-304,  NaN, NaN, NaN, 156866969410, 156842099844.518, 156842099844.518,  156842099844.518, 156842099844.518, 156842099844.518, NaN, NaN,  40810577919.8145, 156842099844.518, 156842099844.518, NaN, NaN,  NaN, NaN, -5.66324542991478e+303, -8.22918610319039e+303, 4.46108959687689e-140,  -1.4044477613455e+306, NaN, 7.2911220195564e-304, NaN, 1.09850969871574e-314,  -8.81442566346662e-280, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30327665540415e-156, -2.30331110816477e-156, 1.39348334627508e-309,  -9.77580118946814e-150, 5.8536377186878e+170, 5.39907627431893e-310,  NaN, NaN, NaN, NaN, NaN, -8.59702596077467e-171, -7.92736885185452e-308,  2.4719252581509e-94, -1.26836459270828e-30), x = c(-4.63468064771798e+158,  -4.63468064771798e+158, -4.63468064771798e+158, 2.77448001762435e+180,  -4.63467862668811e+158, -4.63468064771798e+158, -7.39330192658862e-287,  5.85318274554714e+170, 5.85363771868791e+170, 7.84460841921515e+168,  NaN, NaN, NaN, NaN, -7.40507430179044e-171, 2.8487888201287e-306,  7.10591798586467e-15))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
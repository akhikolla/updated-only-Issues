testlist <- list(rates = c(-1.24281111519981e-267, 2.47229315721747e-94,  -9.37438000465967e-287, 2.61006680314917e-312, -1.42447098956418e-305,  -8.24519868127501e-157, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331097358367e-156, -2.30331110816477e-156, NaN, -5.48612677708849e+303,  NaN, 7.07039469279248e-304, -2.60644468696874e+304, -5.66324542991478e+303,  2.84809454421703e-306, 3.78987813636309e-312, 3.65365169083783e-306,  -5.48612677708849e+303, NaN, 7.07039469279248e-304, -2.60644468696874e+304,  NaN, NaN, 1.390671161567e-309, 2.47251032482168e-94, 7.10464176604426e-304,  -2.44618987567313e-306, 1.2914534758053e-231, -2.82171693951703e-277,  5.73716459465271e+170, 5.85363771868791e+170, 1.21044018067558e-305,  NaN, NaN, -5.48746345455267e+303, NaN, NaN, -5.02570917414969e+306,  6.37328271834745e+40, 1.0451773909944e-308, 2.85706888870448e-312,  2.56647495436138e-301, -3.01363922187472e-135, -2.30331110816476e-156,  -2.30331110816477e-156, -2.29449120144681e-156, -2.30331110816477e-156,  -1.84314079543842e+306, 7.1987099133561e-310, NaN, 3.78576699573368e-270,  -5.96890566561937e+306, -2.25769487008478e-289, 3.65207086127239e-306,  NaN, NaN), thresholds = c(NaN, 4.36428616530596e-306, -Inf, 3.65784678046935e-306,  1.01955734498014e-314, NaN, -5.48612406879369e+303, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -1.26836459351501e-30,  -7.92737104019594e-308, 0, 8.31143311405278e-310, 0, NaN, -1.06597124722923e-314,  -2.11852534546502e-289, -3.07840103521725e-288, 2.71598149218577e-306,  -1.26836459270228e-30, -2.97899585033467e-288, 7.17078165637466e-310,  1.38788106875732e-309, 5.67154552427533e-310, NaN, NaN, -1.05658906227133e+270,  3.23785921002061e-319, 0, 0, 0, 2.64121166339307e-301, -3.66343140688494e-305,  5.99013094068261e-317, -1.26836459057627e-30, 4.00791842552789e-306,  -1.26826829408472e-30, 2.40086640681612e-300, 5.67865049360052e-270,  3.94108708383232e-312, 1.2580167389864e-60, -5.66365833706557e+303,  -2.69092032456518e+305, NaN, 1.39067116156574e-309, 3.56048353890995e-306,  -1.23416654681114e-30, -1.26836459270829e-30, -7.2239847844844e-287,  4.94065645841247e-324, -2.29827868269844e-185, 6.65988378995207e-310,  2.22507386265736e-308, NaN, 2.94024551642532e-306, 3.83698199955456e+117,  7.29069965756742e-304, 2.81218450745104e-312, 0), x = c(6.86401952700068e-304,  6.26856102152098e-154, 6.11401077465822e-312, 1.27941831743997e-307,  2.332463439243e-12, -5.46299574661055e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.35044484234063e-108, -8.92633597956086e-280, 5.14291266319241e+25,  -5.46354679730546e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, 3.78573811262366e-270,  7.29112072938316e-304, 3.32652954498878e-111, NaN, NaN, NaN,  NaN, 3.78576700315105e-270, 1.00666897792269e-309, 1.21044182572191e-305,  -5.21531605337707e+73, 4.00418096495124e-306, 530.000489264742,  4.46108959078265e-140, 3.60297094497336e-306, 3.75990818875151e+175,  1.09850957322306e-314, 4.94065645841247e-324, 0, 0, -5.48612407015086e+303,  2.96439387504748e-323, 3.91612999627774e-306, -2.67120485170339e+305,  1.39066109491038e-309, 0, -2.29602087786811e-156, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30331110763906e-156))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
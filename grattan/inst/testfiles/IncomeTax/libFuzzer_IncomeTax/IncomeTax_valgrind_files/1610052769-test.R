testlist <- list(rates = numeric(0), thresholds = c(NaN, NaN, NaN, 1.42891481127931e-101,  9.70418706716128e-101, 1.95128366347825e-187, 2.34505333126984e-310,  3.56048353890995e-306, 2.81218450807356e-312, 7.55038392918931e-15,  3.60253364406077e-306, 2.53797526242961e-306, 1.00004256887018e-100,  9.70418706716128e-101, 7.91826926828272e-101, Inf, NaN, 7.29069965756742e-304,  -Inf, 0, 3.56048353890995e-306, 2.3641409746639e-308, Inf, 3.9191047797502e+202,  -2.18028465462708e-289, 534.645996093779, 0), x = c(-9.1139025244453e-306,  NaN, -3.53492796493266e-147, 7036874417766.28, -2.35343736826454e-185,  7.17736025324585e-310, 8.63073241196414e+115, -2.82116926034698e-277,  6.98403937286746e-310, 1.09417026925955e-314, -7.92736886014344e-308,  7.32777351951478e-15, 2.73729184714066e-312, 1.11604253465019e-314,  3.60446694374285e-305, -9.77941371393343e-150, 2.33246235504083e-12,  -2.15995069167566e-277, -5.69758255001719e-306, 7.29111937478047e-304,  -3.04032340824977e-288, 1.13160106993595e-314, NaN, 3.90913260051113e+304,  -1.36573625663878e-151, -6.70526049403506e-249, 7.20047258077813e-310,  NaN, 1.56831257959387e-319, 3.23790861658519e-319, 7.10591798582266e-15,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 3.94108708470682e-312,  2.71598149218577e-306, NaN, -5.48612677708849e+303, NaN, 3.64967956934013e-305,  NaN, NaN, NaN, NaN, 3.66343140689406e-305, -2.11967030492847e-289,  2.81218450807356e-312, 7.55038392918931e-15, 3.60253364406077e-306,  2.53797526242961e-306, 1.00004256887018e-100, 9.70418706716128e-101,  7.91826926828272e-101, 9.70418706716128e-101, NaN, 7.29069965756742e-304,  0, 0, 0, 2.3641409746639e-308, 1.48456814906984e-313, 3.9191047797502e+202,  -2.18028465462708e-289, 534.645996093779, -1.24281111519981e-267,  2.47229315721747e-94, -9.37438000465967e-287, 2.61006680314917e-312,  5.4323092248711e-312, 0, NaN, NaN, NaN, NaN, NaN, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-1.26823091051179e-30, 7.22857562968275e-304,  7.73070496507011e-12, -8.81442989915646e-280, -1.26834825275039e-30,  1.53948714210656e-314, -1.26836404691013e-30, -2.82145547645118e-277,  -1.2437121450743e-30, -1.26836459270829e-30, 3.78576699573368e-270,  1.00891829346111e-309, 1.21044182572191e-305, -5.21531605337707e+73,  4.00418096495124e-306, 530.000489264742, 4.46108959078265e-140,  3.60297094497336e-306, 3.75990818875151e+175, 1.09850957322306e-314,  0, 0, -5.48612407015086e+303, 2.96439387504748e-323, 3.91612999627774e-306,  -3.56047810653759e-306, 2.22507386265735e-308, 2.71615461308772e-312,  3.65365168445543e-306, 9.70418706716122e-101, 9.7041598162183e-101,  9.70418706715543e-101, 9.70418614810987e-101, 9.70418706707811e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706674546e-101, 3.83687416993436e+117, NaN, NaN, NaN,  NaN, -8.81442566346712e-280, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30327665540415e-156, -2.30331110816477e-156, 2.01890044860109e-319,  3.23790861658519e-319, NaN, 7.00767890008367e-310, -4.93185008441161e-31,  -2.11940804072451e-289, 2.00877667922351e-139, 2.00877667922349e-139,  5.41494177254505e-312, -7.92633112956698e-308, 3.29333779946374e-311,  -8.81442566346662e-280, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30327665540415e-156, -2.30331110816477e-156, -1.24371214514442e-30,  -1.26836459270033e-30, 2.73154948385661e-312, 2.00877703195536e-139,  2.00877667922349e-139, -4.18002442595755e+304, -2.38677000418437e-253,  1.29145347579917e-231, 6.96279910522695e-310, -1.09415610340935e-314,  1.26822404694409e-314, 0, -9.11307071058342e-306, 1.38990724308225e-312,  1.59481413420777e-313, 7.18370196731299e-310, -5.46299742163838e-108,  7.19919234122054e-310, 5.85363771174557e+170, 5.85363771868791e+170,  6.15509973953287e+170, -2.298278682707e-185, -2.35343736826454e-185,  -2.35343736640235e-185, 7036874417766.4, 2.80365634892121e-312,  -1.27817791647132e-278, 6.98403937286746e-310, -5.65756544598341e+303,  2.81199605989981e-312, NaN, -5.97027451786473e+306), thresholds = c(-2.35343736825726e-185,  NaN, -2.84809453891067e-306, 2.6016696778886e-259, -9.79026776576683e-150,  6.96078362200794e-310, 2.72974914124656e-312, -2.30331099970595e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110816476e-156,  NA, -3.0784026009623e-288, -5.82900159111783e+303, NaN, 7.07039469279248e-304,  -2.60644468696874e+304, -5.66324542991478e+303, 2.84809454421703e-306,  3.78987813636309e-312, 3.65365169083783e-306, 7.19870991215458e-310,  NaN, 3.78576699573368e-270, -3.07840201993141e-288, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -5.02570917414969e+306,  6.37328271834745e+40, 8.49005764470339e-275, -2.35343736826449e-185,  7.29069965756742e-304, -9.77719780333766e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -7.39330276865421e-287,  NaN, -1.48508910633323e-267, NaN, 3.0261004475697e-306, -2.35343736825169e-185,  -5.34349793087407e-187, -2.35343736826454e-185, 2.80365634892121e-312,  1.61328734115371e-307, 0, 9.6439561139442e-101, -2.35322190464901e-185,  -2.35343736826454e-185, -2.35343736825726e-185, -8.11440248256909e-289,  0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
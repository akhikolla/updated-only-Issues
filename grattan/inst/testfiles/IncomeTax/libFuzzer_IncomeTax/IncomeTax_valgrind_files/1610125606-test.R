testlist <- list(rates = c(1.25542034707731e+58, 3.83698292462809e+117, NaN,  1.38470701984657e-300, 2.72311959207815e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.68253351016138e-82, 2.90060199163122e-144), thresholds = c(-Inf,  NaN, 1.00128323634119e-307, -Inf, 0), x = c(NaN, -Inf, NaN, 1.61013452731574e-24,  1.08628761321515e-306, 4.14452302922905e-315, NaN, -3.38084262461866e+221,  -3.38084306011397e+221, -3.38084306397821e+221, NaN, -7.21232445132047e+304,  -7.21232445132069e+304, NaN, -Inf, -1.92773642820793e+304, 2.20008523587725e-309,  -1.52087325303613e-209, -1.85133727361007e+304, 2.77448001761251e+180,  2.77448001762435e+180, 2.77448001762435e+180, 5.50814852228496e-310,  2.774480017621e+180, 7.29112201952415e-304, 4.14452302922905e-315,  NaN, -3.38084262461866e+221, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-5.46354552171703e-108, -5.46354690059085e-108,  -5.46354690059085e-108, 1.60559212927429e-146, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, 6.98935817093314e-310,  2.71984339982699e-312, 1.81570861821598e-305, -2.30880195073034e-289,  8.30580772955891e-317, -1.05648156144933e+270, 2.56647495438769e-301,  -3.01363922187472e-135, -2.30331110816476e-156, -2.30331110816477e-156,  -2.29449120144681e-156, 3.65207087186085e-306, -5.46354690059072e-108,  -5.46354690059085e-108, -1.26836459270757e-30, 3.78576699573368e-270,  -1.26836459270033e-30, -1.24351955275956e-30, -1.26836459270829e-30,  -1.42447098956418e-305, -8.24519868127501e-157, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30331097358367e-156, -2.30331110816477e-156,  NaN, -5.48612677708849e+303, NaN, 7.07039469279248e-304, -2.60644468696874e+304,  -5.66324542991478e+303, 2.84809454421703e-306, 3.78987813636309e-312,  2.39445717210748e-301, -2.1810342605841e-289, -9.77619237190017e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292), thresholds = c(-5.46354690059085e-108,  NA, -Inf), x = c(2.62033307369728e-312, -8.81442988748469e-280,  -2.3033111077411e-156, -2.30331110816477e-156, -1.12583501772562e-305,  3.02610044357545e-306, 1.47812115956268e+282, -1.25152205320375e+306,  -5.46299574661044e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.35044484234063e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, NaN, 1.38540861198517e-309,  NaN, 2.4692825284287e-94, 3.30024659392713e+304, NaN, NaN, 2.54682965097791e-94,  NaN, -3.13853544121736e-159, NaN, NaN, NaN, NaN, 7.73071190387239e-12,  NaN, NaN, -2.97619079751548e-288, -2.11852534546505e-289, -1.12938928206253e-287,  6.23700098582428e+291, 2.06258488060803, 2.56647495436053e-301,  -3.01363922187472e-135, -2.30331110816476e-156, -2.30331110816477e-156,  -2.29449120144681e-156, 3.65207087186085e-306, -5.46354690059072e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690056452e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, 9.70398485297548e-101, 9.70418706716128e-101,  7.10169581022479e-304, 7.29112036975772e-304, -4.25898787020039e-270,  NaN, NaN, -4.00791840978874e-306, 2.9621337120295e-306, -9.88672059120357e-150,  1.34993253116851e-309, -2.30331110816473e-156, -2.30331110816477e-156,  -2.35343652660979e-185, -2.35343736826454e-185, -2.35343736826451e-185,  -7.12492062436982e-277, -4.27803982342683e-317, -5.46319390889384e-108 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
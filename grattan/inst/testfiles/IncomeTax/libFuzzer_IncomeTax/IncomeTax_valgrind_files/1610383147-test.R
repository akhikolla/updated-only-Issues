testlist <- list(rates = c(3.24181196729963e+178, 3.94213052632413e-259,  -8.23127053862787e+304, NaN, -3.01223699592253e-257, NaN, 2.75744471527062e-10,  -8.73989987746427e+245, NaN, NaN, 9.96833088362619e-306, NaN,  -1.06559867695611e-255, NaN, NaN, NaN, 6.60774410574276e-304,  3.20876125492599e-294, -3.07268513826713e+54, NaN, NaN, 1.08729903867602e-311,  2.33589462432972e-310, -2.83637110188085e-124, NaN, 3.94213053597784e-259,  2.11208114594975e-106, 0, 0, 6.953355807835e-310, 0, 6.80566031916092e+38,  -3.42882754530428e+304, NaN, NaN, NaN, 2.78134248891492e-309,  3.32653202075055e-111, -1.29209058969158e+241, 5.48663397620648e-310,  9.36221001849402e-97, -8.73989987746428e+245, 9.34531023086085e-307,  1.42991673003805e-308, NaN, NaN, -5.69193919251524e+243, NaN,  -1.99675872406599e+242, -5.18931555224442e+245, NaN, 1.18495754800529e-303,  7.29112201950335e-304, -8.52332276868434e+245, 1.42991535880133e-308,  -5.65757067791911e+303, NaN, NaN, -5.0644359327619e+245, NaN,  1.09366830293346e-302, 9.79032497743166e-307, Inf, NaN, -5.17495827121042e+245,  NaN, 4.46012139176381e+43, NaN, -7.95487989975085e+304, NaN,  NaN, 2.05236116102036e-289, 0), thresholds = c(-1.41695306718651e+241,  -6.17189480930802e+303, 3.14702224563189e+53, -5.18072609706095e+245,  -3.24332222015276e+244, -8.4081278156482e+304, NaN, 5.76219018971691e+152,  1.02096057281307e+40, -1.08634712587687e-311, NaN, 2.28135808933167e-310,  NaN, NaN, NaN, 3.31037120340039e-28, 3.3103697155251e-28, 3.3103697155251e-28,  3.3103697155251e-28, 3.3103697155251e-28, 3.3103697155251e-28,  3.3103697155251e-28, 3.3103697155251e-28, 3.3103697155251e-28,  3.3103697155251e-28, 3.3103697155251e-28, 3.3103697155251e-28,  3.3103697155251e-28, 3.3103697155251e-28, 3.3103697155251e-28,  -5.10710821720906e+245, -5.1893155522444e+245, 4.64991477501782e+279,  5.58561222671114e-311, NaN, 1.02084710077866e+40, -5.49952239281811e+303,  NaN, -5.48612614406437e+303, 3.10501686136498e+231, NaN, NaN,  5.94417741721546e+228, -5.76043027219731e+304, NaN, -4.55943088768514e-215,  NaN, -5.17512497239813e+245, NaN, 5.14674736242857e-312, 1.04294967003024e+40,  6.55651093230126e-07, -5.48612405857659e+303, 3.30345356134936e-304,  -3.61301071222328e+306, NaN, 9.36270038563636e-307, 1.08729903862711e-311,  2.33589462432972e-310, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN), x = NA_real_)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
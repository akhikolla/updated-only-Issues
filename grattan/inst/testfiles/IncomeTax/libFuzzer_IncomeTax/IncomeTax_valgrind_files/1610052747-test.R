testlist <- list(rates = numeric(0), thresholds = 0, x = c(-1.84314079543842e+306,  NaN, NaN, -1.03867836358987e-149, 8.29654800037092e-114, 2.69783297758772e-109,  3.59535147836283e+246, 8.82893744750688e+199, 1.06399915181779e+248,  1.1461546353604e+247, 2.63991702843853e-139, -1.07730311469198e-108,  -5.46354690059075e-108, -5.46354690059085e-108, -2.30331110816272e-156,  -5.46354690059085e-108, 9.70418976019564e-101, 9.70418614810987e-101,  9.70418706707811e-101, 9.70418706716128e-101, NaN, 9.70418706716128e-101,  -5.46313597590992e-108, -5.46354690059085e-108, NaN, 9.34506491112388e-97,  -3.72626152437281e+304, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
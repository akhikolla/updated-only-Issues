testlist <- list(rates = c(0, 0, 0, 0, 0, 0, 3.92660099062145e-310, NaN,  1.25986739689518e-321, 0, 0, 0, 0, 0, 0, 0, NaN, -3.23461994037922e+244,  NaN, NaN, NaN, -6.3089906293353e-256, -5.06443593198239e+245,  3.05175781249887e-05, -1.29287484775418e+164, NaN, NaN, -5.10711143681407e+245,  -5.1893155522444e+245, 4.64991477501782e+279, 5.58561222671114e-311,  NaN, -5.10711122518275e+245, 1.06559867684944e-255, 3.94212982853171e-259,  2.82820116936561e-110, 1.36845553155725e-48, -5.17538999909499e+245,  NaN, 5.54533937832579e+131, -8.73989987746408e+245, NaN, 5.94417742655427e+228,  -5.76043027219731e+304, NaN, -4.55943088768514e-215, NaN, 2.21391465226605e-80,  3.94212982856897e-259, 1.03277276821128e+40, 3.28459702170213e-299,  -5.82982301129014e+303, NaN, 6.64032995703601e-07, 1.39113490711204e-308,  -1.1255454651159e-256, NaN, NaN, NaN, -4.95668081957698e+245,  -5.82900682308922e+303, -8.52438965099359e+245, -8.72554259640141e+245,  -6.17189479381467e+303, 1.70114806592428e+40, -3.31521377423868e+118,  6.55651094312864e-07, 1.52973615606093e-308, NaN, -6.03473647567306e+304,  -6.67112686765311e+306, 7.00659668223031e-308, 1.36845553156717e-48,  -5.06443423893187e+245, -5.17538999909498e+245, -4.82778918053845e+305,  NaN, -5.49989589581548e+303, 2.11208114594975e-106, NaN, NaN,  -2.88021513611669e+304, 8.73189386359976e-308, NaN, 1.65249624504117e+40 ), thresholds = numeric(0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
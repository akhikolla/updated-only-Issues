testlist <- list(rates = c(-2.87301548075352e-188, -2.35343736826454e-185,  7.29113078187118e-304, -1.21058385087498e-305, 2.9621337120295e-306,  -2.2962031506993e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110763906e-156, -2.30331110816477e-156, NaN, NaN, NaN,  1.3854086120054e-309, NaN, NaN, 6.95335580946088e-310, -2.87285026134096e-188,  -5.66362677157793e+303, NaN, NaN, 1.3854086120054e-309, NaN,  NaN, NaN, 5.43230922486616e-312, 1.38712742859608e-309, -1.06447548473127e-314,  9.70395451509457e-101, -1.36747558822812e+306, -2.87297714013594e-188,  NaN, -2.30174327470608e-286, 1.44838919828424e+147, 1.63321133412579e-301,  -2.82116570457033e-277, 3.23785921002061e-319, 3.97874210805989e-315,  0, 3.15073935042524e-310, 9.72926582174422e-309, NaN, 9.73468556510352e-309,  -5.46354690060757e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, 3.78320825121918e+117,  -2.82116926035288e-277, 6.95356800417634e-310, NaN, NaN, 5.43230922486616e-312,  NaN, -2.30331110817115e-156, -1.32083970011845e-284, 3.78320825121918e+117,  -2.82116926035288e-277), thresholds = c(-5.463546900558e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354689384944e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, -1.79769313486232e+308, NaN, NaN,  NaN, NaN, NaN, NaN, 6.07700744384733e-322, 1.26480805335359e-321,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, -1.28189897098414e-30, 6.01362129181413e-317, NaN, 8.74623005162151e-310,  2.92138726558188e-306, -3.01406959776519e-135, -8.47794417983927e+303,  7.334923554234e-270, 3.56011975004636e-305, -3.9759940224262e-34,  -1.26836459270827e-30, 1.43026673502722e-316, 2.81218450745104e-312,  2.21544747042005e-312, -1.26836459270826e-30, -2.29827868270113e-185,  -2.35343736826454e-185, -2.35343736640235e-185, 2.55299312779258e-156,  2.47192511527755e-94, 8.24447074253856e-312, 1.04517738901928e-308,  2.3641409746639e-308, 1.48456814906984e-313, 2.84844220667961e-306,  -2.05226840465102e-289, 2.87903833578224e-306, 0, 3.24665356017687e-312,  0, -2.29844981641981e-185, 2.55339753527484e-310, -2.35343736826454e-185,  -7.39330493001214e-287), x = c(NaN, NaN, 1.38526007229957e-309,  -1.12850430483716e-276, -1.26836459270732e-30, NaN, -9.88330083408093e-292,  -9.77719780333789e-292, -9.77719780333789e-292, 1.86165783044538e-130,  -3.52366640311169e-53, -6.5692055167788e-287, -Inf, 7.57771153258705e-304,  7.19919234077583e-310, 5.67154552427533e-310, NaN, NaN, NaN,  -1.05658906227133e+270, 3.23785921002061e-319, 0, 0, 0, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 7.18479188880632e-304, 7.0075782043636e-310,  -2.69092032456518e+305, NaN, 7.32747196257773e-15, 5.73642288576513e+170,  2.10901416965392e-312, 5.85363771866079e+170, 7.51896959321261e-304,  2.84809564661295e-306, 6.9881578015912e-310, -2.30328334270592e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110816272e-156,  -5.5516993870748e+306, 4.65661286890991e-10, -2.30331110816477e-156,  NaN, -9.77817400064824e-150, 7.2903536873204e-304, -4.57615391491265e-246,  2.71615461306795e-312, -4.38889926233518e+306, 4.5113879864095e-10,  NaN, NaN, -9.77817400064824e-150, 7.2903536873204e-304, NaN,  NaN, -5.48612930076931e+303, NaN, NaN, NaN, NaN, -Inf, NaN, NaN,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
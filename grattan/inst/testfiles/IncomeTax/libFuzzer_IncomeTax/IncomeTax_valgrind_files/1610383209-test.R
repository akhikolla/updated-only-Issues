testlist <- list(rates = c(NaN, NaN, -6.03473647567304e+304, NaN, 2.08809742974439e-53,  1.12414693421804e+79, 5.98300212832504e+197, 1.38080630541309e+267,  -Inf, NaN, NaN, NaN, NaN, -5.06443593276214e+245, -5.17538999909498e+245,  -8.5243896509936e+245, -5.17539169211968e+245, 3.05175781249887e-05,  1.51347723385919e-101, 5.43655321645303e-311, NaN, NaN, NA, NaN,  7.2902354666909e-304, NaN, NaN, NaN, -3.10503491799727e+231,  5.56268857482253e-309, -6.03473646393718e+304, -6.17134535844025e-38,  NaN, -3.5510117602496e+307, NaN, -2.28227749950569e+306, 9.79032495515522e-307,  -1.35712480392636e+241, -5.48739517212147e+303, NaN, -5.75028661020612e+243,  -6.03473647483953e+304, 0), thresholds = NaN, x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
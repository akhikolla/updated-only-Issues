testlist <- list(rates = c(7.29112201255392e-304, -3.04032340824977e-288,  2.72784216611317e-312, 2.64868533186271e-305, -2.82149851225675e-277,  7.19870991012477e-310, NaN, 3.78576699573368e-270, 7.29112072938316e-304,  NaN, NaN, NaN, -5.48612930076931e+303, -5.82900682309329e+303,  2.65985899590435e+277, 1.10313045262037e+217, -6.64678428260256e-287,  7.2911185428787e-304, -2.05226839682654e-289, -9.77719780333789e-292,  -1.20262618393988e-31, 1.24983277540845e-316, -5.69758254997445e-306,  7.29111937478047e-304, -3.04032340824977e-288, 2.72784216611317e-312,  2.64868533186271e-305, -2.82149851225675e-277, 3.41641322410626e-312,  7.19870908769578e-310, 2.9548978549633e-306, 2.39957410182667e-309,  5.68604456976406e-270), thresholds = c(-1.12858219058046e-276,  NaN, 9.14021444806306e-322, 1.00891829368495e-309, -Inf, -1.2683645911815e-30,  9.37339630957792e-312, 7.10613482629917e-15, 2.56647495592844e-301,  -2.35322190464904e-185, -5.77729739522216e-275, 7.31960296499841e-304,  NaN, 6.98147805439749e-310, -2.67120456398365e+305, 1.39066109167247e-309,  0, 0, 0, 9.23492568228087e-311, 5.79909433230408e-316, 1.44804023176556e+190,  -1.75590191507535e+306, 2.29775642758296e+189, 4.36428616530596e-306,  3.90913259233617e+304, 3.65784678046935e-306, 1.01955734498014e-314,  2.12199579096527e-314, -5.48612406879369e+303, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, 5.43230922486616e-312, 1.08601191820666e-306,  -9.79373369146903e-150, NaN, 0), x = NaN)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
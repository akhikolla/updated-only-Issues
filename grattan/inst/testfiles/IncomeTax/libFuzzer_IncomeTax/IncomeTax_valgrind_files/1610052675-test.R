testlist <- list(rates = c(-2.30331110816479e-156, -2.29449120144681e-156,  -2.30331110816477e-156, -1.84314079543842e+306, 7.1987099133561e-310,  NaN, 3.78576699573368e-270, 7.29112072938316e-304, 7.19919234230165e-310,  9.70418706716128e-101, 9.70418696071228e-101, 7.55652533908718e-308,  9.70418706357123e-101, 9.70418706716095e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706715965e-101,  -2.67120427074892e+305, 7.29112200597562e-304, NaN, NaN, NaN,  NaN, NaN, 1.390671161567e-309, 0, 0, NaN, NaN, -7.2911220195564e-304,  2.64121103063769e-301, 1.24660111018731e-266), thresholds = c(-0.000567626953125,  9.1139025244455e-306, 2.11860490852165e-309, -1.01416025299604e-149,  3.50601308300636e+25, -2.1090342884665e-312, 5.67154552225164e-310,  NaN, -2.60644468696874e+304, 1.04530707114499e-308, 2.36726998478884e-306,  1.28823036902996e-231, -5.48681743872625e+303, -3.65398847701729e-306,  3.83677401710034e+117, NaN, 0, 0, 0, 8.44254251528635e-227, 3.8004944616188e-311,  NaN, -3.67243182468058e-306, 1.81346311408636e+286, 7.82284732751446e-310,  -9.19416530252423e-287, -1.21044017903676e-305, -1.00826003257431e-149,  7.20047258077423e-310, 3.98264587882868e-317, 8.28904605845809e-317,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, 3.94108708470682e-312, 2.71598149218577e-306, -1.26836459270228e-30 ), x = c(5.14283469814318e+25, -2.35331515845473e-185, 2.56337141282878e-310 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
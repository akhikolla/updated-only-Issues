testlist <- list(rates = c(NaN, 7.29112072938316e-304, -1.64816262214147e-307,  -2.35343736497682e-185, 7036874417766.4, -2.35343736826454e-185,  7.17736025324585e-310, 7.32777351949015e-15, 9.14021444806306e-322,  1.00891829368495e-309, 2.67904643304077e+301, -1.26836459123889e-30,  9.37339630957792e-312, 1.09509791288755e-303, -5.66365833702221e+303,  5.43230922486616e-312, -3.9759940224262e-34, -1.26823100659151e-30,  -1.26836459270829e-30, 2.39422219319154e-301, -4.93185008441161e-31,  NaN, -5.79189576537157e-34, -9.21253817446353e-280, 1.23269447171475e-30,  -1.26836459270829e-30, 5.5869437297374e-319, -6.76385503750878e-231,  -2.97578981702996e-288, 7.29112203319188e-304, 8.74601785204247e-310,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ), thresholds = numeric(0), x = c(NaN, NaN, NaN, 9.70488469130173e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, -5.82789329454073e+303, -5.82900681339507e+303,  1.08646184497373e-311, 8.97712454626148e-308, -2.11840698478091e-289,  1.24351972100265e-13, -3.72626152437281e+304, Inf, -7.40367110377773e-171,  NaN, NaN, NaN, -8.59702596077467e-171, 5.7418150925011e+199,  -2.97598959778408e-288, 4.0083522360489e-306, 2.34012289634757e-269,  -1.26836459270829e-30, 3.94108708470682e-312, -5.96890832358674e+306,  2.81218450871091e-312, 5.85363771866079e+170, 8.62805110310557e-307,  -4.25550648705951e+305, NaN, NaN, NaN, NaN, -1.36573625663878e-151,  5.74181509254692e+199, -2.11852534547344e-289, NaN, -5.96890832411666e+306,  NaN, -2.30879999750655e-289, 8.74601785371863e-310, 8.5451750570825e+194,  -1.404447759072e+306, NaN, 7.2911220195564e-304, -8.8144298991562e-280,  -2.30331110774114e-156, -2.30331110816477e-156, -1.12583501772562e-305,  -2.30331110816477e-156, -6.36358120662016e+305, 3.65365169506523e-306,  2.62480682658967e-301, -6.56793027847815e-287, -8.81442988493713e-280,  -2.64494692448922e+154, 1.86165782692909e-130, -1.40946656124468e-52,  -6.5692055167788e-287, 2.11057949781812e-309, -2.29827867994584e-185,  9.11389926506012e-306, 2.39701938834909e-94, -2.18056649082045e-289,  NaN, 2.7271398649941e-312, 7.14190420369699e-304, 5.43226988934558e-312,  0, 0, 2.71615461243555e-312, 7.14190420369699e-304, 5.43226988934558e-312,  -1.03066467131803e-228, 2.71615461306795e-312, -1.90877083252549e-287,  7.41606077195142e-310, -1.74162172578232e-248, 7.20047258077813e-310,  3.98264587882868e-317, 8.28904605845809e-317, 2.84809453888922e-306,  6.9881578015912e-310, NA, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110816272e-156, -5.5516993870748e+306, 4.65661286890991e-10,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
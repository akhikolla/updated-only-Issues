testlist <- list(rates = c(0, -2.95841658691758e-188, 1.94693962620681e-307,  -2.97619082341392e-288), thresholds = c(NaN, -1.26836459270829e-30,  8.81442566340335e-280, -1.75608206245999e+306, -2.11990908279949e-289,  NaN, NaN, -1.26836459067958e-30, -1.26836459270829e-30, 2.39422219317682e-301,  -5.46354690059085e-108, 1.23402959397059e-178, NaN, 3.7855376232233e-270,  Inf, 3.32652954498878e-111, NaN, NaN, NaN, -2.41836151943976e-159,  -3.36629295586527e-108, NaN, NaN, NaN, NaN, NaN, -2.33073147850006e-156,  NaN, NaN, -Inf, NaN, NaN, -9.77818300079457e-150, -2.54556156269885e+306,  -2.82171801549672e-277, NaN, -8.81442988344703e-280, 7.74565138159227e-304,  2.12198042552369e-314, 0, 0, 0, 1.40913782993788e-315, 8.84871571701673e-321,  -5.35532635250002e+305, 1.75590258476828e+306, 1.42873559907201e-101,  Inf, -9.77579638261926e-150, -5.08189403532328e-306, 3.00089887426119e+284,  0, 4.94065645841247e-324, 2.47251031589223e-94, -9.37438000465967e-287,  NaN, NaN, NaN, 7.73071190387239e-12, 1.21044017902795e-305, 7.19919234034436e-310,  3.23790861658519e-319, 0, 0, 3.60739284464096e-313, 2.26527122355628e-318,  2.71619605766584e-312, 3.65190247027503e-306, 2.71984340047916e-312,  -2.82116711389276e-277, 3.41641322410626e-312, 1.08601191821704e-306,  2.80107726162119e-312, 4.95400018337535e-317, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(3.22048866822797e-314, 2.9548964544048e-306, 3.25938534064814e-312,  2.87905598533622e-306, 7.09876007659596e+132, 2.00877667922349e-139,  2.00877667922349e-139, -2.05227035158757e-289), thresholds = c(-3.07800257785878e-288,  NaN, NaN, -5.96890832411666e+306, -5.82900230650667e+303, NaN,  NaN, NaN, -9.77719780339462e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -2.82126001103731e-277, -1.39408757479111e-309, -1.24267801634966e-267,  -2.82171800710814e-277, -9.77580118946814e-150, 5.8536377186878e+170,  5.39907627431893e-310, 5.85363771174557e+170, 2.8480955933963e-306,  7.10613482629917e-15, 1.34992946535474e-309, 3.94108708387185e-312,  4.91407572666621e-319, 2.72888639290682e-312, 3.63041237940668e+282,  2.71984550446759e-312, 7.19919233907545e-310, -7.55234771438901e-287,  3.7835305088198e+117, -1.97637754038728e+306, 1.25986739689518e-321,  0, 0, 0, 9.72926582174422e-309, NaN, -1.40444736503779e+306,  -1.4094657681933e-52, -1.05115074807266e-286, -1.21044017903676e-305,  -1.84912323760304e-248, 2.40313001605884e-306, 7.2911220195564e-304,  0, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  -1.28189897098414e-30, 6.01362129181413e-317, 1.55587395324171e-59,  -1.26836459270829e-30), x = c(-1.0318342482943e-158, -2.29449120144681e-156,  -2.30331110816477e-156, -1.84314079542948e+306, 3.91612999631911e-306,  4.5310669377813e-10, NaN, NaN, 2.00877650943899e-139, 2.00877667922349e-139,  5.85363594144907e+170, 5.85363771868791e+170, 5.73716459465267e+170,  8.62805110310557e-307, 2.33361932889969e-277, NaN, -2.72505960412371e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.35044484234063e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, NaN, 1.38540861198517e-309, NaN,  NaN, NaN, 1.390671161567e-309, NaN, NaN, 1.00891829346114e-309,  -2.11966640218436e-289, -1.26836459123889e-30, 9.37339630957792e-312,  -5.78534238436574e-34, -1.26836459270829e-30, -1.26836459122741e-30,  9.37339630957792e-312, 1.70257006040729e-313, -3.9759940224262e-34,  -1.26823100659151e-30, -1.26836459270829e-30, 2.39422219319154e-301,  1.00891829368621e-309, 2.67904644895999e+301, -2.35343652660979e-185,  -2.35343736826454e-185, 7.19998299431187e-304, -3.13227758653431e-294,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  4.46078843844753e-99, 7.19919233962066e-310, 2.12131683540626e-309,  4.36707825033567e-306, -6.36390391980068e+305, 3.65207087186091e-306,  NaN, NaN, 1.39067049844331e-309, 0, 0, 0, 9.70418614810987e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, NaN, NaN, NaN,  NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(1.42908288084546e-101, -2.2469318707895e-289,  7.18370552426336e-310, NaN, NaN, 1.25827666848961e-60, 7.20047258077813e-310,  1.390671161567e-309, 2.55350695560924e-310, -2.35343736826454e-185,  4.02269723072974e-306, 9.36278609637175e-312, -9.11306812174856e-306,  8.34402647205924e-310, 6.95335620479501e-310, 2.72974914124656e-312 ), thresholds = c(NA, 7.84460841921515e+168, Inf, 3.65784678046935e-306,  -8.5970249239702e-171, 1.41497286004344e+190, 0), x = c(5.85363771868791e+170,  1.21044018067558e-305, NaN, NaN, NaN, NaN, 7.74681714577867e-304,  -2.82116926035291e-277, -3.3660220496712e-164, 7.20267746058957e-304,  9.69630018961776e+192, 3.60253364704011e-306, 1.39066109168071e-309,  0, 0, 0, 9.23492568228087e-311, 5.79909433230408e-316, Inf, -1.75590191507535e+306,  2.29775642758296e+189, 4.36428616530596e-306, 3.90913259233617e+304,  3.65784678046935e-306, 1.01955734498014e-314, 8.57184781616922e-315,  3.23790861658519e-319, NaN, NaN, NA, 7.19919234231252e-310, 9.70418706716128e-101,  9.70418696071228e-101, 7.55652533908718e-308, 2.81218450788582e-312,  9.70418706716095e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706715965e-101, 5.41696352383362e-307,  2.67904644895999e+301, -1.26836459117002e-30, 5.67865050383217e-270,  2.89259601876666e-307, 2.7759202923269e-309, 0, 0, 1.40913782993788e-315,  8.84871571701673e-321, -5.35532635250002e+305, 9.70534703819781e-101,  Inf, 3.23687261230869e-314, NaN, NaN, 2.81199605989981e-312,  NaN, NaN, 2.12199477862476e-314, 0, 0, 0, 9.70418706714725e-101,  NA, 9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  7.10169581022479e-304, 7.29112036975772e-304, -4.25898787020039e-270,  NaN, -3.07840260097373e-288, 6.52166652510445e-322, 4.53801546776667e+279,  -2.82116819491603e-277, 5.73716459465271e+170, 5.85363771868791e+170,  1.21044018067558e-305, NaN, NaN, NaN, NaN, -7.76289525494821e-171,  -1.38856247895918e-309, 3.93320657029289e-310, 1.12464749096174e-309,  9.37333633526043e-312, -5.78534238436574e-34, -1.26836459270829e-30,  4.33892353296385e-317, 7.00746712868804e-310, 2.85706888870448e-312,  -1.02190551682638e-149, -2.24767481577168e-289, 7.54951658409808e-15,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
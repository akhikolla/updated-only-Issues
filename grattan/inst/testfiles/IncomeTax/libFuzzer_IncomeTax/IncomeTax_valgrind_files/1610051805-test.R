testlist <- list(rates = c(-Inf, -2.30331110816477e-156, Inf, NaN, -2.30331110816477e-156,  3.78576699573368e-270, 7.29112072938316e-304, 7.73247441012008e-12,  -1.01977990556045e-31, 2.10776830652961e-309, -6.64550662527324e-287,  9.38197868360131e+301, -1.36890628482908e-231, NaN, 7.73071190387239e-12,  1.21044017902795e-305, -Inf, 0, 0, 3.60739284464096e-313, 2.26527122355628e-318,  2.71619605766584e-312, 3.65190247027503e-306, 2.71984340047916e-312,  2.84809454436e-306, 4.95400018337535e-317, 0, NaN, 7.00767890008367e-310,  7.17075811523595e-310, -3.59405163789112e-305, -2.11872208950101e-289,  -1.26825834792747e-30, -2.11965588219791e-289, -1.83593039382815e-307,  -2.6064446869563e+304, -5.66324542991478e+303, 2.84809454421703e-306,  3.78987813636309e-312, 3.65365169083783e-306, 2.8480945455619e-306,  -5.48612677708818e+303, 2.72888655986149e-312, 3.66145950596111e-314,  -1.2341419504043e-30, -1.80650535611164e+307, -9.7757963632732e-150,  2.73729184714066e-312, -1.26418156348547e-30, 3.94108708470682e-312,  -1.26822486837899e-30, -2.24767481577173e-289, -4.95400484443369e-33,  -1.26836459270829e-30, 2.1788294981599e-321, 3.6634314009933e-305,  -9.77941371393343e-150, 2.33246235504083e-12, -2.15995069167566e-277,  -5.69758255001719e-306, 7.29111937478047e-304, -3.04032340824977e-288,  7.84460841917251e+168, 2.81218450794511e-312, 0, NaN, 1.40913782993788e-315,  8.84871571701673e-321, 0), thresholds = -2.2962031506993e-156,      x = NaN)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
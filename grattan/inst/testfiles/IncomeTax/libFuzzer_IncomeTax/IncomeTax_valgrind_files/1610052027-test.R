testlist <- list(rates = c(Inf, 5.85363771174557e+170, 5.85363771868791e+170,  6.15509973953287e+170, NaN, NaN, NaN, NaN, -7.40367110377773e-171,  9.69630022349236e+192, 3.60253364704011e-306, 9.50582302598558e-321,  -2.11940804072442e-289, 5.41494189803772e-312, -7.92734968754664e-308,  3.29333779946374e-311, -2.30331099970595e-156, -2.30331110816477e-156,  -2.30331110816477e-156, 4.65661203714475e-10, 7.19919234075073e-310,  -9.77717098851436e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, 2.72705584571209e-312, 7.14190420369699e-304,  5.43226988934558e-312, 0, 0, 0, 8.6307324120218e+115, 2.26527122355628e-318,  8.54602158179859e+194, Inf, NaN, 2.12199477862476e-314, 0, 0,  0, NA, 9.7041864923367e-101, Inf), thresholds = c(7.10543086528503e-15,  5.68604467575764e-270, -8.81443176193936e-280, -1.24154622476832e-30,  -2.8214554825258e-277, -1.26826829408497e-30, 2.40086640681612e-300,  5.67865049360052e-270, -1.26836459270826e-30, -1.26826754177099e-30,  -3.67243182468058e-306, 9.21188620376016e-97, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  2.72705584571209e-312, 7.14190420369699e-304, 5.43226988934558e-312,  0, 0, 0, 3.60739284464096e-313, 2.26527122355628e-318, 8.54602158179859e+194,  2.71984356171748e-312, NaN, 2.12199477862476e-314, 0, 0, 0, 9.70418706714725e-101,  9.7041864923367e-101, 9.70418706716128e-101, 2.47192550075558e-94,  -1.34483812308054e-284, NaN, -7.36331510668791e+303, NaN, 7.1987099133561e-310,  3.23790861658519e-319, -1.26836407051221e-30, 2.10776830652961e-309,  -6.64550662527324e-287, 9.38197868360131e+301, -1.36890628482908e-231,  NaN, 7.73071190387239e-12, -1.21044017902795e-305, 2.87903833031139e-306,  -7.92736885289052e-308, 0, 3.60739284464096e-313, 2.26527122355628e-318,  2.71619605766584e-312, 3.65190247027503e-306, 2.71984340047916e-312,  2.84809454436e-306, 4.95400018337535e-317, 0, 2.95489645946111e-306,  7.10542909137157e-15, -5.48612422239372e+303, -9.77702922971014e-150,  1.44803938698275e+190, -1.75590191507535e+306), x = c(NaN, NaN,  2.73737457034026e-312, 7.1420641308985e-304, NaN, NaN, 7.29112201955629e-304,  -1.45711374904015e+306, 7.84460842422543e+168, 2.81218450794511e-312,  0, 0, 1.40913782993788e-315, 8.84871571701673e-321, -8.81442986651231e-280,  -2.11866430635714e-289, 1.28823036902948e-231, 6.95335580950455e-310,  1.93515632163099e-319, 0, 6.98594916738453e-310, -8.81442989922033e-280,  -1.26834825275039e-30, 1.53948714210656e-314, -1.26836404691013e-30,  -2.82145547645118e-277, -1.2437121450743e-30, -1.26836459270829e-30,  8.34402696940201e-309, 2.84809453888922e-306, 2.84347436052587e-312,  2.47222686857108e-94, 3.5601616320854e-306, 8.90029544463878e-306,  0, 2.31407681284749e-306, -6.76320621772004e-231, 1.38990752639432e-312,  1.59481413420777e-313, 1.09616158256469e-314, -9.11307071058342e-306,  1.82268328352994e-304, 3.60253364404992e-306, 4.65604443888978e-10,  NaN, -6.69969683723498e-287, -9.77699452370729e-150, 7.2903536873204e-304,  -4.57615391491265e-246, -6.36358120662016e+305, -6.64678428260241e-287,  NaN, NaN, 7.2065692264625e-304, 1.390652843099e-309, 2.84809454436997e-306,  1.86165783044538e-130, -3.0149750772162e-305, -5.43851886576215e-287,  NaN, 2.56647495437459e-301, 7.82599983012535e-321, 6.95335663673358e-310,  2.72974914124656e-312, -1.06630825829944e-314, -2.30331110816476e-156,  -2.30331110816477e-156, -2.29449120144681e-156, 3.65207087186085e-306,  -5.46354690059072e-108, -5.46354690059085e-108, -5.46354690059085e-108,  2.73021803551749e-312, 1.28823036902948e-231, -5.46341212114918e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -9.77580118946814e-150,  NaN, 5.39907627431893e-310, 5.85363771174557e+170, 2.8480955933963e-306,  7.10613482629917e-15, NaN, NaN, NaN, NaN, NaN, NaN, -1.26841746137343e-30,  -8.81442566349554e-280, -3.79844687780135e-33, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = numeric(0), thresholds = c(NaN, 3.41167784382416e+228,  5.48412866883784e-322, -1.26836459057627e-30, 8.81442566340335e-280,  2.84347435993299e-312, 0, 1.68324348849548e+212, 5.83949557453051e+40,  3.93746079909522e+92, 1.06399912715412e+248, -2.82144377639216e-277,  Inf, 3.65190389201212e-306, 1.42908288084546e-101, 2.33704050856896e-301,  -1.25539002807252e-267, -1.26836459270828e-30, -1.24315123723428e-267,  NaN, 7.73071190387239e-12, 6.98327594525623e-310, -6.05898824717554e-65,  -2.25769487008466e-289, 8.74601785371863e-310, 3.652068166337e-306,  -9.11378520770331e-306, 2.40060263696258e-300, 5.67865049360052e-270,  -1.26836459270826e-30, 2.8435571614667e-312, -7.06373421489677e-304,  2.64121166339307e-301, -1.26836459270829e-30, 0, 3.94108708470682e-312,  2.71598149214445e-306, -1.26836459270255e-30, 3.66148293307183e-314,  -1.2341419504043e-30, -2.24767481577173e-289, 7.54951658409808e-15,  -3.1315127781037e-294, 3.56047671159453e-306, -Inf, 1.390652843099e-309,  Inf, -7.39330388852429e-287, 0, 0, 2.3641409746639e-308, 1.48456814906984e-313,  2.84844220667961e-306, -2.05226840465102e-289, 2.87903833578224e-306,  2.80103962472795e-312, 3.24665356080927e-312, -7.3933019237596e-287,  -1.33453641541175e-314, 5.67154552225164e-310, 3.81856459875185e-311,  3.60289283426669e-306, -1.23269485879119e-30, -1.26836459270829e-30,  8.63827925275637e-39, 2.81218450777218e-312, 2.21544747042005e-312,  -8.81442986664358e-280, 2.94832336573484e-306, 3.6522718728559e-306,  7.29035368732031e-304, 1.09614956738224e-314, -2.18028465462708e-289,  0), x = c(-1.26836459245897e-30, NaN, 3.6634314009942e-305, 4.00791842555784e-306,  -1.2683642165418e-30, 7.1991923414237e-310, 7.51896958273426e-304 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
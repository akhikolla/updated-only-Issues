testlist <- list(rates = c(NaN, NaN, 4.46108959687713e-140, 3.60297094497336e-306,  4.49490997382082e-101, 9.1603645752645e-313, 1.48074143480854e-105,  9.70418706716128e-101, 9.70418706716128e-101, -8.81442987198527e-280,  -1.26834825275039e-30, -1.26836459270829e-30, 2.8435571614667e-312,  -7.06373421489677e-304, 4.03016916411296e-306, -1.2341419504043e-30,  -2.24767481577168e-289, 7.54951658409808e-15, -3.1315127781037e-294,  3.56047671159453e-306, -8.02506476812756e+304, 1.390652843099e-309,  4.28183424758689e-317, -7.39330388852429e-287, 2.12199579096527e-314,  0, NaN, -1.24274918010212e-30, -1.26836459270829e-30, -4.94065645841247e-324,  3.83677392315864e+117, 7.29069965756708e-304, 0, 2.37151510003798e-322,  0, 9.23492756026786e-311, -7.39330206068684e-287, 9.70418706714725e-101,  9.69721082575941e-101, 9.70418706566434e-101, 9.70395179000033e-101,  9.70418704587148e-101, 9.64395893538445e-101, 9.70418706716128e-101,  4.49490997380411e-101, 9.1603645752645e-313, 1.48074143480854e-105,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716127e-101, -7.14887944017922e-277,  -4.27803982342683e-317, -2.87301548075352e-188, 1.42891481127928e-101,  9.70418706716128e-101, 1.95128366347825e-187, -2.29827868268921e-185,  6.65988378995207e-310, 2.22507386265736e-308, NaN, 2.94024551642532e-306,  5.85318274554714e+170, 5.85363771868791e+170, 7.84460841921515e+168,  5.85363771868791e+170, 1.41497286004339e+190, 1.84870553760561e-272 ), thresholds = numeric(0), x = c(8.81950571114775e-312, -2.30331110816473e-156,  -2.18103493811874e-289, 2.85435254850686e-306, -5.96890299731148e+306,  1.390652843099e-309, -5.16216864106284e-306, -8.81442986644817e-280,  -1.85907762421774e-183, -2.30331110816477e-156, -2.30331110763906e-156,  -1.79946180325373e-158, NaN, NaN, NaN, 1.3854086120054e-309,  1.38526007229957e-309, -4.98416699759381e-306, -5.46354484299115e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, 1.82724810416579e-305, NaN, -8.22918577619206e+303,  4.46108959687689e-140, 3.42882753485303e+304, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, -1.26841746137343e-30, -8.81442566349554e-280,  -3.79844687780135e-33, 3.66343140688495e-305, 7.17065483396996e-310,  -5.66324542993755e+303, 2.84809454421703e-306, 3.78987813636309e-312,  3.65365169083783e-306, 2.8480945455619e-306, -5.48612677708818e+303,  2.72888655986149e-312, 3.66145950596111e-314, -1.2341419504043e-30,  -1.80650535611164e+307, -9.7757963632732e-150, 2.73729184714066e-312,  1.11604253465019e-314, 3.60446694374285e-305, -9.77941371393343e-150,  2.33246235504083e-12, -2.15995069167566e-277, -5.69758255001719e-306,  7.29111937478047e-304, -3.04032340824977e-288, 7.84460841917251e+168,  2.81218450794511e-312, 1.26480805335359e-321, 0, 0, 1.40913782993788e-315,  8.84871571701673e-321, -8.81442986651231e-280, -2.11866430635714e-289,  1.06243882805742e-314, 0, 1.93515632163099e-319, 0, 6.98594916738453e-310,  -2.97578918250622e-288, NaN, 1.21044074025463e-305, 7.29112897291221e-304,  -9.77579638205135e-150, 2.71628105277197e-312, -5.74764672273257e-306,  3.65190389201212e-306, 1.42908288084546e-101, -2.2469318707895e-289,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, -1.26836459351501e-30))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-5.17538998658224e+245, NaN, 1.02084759352235e+40,  -4.93751584743096e+304, NaN, NaN, -5.17495827121053e+245, 3.03428333400589e-86,  -5.17495506794554e+245, -5.1893155522444e+245, NaN, NaN, 5.43230899340628e-312,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0), thresholds = c(NA, -Inf, -Inf, 2.33589462449573e-310,  -1.12554546352376e-256, NaN, NA, 0), x = c(NaN, 6.64032995770279e-07,  NaN, NaN, NaN, NaN, NaN, Inf, -5.1071114359872e+245, -1.64264713422996e-260,  NaN, 9.79032497743168e-307, -3.14666901810749e+53, NaN, NaN,  2.66122561660039e-110, NaN, 3.23785921002061e-319, 5.54095540613061e-310,  NaN, NaN, -1.37153101719842e+305, 4.46014903970612e+43, -8.4070565483332e+304,  1.42943179159788e-101, NaN, 6.64032995703601e-07, 1.39113490711204e-308,  2.33589462449573e-310, -1.12554546352376e-256, NaN, NaN, 3.23785921002061e-319,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
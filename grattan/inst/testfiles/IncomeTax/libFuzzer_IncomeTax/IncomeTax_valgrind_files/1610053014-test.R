testlist <- list(rates = c(-2.11966640218436e-289, -1.24313436615397e-30,  -1.26836459270829e-30, 2.81218450745598e-312, 5.85363771866079e+170,  8.62805110310557e-307, 5.85363594144907e+170, -2.10901416965392e-312,  5.67154552225164e-310, 2.33986625569554e-269, -1.26836459270829e-30,  3.94108708470682e-312, NaN, -7.40367108236662e-171, -2.30331110816484e-156,  -1.32083970121448e-284, -2.8211671139424e-277, 1.39067116156765e-309,  -6.64630829261706e-287, 3.60297094496547e-306, -2.82116819450237e-277,  -1.97637754038026e+306, -9.77719778799622e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -8.81482079940197e-280, 1.00053821907193e-267, -2.01084861775867e-187,  -2.35343757462424e-185, -2.84851174023769e-306, 9.99553272837482e-101,  9.70418706716128e-101, 9.70418706716128e-101, -1.97671907332562e+306,  NaN, NaN, NaN, 3.81573682712326e-236, 2.81218450752515e-312,  5.85363771866079e+170, 8.62805110310557e-307, 3.85620603997448e-236 ), thresholds = c(-9.77719780333789e-292, 2.88489313814139e-82,  -3.47896303662439e-147, 6.51171632684634e+286, -1.14951281025474e-184,  -2.35343736826454e-185, -4.31263986201018e+285, 9.70418706716154e-101,  NaN, NaN, NaN, 2.74711394303795e-282, -6.36390391980068e+305,  3.81582482403401e-236, -7.39330221849024e-287, 5.85318274554714e+170,  5.85363771868791e+170, 7.84460841921515e+168, 3.81573682711805e-236,  3.81573682711802e-236, 3.81573682711802e-236, 2.81198086078048e-312,  5.8536377186878e+170, 5.39907627431893e-310, 5.85363771174557e+170,  2.8480955933963e-306, 7.10613482629917e-15, 1.86652728926531e-301,  2.12628684398374e-314, NaN, -9.77719780333789e-292, -1.40444776161118e+306,  NaN, NaN, -8.81442566346712e-280, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30327665540415e-156, -2.30331110816477e-156, 2.56647495437747e-301,  -2.08480503205373e-156, 7.52702515418935e-304, -9.77579636319873e-150,  NaN, NaN, NaN, NaN, -9.77719780333789e-292, 3.0258424129229e-306,  -2.2962031506993e-156, -2.30331041518704e-156, -2.30331110816477e-156,  -2.30331110763906e-156, -2.30331110816477e-156, NaN, NaN, -3.44108032454383e-147,  2.47192511988187e-94, 7.73071188331757e-12, -2.30331102729704e-156,  -2.30331110816477e-156, Inf, 3.65207087186085e-306, 2.96606708228918e-306,  Inf, 2.00877667922349e-139, 9.70414329466621e-101, -2.35343652850072e-185,  -2.35343736826454e-185, 7036874417766.31, -2.35343736826455e-185,  0), x = c(-Inf, 9.70418706716127e-101, -2.93481174382652e-188,  -2.35343736826454e-185, -2.353436891546e-185, -2.35343757462424e-185,  -2.84851174023769e-306, 9.70418706716128e-101, -5.82789329454637e+303,  1.42873492221324e-101, -1.26834825275039e-30, Inf, -1.26823093099111e-30,  -2.24767623012983e-289, -3.97599402242598e-34, -1.26836459270827e-30,  -7.39330195753082e-287, 5.85318274554714e+170, 5.85363771868791e+170,  NA, 5.85363771868791e+170, 1.41497286004339e+190, 1.84870553760561e-272,  -1.26836459066993e-30, -1.26836459270829e-30, NaN, -7.40367656369217e-171,  -2.30331220646909e-156, -5.5516993870748e+306, NaN, 1.09850957322306e-314,  -9.77579636319929e-150, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
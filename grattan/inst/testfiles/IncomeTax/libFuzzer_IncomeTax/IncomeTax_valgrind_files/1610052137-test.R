testlist <- list(rates = c(2.3641409746639e-308, 1.48456814906984e-313, 3.9191047797502e+202,  -2.18028465462708e-289, 534.645996093779, -1.24281111519981e-267,  2.47229315721747e-94, -9.37438000465967e-287, 2.61006680314917e-312,  5.4323092248711e-312, 3.68069868587041e+180, NaN, 7.73071190387239e-12,  1.21044017902795e-305, 7.19919234034436e-310, 0, 0, 3.60739284464096e-313,  2.26527122355628e-318, 2.71619605766584e-312, 3.65190247027503e-306,  1.30815185641404e-105, 3.51274493634352e+151, 3.22270204450999e-115,  9.07652344884246e+223, 4.87620583450624e-153, 3.63372088255387e+228,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, 3.66343140689406e-305, 3.56016163208532e-306,  8.90029544463878e-306, 0, 2.31407681284749e-306), thresholds = numeric(0),      x = c(-9.77619235547815e-292, -9.77719780333789e-292, -9.77719780333789e-292,      2.93954071158394e-306, -1.51545526720618e-293, -9.77719780333789e-292,      -9.77719780333789e-292, -2.82126001103731e-277, -1.39408757479111e-309,      -1.24267801634966e-267, NaN, 4.65661287305794e-10, NaN, NaN,      NaN, 1.25986739689518e-321, NaN, 0, 4.19867256722943e-140,      2.00877667922349e-139, 1.94422819550396e+280, 9.70418706716128e-101,      9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,      -9.77619235547815e-292, -5.82789329454073e+303, -5.82900681339507e+303,      2.65985899590435e+277, 7.29112201955619e-304, 2.41252237132898e+306,      -1.09723553931675e+304, -3.07840260097373e-288, NaN, NaN,      NaN, NaN, 1.55291966109516e+277, NaN, NaN, -1.26836459351501e-30,      4.00930495879766e-306, -1.26826378018642e-30, 3.94108708470682e-312,      2.92300471201586e+48, NaN, NaN, NaN, NaN, NaN, 3.66343200337381e-305,      -2.11940810211077e-289, -5.81608789291487e-34, 2.56647495438023e-301,      -2.30331110816311e-156, -2.30331110816477e-156, -6.05390363808932e-157,      -2.30331110816477e-156, -1.32083970011845e-284, 3.65207087186091e-306,      NaN, NaN, NaN, 1.3891799392362e-309, -4.98416699759381e-306,      3.66343140688495e-305, 3.22048866822797e-314, 2.95484006236665e-306,      3.25938534064814e-312, 2.87905598533622e-306, -7.39330192498285e-287,      NaN, 2.56647495437459e-301, -2.18103493600849e-289, -3.12856511252087e-147,      7.52609340439459e-304, NaN, -9.77818300079457e-150, -4.93230657291168e-31,      0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = NaN, thresholds = c(9.12483546112425e-313, NaN,  NaN, 2.12455197126707e+183, NaN, NaN, NaN, NaN, -3.23465366909032e+244,  NaN, -6.31007797996308e-256, 6.06452378675548e+228, 5.98415352919567e+228,  -6.03473411205113e+304, NaN, 4.77923608727567e-299, 1.08729903862612e-311,  -1.1818685957232e-125, 1.39781724570911e+181, -5.18931553596509e+245,  1.23596395333285e-279, -3.14666901810749e+53, -2.8363711018493e-124,  1.71272844748826e-260, 1.04291228582557e+40, -1.29209058968189e+241,  -5.18847371542227e+245, NaN, NaN, -5.1754460813335e+245, -1.13562000173437e-256,  7.74832282689017e-304, 2.28135770724585e-310, 9.37387123881569e+252,  9.37289555066763e+252, -8.73931832200943e+245, 7.7710698149671e-305,  -3.1466690181077e+53, -8.66711661496347e+241, -7.72446804533764e+306,  9.58685070020329e-307, -5.17544608216044e+245, -7.55203993593245e+303,  6.31001593821752e-256, 5.95750442285959e+228, NaN, NaN, 1.37437816244707e-309,  -Inf, -1.13428637238403e-256, 6.36595498313783e-313, 2.12455197125157e+183,  NaN, 6.55651093237064e-07, 5.03402852565561e+226, 5.95750278984877e+228,  6.70538686909969e-310, 5.95750278984869e+228, 5.13772671018457e-95,  -6.8983169458176e+305, -5.17544277751961e+245, 5.95792084061793e+228,  5.95760689429934e+228, 5.95750278984877e+228, 3.62557269824803e+53,  5.45435836126695e-312, 1.52919513203089e-308, NaN, -6.03473647567306e+304,  -6.67112686765311e+306, 1.65257101344441e+40, -5.10711122511948e+245,  2.78134232318958e-309, 7.00659244291961e-308, NaN, NaN, NaN,  NaN, NaN, 2.82820116936576e-110, NaN, NaN, NaN, -Inf, 2.05236116102037e-289,  NaN, -5.17544274496094e+245, -1.4509988461317e+128, NaN, -5.17539189176135e+245,  9.58542700017712e-307, -3.14666901810749e+53, -2.8363711018493e-124,  1.71272844748826e-260, 7.29112201955619e-304, 9.34531025882103e-307,  0), x = 2.17598062478055e-113)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
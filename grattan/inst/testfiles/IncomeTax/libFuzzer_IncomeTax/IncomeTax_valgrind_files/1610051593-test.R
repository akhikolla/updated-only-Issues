testlist <- list(rates = c(4.08354876418797e+233, 4.08354876418797e+233,  7.62205499200082e-68, NaN, 2.84809456010918e-306, -2.05227035158761e-289,  1.88680652875407e-301, 1.21044018122494e-305, 3.60253636549892e-306,  7.06996359174762e-304, NaN, NaN, NaN, NaN), thresholds = numeric(0),      x = c(-2.30331110816476e-156, -2.30331110816477e-156, -2.29449120144681e-156,      -2.30331110816477e-156, -1.84314079543842e+306, 7.1987099133561e-310,      NaN, 3.78576699573368e-270, 7.29112072938316e-304, -3.04032340824977e-288,      2.72784216611317e-312))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
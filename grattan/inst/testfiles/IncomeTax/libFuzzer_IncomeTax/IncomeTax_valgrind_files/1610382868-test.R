testlist <- list(rates = c(3.04668938042604e-05, NaN, NaN, -6.3100801632785e-256,  -5.06443593198239e+245, -8.73989987746104e+245, -1.12022642773623e+243,  NaN, 1.39067110231327e-309), thresholds = c(NaN, NaN, NaN, NaN,  NaN, 4.65661287307739e-10, -4.28076304470408e+221, -1.01056664098965e+304,  NaN, 2.16443570677964e-312, -1.45094702117037e+128, 2.78132881200157e-309,  6.8089704084083e+38, NaN, NaN, 0, -4.57671320724439e-246, NaN,  NaN, NaN, -1.3323138021754e+305, 7.23066945774505e-308, -5.54371769730056e+303,  2.12455197126707e+183, 3.94213052632413e-259, -3.18196870780537e+305,  3.56429232981243e-315, 1.51189165578346e-304, NaN, 4.65769178428981e-10,  7.4202234095592e-68, NaN, NaN, -5.06443593278922e+245), x = c(1.23971598178855e+224,  8.90389806695633e+252, 7.06341858146627e-304, NaN, NaN, 1.39175974498684e-308,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.42943057240343e-101,  NaN, 6.64032995703601e-07, 1.39113490711204e-308, 2.33589462449573e-310,  2.70150095835327e-307, NaN, 5.43230922486616e-312, NaN, NaN,  NaN, NaN, NaN, 1.39065593335898e-309, NaN, NaN, 2.16443570677964e-312,  -1.45094702117037e+128, 2.78132881200157e-309, 1.02111294636198e+40,  3.94172009386391e-259, -6.03473647567281e+304, 1.42991535175584e-308,  NaN, 8.52748457338058e-114, 3.67142983950248e+228, 7.24455658408632e+165,  3.63054263558128e+228, 5.43722619646479e-109, NaN, 1.3684555315672e-48 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
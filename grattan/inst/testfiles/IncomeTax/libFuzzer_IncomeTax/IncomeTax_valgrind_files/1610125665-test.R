testlist <- list(rates = c(1.36257052583702e-105, -2.87980148639721e+304,  -2.88021513611667e+304), thresholds = c(-1.56500839578769e-209,  3.44441933747494e+178, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 8.10452260312399e+179, -4.47581667165427e+305,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -1.71833317411388e-93,  2.11954162065895e-321, -5.48612930069759e+303, 1.26217975946955e-27,  1.62841639290983e-173), x = c(1.30345461885193e+190, 1.30345461885193e+190,  Inf, 1.30345461885193e+190, 1.30345461885193e+190, 1.30345461885193e+190,  1.30345461885193e+190, Inf, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
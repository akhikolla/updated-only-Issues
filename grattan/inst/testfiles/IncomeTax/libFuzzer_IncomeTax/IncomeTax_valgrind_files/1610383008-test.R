testlist <- list(rates = c(-1.29287484775418e+164, NaN, 6.55651547276648e-07,  -5.48612405857659e+303, NaN, NaN, -9.00181948337867e+241, 5.02982669403682e-10,  1.54830461783312e+140, -1.29274148508e+294, NaN, 1.390671161567e-309,  NaN, NaN, NaN, NaN, -1.99700494896339e+242, NaN, 7.2911220195564e-304,  NaN, NaN, 6.24349710063198e+144, NaN, NaN, NaN, -5.17538835488245e+245,  NaN, -6.31007801965972e-256, 5.5446316004081e-97, NaN, 1.02088463191188e+40,  7.76462361821357e-304, -5.49989590899971e+303, 2.23764539047744e-310,  -8.5243896509936e+245, NaN, NaN, 3.35877285666699e+227, NaN,  6.31001593821752e-256, 5.95750442285959e+228, NaN, NaN, 1.37437816244707e-309,  4.17415755274666e-309, -1.13428637238403e-256, NaN, 2.12455196732528e+183,  NaN, NaN, NaN, NaN, NaN, NaN, -8.73989987746428e+245, NaN, NaN,  -5.06443593276214e+245, -8.00197165336822e+304, -6.17182154143209e+303,  3.62557269002036e+53, 5.45435836126695e-312, 1.52919513203089e-308,  NaN, -6.03473647567306e+304, -6.67112686765311e+306, 7.00659668223031e-308,  -6.03473647567281e+304, -5.1749582645939e+245, NaN, -5.75028662029127e+243,  -8.50343535984557e+304, -5.17539190460676e+245, -1.01164127828556e+308,  NaN, NaN, 1.02096057475982e+40, -1.39067116124326e-309, NaN,  NaN, NaN, 1.30375421369207e-309, 1.30078342585621e-311, 2.33589462432972e-310,  6.21370296905965e-313, 2.70150156837545e-307, NaN, 3.23785921002061e-319,  0, 0, 0, 0, 0), thresholds = numeric(0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
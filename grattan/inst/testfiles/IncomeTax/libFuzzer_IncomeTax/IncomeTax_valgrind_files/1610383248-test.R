testlist <- list(rates = c(NaN, NaN, -5.7502866102558e+243, -8.22918610235701e+304,  NaN, 2.7892346473729e+228, 2.08809742756317e-53, NaN, 5.95750278984886e+228,  NaN, 3.26792712858383e+178, 1.04291228749732e+40, 2.39524526325109e-08,  -2.39536098123135e+260, 7.56881123708566e-304, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, -7.31781923598515e+241, 7.29112201886404e-304,  -6.03473647566956e+304, NaN, 4.77947283820032e-299, 1.65276105961175e+40,  1.39785663411574e-304, 1.0429122855008e+40, 7.29023213934846e-304,  NaN, NaN, NaN, NaN, -6.3100779998114e-256, -6.31001569488506e-256,  NaN, 5.14674736242857e-312, NaN, NaN, -8.08634877216209e-174,  -4.82778918048755e+305, NaN, -5.49989589581548e+303, 2.1119990222126e-106,  NaN, NaN, -2.88021513611669e+304, 8.73189386359976e-308, NaN,  1.65249624504117e+40, 2.78134232317104e-309, 2.82755217285077e-110,  7.2911220195564e-304, 0, 0, 0, 0, 6.953355807835e-310, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = -Inf, x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-1.26836459270732e-30, -2.96131000913894e-277,  NaN, NaN, NaN, NaN, 6.95335581431077e-310, 3.99019053791744e-315,  0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(NaN, NaN, -5.48612677708849e+303,  NaN, NaN, 9.70418708486102e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, -3.72626152437281e+304,  NaN, 4.77830972673634e-299, 2.31058199965605e-138, -2.1196558858712e-289,  -1.83593039382815e-307, 9.70418706716715e-101, 3.22738501832877e-319,  2.81199605989981e-312, NaN, -3.05240000192222e-188, 1.25827666850048e-60,  -5.66365833706557e+303, 5.43230922486616e-312, -3.9759940224262e-34,  -1.26823100659151e-30, 1.00891829368586e-309, -5.90896449358903e-306,  -1.06099789548264e-314, -2.35322190464904e-185, -2.60151710544707e-312,  7.31960296499841e-304, 1.21044018122494e-305, 1.41497286004339e+190,  -2.67120403757941e+305, 1.39066109167247e-309, 2.71984339982699e-312,  0, 0, 9.23492568228087e-311, 5.79909433230408e-316, 1.44804023176556e+190,  -1.75590191507535e+306, 2.29775642758296e+189, 4.36428616530596e-306,  3.90913259233617e+304, 3.65784678046935e-306, 1.01955734498014e-314,  2.12199579096527e-314, -5.48612406879369e+303, NaN, NaN, NaN,  2.73737457034026e-312, 7.14190420369699e-304, 5.43226988934558e-312,  -1.03066467131803e-228, 2.71615461306795e-312, NaN, NaN, NaN,  NaN, -1.26836459351501e-30, 4.00930495879766e-306, -1.26826378018642e-30,  2.40086640681612e-300, 5.67865049360052e-270, -2.08934551532475e-289,  6.46929556664528e-319, -2.247674815751e-289, -1.24371214513728e-30,  -1.26836459270033e-30, 3.66343140688495e-305, 3.22048866822797e-314,  2.00877667922081e-139, 1.94422819550396e+280, -1.25152205320375e+306,  2.56656752595429e-301, 5.14291266320759e+25, 1.24660110991426e-266,  1.96568260790928e-236, -7.92736885185452e-308), x = c(2.4719252581509e-94,  -1.20615335718152e+306, NaN, NaN, NaN, -7.22398478014735e-287,  NaN, NaN, NaN, 1.25986739689518e-321, 8.28449274946602e-320,  -2.35322190464899e-185, -2.35343736826454e-185, -2.35343736825726e-185,  -5.34349793087407e-187, 1.09517826100207e-314, -6.25416501086265e-145,  7.52609340439459e-304, 2.61627647223625e-33, -1.26836459270829e-30,  5.5869437297374e-319, -1.26836407051221e-30, 2.10776830652961e-309,  -6.64550662527324e-287, 9.38197868360131e+301, -1.36890628482908e-231,  NaN, 7.73071190387239e-12, 1.21044017902795e-305, 7.19919234034436e-310,  0, 0, 3.60739284464096e-313, -1.36874411367054e-231, -6.95335580784133e-310,  34078912.0000019, -2.05226840465102e-289, 2.87903833578224e-306,  -2.82116925797144e-277, -9.77719387587134e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, 4.95224540605997e-303 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
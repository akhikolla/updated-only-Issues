testlist <- list(rates = c(1.40978211661677e-105, NaN, 7.29043462872786e-304,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = numeric(0),      x = c(-3.38084306397816e+221, 1.91608710022272e+53, 1.91608710660622e+53,      NaN, NaN, 6.67521818033526e-307, -1.01101465746676e+308,      -1.85133771268567e+304, NaN, 2.54552169758936e-29, NaN, 2.72362611782647e+180,      -2.70494424227993e-11, NaN, -2.70494424244939e-11, NaN, -3.38084262461866e+221,      -3.38084306011397e+221, NaN, 5.43223507567683e-312, -1.73807234310764e-93,      NaN, -5.48630291652283e+303, 2.84132113906609e-173, 2.84132113906601e-173,      1.34275506324855e+241, -7.22669353876649e+304, NaN, 5.43223507567683e-312,      NaN, -1.71819990764409e-93, NaN, 5.43223507567683e-312, -1.73807234310764e-93,      NaN, -5.48630291652283e+303, 3.9655857341685e-310, -7.15905456829199e+304,      1.5218165557294e-317, 0, 0, 0, 6.11612844249649e+197, NaN,      NaN, 5.16401285858016e+120, 1.44632716009107e-307, NaN, 2.77428136957826e+180,      -2.70494424244871e-11, NaN, -2.70494424244937e-11, -6.13018040940852e-92,      -3.38084306226197e+221, -3.38084306396312e+221, 1.80331613628202e-130,      2.12196682636678e-314, -1.00684145547149e+307, NaN, NaN,      2.84132113906601e-173, 2.84132113906601e-173, 4.79031896568503e-109,      1.75980614900606e-130, -3.38084306397816e+221, 4.46015329317765e+43,      NaN, -1.7183325936647e-93, 1.80331613628201e-130, 2.12196682636678e-314,      -1.00684145547149e+307, NaN, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
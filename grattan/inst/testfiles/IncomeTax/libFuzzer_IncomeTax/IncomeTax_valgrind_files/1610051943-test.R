testlist <- list(rates = c(1.22176384420438e+161, 1.22176384420438e+161,  1.22176384420438e+161, 8.31143311528443e-310, 0, 6.62741725434274e-310,  2.72888655543466e-312, 1.6132871941754e-307, 0, 0, 0, 0, 0, 0 ), thresholds = c(6.95506003570462e-310, -2.35343736826449e-185,  -1.2682313382999e-30, 7.22857562968275e-304, 7.73070496507011e-12,  -8.81442989915646e-280, -1.26834825275039e-30, 1.53948714210656e-314,  -1.26836404691013e-30, 2.85402118825367e-306, -2.35343736825169e-185,  -1.23425146416e-30, -1.80650535611164e+307, -9.7757963632732e-150,  2.73729184714066e-312, -1.26418156348547e-30, 3.94108708470682e-312,  -1.26822486837899e-30, -2.24767481577173e-289, -4.95400484443369e-33,  -1.26836459270829e-30, 2.1788294981599e-321, 3.6634314009933e-305,  -9.77941371393343e-150, 2.33246235504083e-12, -2.15995069167566e-277,  -5.69758255001719e-306, -2.9398802415614e-306, -2.06028507410418e-289,  -2.35331532503227e-185, -2.35343736826454e-185, 2.4766878776996e-156,  1.22176384261059e+161), x = c(-2.6064446869563e+304, -5.66324542991478e+303,  2.84809454421703e-306, 3.78987813636309e-312, 3.65365169083783e-306,  2.8480945455619e-306, -5.48612677708818e+303))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
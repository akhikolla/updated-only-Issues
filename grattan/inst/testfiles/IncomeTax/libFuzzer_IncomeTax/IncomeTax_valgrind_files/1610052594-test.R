testlist <- list(rates = c(NaN, NA, NaN, 1.5218165557294e-317, 8.44254251528635e-227,  3.8004944616188e-311, NaN, 7.17719822995867e-304, -3.0136392218747e-135,  -1.06616634683585e-314, 2.22507386265735e-308, -2.29449106491345e-156,  -2.30331110816477e-156, -1.84314079542948e+306, NaN, NA, 3.78576699573368e-270,  7.29112072938316e-304, 6.59211609310385e-306, NaN, NaN, NaN,  NaN, NaN, NA, 9.70418706716122e-101, 9.7041598162183e-101, 9.70418706715543e-101,  9.70418614810987e-101, 9.70418706707811e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706674546e-101,  3.83687416993436e+117, NaN, NaN, NaN, NaN, 1.00891829368621e-309,  2.67904644895999e+301, -1.26836459117002e-30, NA, 2.92300328012826e+48,  -5.53494712284423e-108, -5.46354690059085e-108, -7.39330524439149e-287,  8.54517853790596e+194, -2.1800744026039e-106, -5.46354690059085e-108,  1.25197188202868e-316, 5.34150138579085e-307, -5.69758254997461e-306,  7.29111937478047e-304, 7.73071190387249e-12, 6.98327594525623e-310,  -6.05898824717554e-65, -2.25769487008466e-289, 7.9327407573336e-301,  0), thresholds = c(NA, -2.30331110816477e-156, -1.12583501772562e-305,  -2.30331110816477e-156, 6.73257609879249e+214, -3.0784026009623e-288,  NaN, NaN, -5.96890832411666e+306, 7.73071187696462e-12, 5.88802634704342e+170,  7.84460841921515e+168, -1.12850385925864e-276, -1.26836459270732e-30,  NaN, 7.62172436035642e-304, 1.21044018122494e-305, -6.64550663505903e-287,  -2.87297712943374e-188, -2.35343736826454e-185, Inf, -2.35343757462424e-185,  -2.84851174023769e-306, 1.74816143485701e-313, -3.9759940224262e-34,  -1.26823100659151e-30, -1.26836459270829e-30, 2.39422219319154e-301,  0, 0, 1.42873423910284e-101, 9.70418706716128e-101, -3.01363922187464e-135,  NA, 8.67124371330009e-310, 2.71984339982699e-312, -1.12583501772562e-305,  -2.30331110816477e-156, -6.36357974166699e+305, NA, NaN, NaN,  NaN, -3.04032340822605e-288, -9.77717512088926e-292, -9.77719780333791e-292,  NA, -9.77720335812295e-292, -9.77719780333789e-292, -2.24642908757335e-289,  9.70418614815292e-101, 8.02711540254363e-125, -3.14742244303347e-248,  5.84082107599125e-308, -2.34505333127379e-310, -1.84912323762905e-248,  3.08613048670889e-99, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716127e-101, 4.79917876422844e-310,  -2.84809453888922e-306, -2.05226840066414e-289, 0, 2.9621337120295e-306,  -9.03971469735566e-311, 2.4722900097527e-94, -9.37438000465967e-287,  -7.39391319793816e-287, 9.70418706714725e-101, 9.69721082575941e-101,  9.70418706566434e-101, 9.70395179000033e-101, 9.70418704587148e-101,  9.70418706716128e-101, 9.70418706716128e-101, 4.95224444622419e-303,  -2.35343736497684e-185, 0), x = -2.99078721219188e-305)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
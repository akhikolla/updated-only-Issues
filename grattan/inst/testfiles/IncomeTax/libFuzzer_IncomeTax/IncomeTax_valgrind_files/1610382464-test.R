testlist <- list(rates = c(-8.52332278496026e+245, 3.23785921002061e-319,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(1.03277276821127e+40,  3.28459702170213e-299, -5.82982301129014e+303, NaN, NaN, NaN,  6.4422320849197e+170, 6.07718652165079e+247, 5.50793118035047e-310,  -3.23461994035066e+244, 1.14318573202876e+247, -8.38503339585209e+241,  3.09982144778779e+231, 3.30500436135124e-32, 2.64986902540164e+180,  2.44047694750493e-152, 2.18178576370807e+243, -3.23409418311034e+244,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -4.95668081957698e+245,  -5.82900682308922e+303, -8.52438965099359e+245, -8.72554259640141e+245,  -6.17189479381467e+303, 1.33283325263285e-105, 1.38501003789401e+219,  3.4819568357527e+228, 9.0765580776156e+223, -3.49120610854758e+304,  -6.26770018640191e+245, -2.54624726144729e+306, 1.42873420450692e-101,  NaN, NaN, NaN, 9.36270038563636e-307, 1.08729903862711e-311,  -5.54371769730047e+303, 5.26873114434066e+178, 2.78348553888541e-309,  7.50963275955378e-308, 6.80571229283552e+38, NaN, NaN, NaN, NaN,  NaN, NaN, -5.1071114359872e+245, NaN, NaN, NaN, NaN, NaN, NaN,  -5.18931555224442e+245, NaN, NaN, -6.30948725319357e-256, 7.1177190551809e-304,  4.32185817775748e+43, -4.39920255204919e-259, -1.18182239472382e-125,  NaN, NaN, -5.7502866102558e+243, -8.22918610235701e+304, NaN,  -7.82321292294061e+306, 4.4601213853708e+43, NaN, 4.2719740745771e+96,  4.24726189137218e-314), x = NA_real_)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
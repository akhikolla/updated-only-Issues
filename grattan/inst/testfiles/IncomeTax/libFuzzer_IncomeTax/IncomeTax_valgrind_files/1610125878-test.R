testlist <- list(rates = numeric(0), thresholds = c(1.39065217937453e-309,  1.39064994160909e-309, 1.39067107972171e-309, 7.06327445644526e-304,  1.38523885234213e-309, 1.6101344779313e-24, -1.85130646334873e+304,  NaN, 2.54552169758936e-29, NaN, NaN, -1.71833317411388e-93, 2.11954162065895e-321,  2.92300606221674e+48, 2.95941249538295e-144, 2.8413217318033e-173,  2.84132113906601e-173, NA), x = c(5.4322273057831e-312, 7.06327445644526e-304,  -5.48612406919316e+303, 3.7186866822875e-294, -5.82900165458517e+303,  2.63554948580763e-82, 5.37986976831681e+228, 2.14899131997106e+233,  9.2637000607593e+25, 8.90389806611905e+252, 6.94792349893286e-309,  NaN, 1.80331613628623e-130, 1.80331613628474e-130, 4.46015329317765e+43,  3.13152202184476e-294, 1.39065019902192e-309, 7.06327445644526e-304,  1.38523885234213e-309, 4.46014905588667e+43, 7.183239947615e-187,  8.28894823346022e-317, -1.01822421352321e+307, -1.85133771268567e+304,  NaN, -1.12612678835178e-88, 3.13151306251402e-294, NaN, 4.89021338362862e-315,  7.29112200894642e-304, 2.12196380416723e-314, 2.84132109020607e-173,  2.84132113906601e-173, 2.84132113906601e-173, 6.11610085054236e+197,  NaN, NaN, 5.16401285858016e+120, 1.44632716009107e-307, NaN,  -2.74306263117642e+304, 1.66880379407532e-308, -2.70472810814937e-11,  -7.10543413376239e-15, 5.10239975985148e-308, NaN, NaN, NaN,  7.29043462872786e-304, -1.37217643377485e+305, 1.6099325819936e-24,  2.77448120487071e+180, NaN, -1.71833259366468e-93, NaN, 5.43223507567683e-312,  5.16576060113284e+120, NaN, NaN, 2.77448001762435e+180, 2.77448001762435e+180,  6.56526229094945e-145, 2.77448543367522e+180, 2.77448001762435e+180,  2.77448001762435e+180, 1.33939390043606e-142, 1.36257076394703e-105,  -2.87980148639721e+304, -2.88021513611667e+304, 2.78134232976515e-307,  5.29642703449707e+43, 5.43222733992797e-312, 1.38523885234213e-309,  5.41108926696144e-312, 2.78134232315923e-307, 7.97859330059203e-29,  3.13151306255959e-294, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
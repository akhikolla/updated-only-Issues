testlist <- list(rates = c(2.80103704451952e-312, 2.43714895891853e+189,  -1.42447098956418e-305, -8.24519868127501e-157, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30331097358367e-156, -2.30331110816477e-156,  NaN, -5.48612677708849e+303, NaN, 7.07039469279248e-304, -2.60644468696874e+304,  -5.66324542991478e+303, 2.84809454421703e-306, 3.78987813636309e-312,  3.65365169083783e-306, -5.48612677708849e+303, NaN, 7.07039469279248e-304,  -2.60644468696874e+304, NaN, NaN, 1.390671161567e-309, 7.00767890007107e-310,  4.95224540049976e-303, 1.21044018122494e-305, -2.05226841231125e-289,  NaN, NaN, -5.48612677708849e+303, NaN, NaN, 8.28904161186728e-317,  0, 0, 7.2911220195564e-304, 1.21044018122494e-305, 1.41497286004339e+190,  1.84870553760561e-272, 9.70418706716128e-101, 9.70418706716128e-101,  -5.82789329454073e+303, -5.82900681339507e+303, NaN, -3.47896303666081e-147,  1.2564435285036e+294, -1.12858219226798e-276, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30327665540415e-156, 7.1987099133561e-310,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059075e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, 3.65207087186091e-306,  3.9191047797502e+202, NaN, -5.47489365011169e+306, 4.65661286890991e-10,  NaN, NaN, -9.778174000581e-150, -9.77817374572448e-150, 6.95335628224222e-310,  -2.35343736826449e-185, -2.32219514245902e-185, -2.35343736826454e-185,  1.09517826100207e-314, 2.89051136923871e-306, 6.9881578015912e-310,  -2.30328334270592e-156, -2.30331110816477e-156), thresholds = c(NaN,  NaN, NaN, NaN, NaN, NA, 0, 0, 0, -8.24519868127501e-157, -2.30313370586657e-156,  -2.30331110816477e-156, -2.30331097358367e-156, -7.95541638165798e+304 ), x = c(7.19865895515034e-310, 0, 0, 0, 0, 0, -6.76320620807699e-231,  -5.08189404593326e-306, 2.71619753059411e-312, -4.43299244323487e-287,  1.38999208669611e-309, 2.393494597516e-301, NaN, 8.35872426077412e-77,  6.59211810112493e-306, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  -5.46382737277339e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, 1.42925720941136e+190,  -2.29827868270695e-185, -2.35343736826454e-185, -2.35343736640235e-185,  2.55299312779258e-156))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = 9.70418706715965e-101, thresholds = c(-8.10377248507696e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -2.82126001103731e-277, -1.39408757479111e-309, Inf, Inf, 4.65661179756664e-10,  NaN, -2.30880195073034e-289, 9.70418614815292e-101, 8.02711540254363e-125,  NA, 0), x = c(0, 0, 0, 8.9038958230722e+252, 4.44032494274833e+252,  1.67792003657629e+243, -8.22918609098882e+303, 4.46108959687689e-140,  3.60297094497336e-306, -1.41512921789463e-296, -1.41512921789466e-296,  -1.41512921789466e-296, 4.1610297624566e-317, -2.30331110816476e-156,  -1.42382386775037e-296, -2.30327875177074e-156, -2.30327665540415e-156,  7.29069965756742e-304, -9.77719780333766e-292, 2.56647495437448e-301,  -2.18070808433259e-289, -9.77719780339486e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, 2.62662878777114e-301,  1.21044018122494e-305, 5.85363771868791e+170, 2.10901416965392e-312,  5.85363771866079e+170, 7.51896959321261e-304, -2.97578981950058e-288,  NaN, 0, 0, NaN, -9.77719780327796e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -2.82126001103731e-277,  -1.39408757479111e-309, -1.24267801634966e-267, NaN, 4.65661287305794e-10,  NaN, NaN, NaN, NaN, 1.25986739689518e-321, 0, 0, 9.70418706716772e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, -1.34481107682851e-284, NaN, 5.7733696573141e-114,  4.28737568547723e+160, 9.26369954273059e+25))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
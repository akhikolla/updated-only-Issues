testlist <- list(rates = c(-8.81442989928447e-280, 7.74565138159227e-304,  2.33985684609802e-269, -1.26836459270829e-30, -2.29827868270113e-185,  NaN, -9.11390251723403e-306, -1.84912323762905e-248, NaN, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30327665540415e-156, -2.30331110816477e-156,  NaN, NaN, NaN, NaN, 1.390652843099e-309, 2.29522492043931e+176,  0), thresholds = c(-1.24281111519981e-267, 2.47229315721747e-94,  -9.37438000465967e-287, 2.61006680314917e-312, 5.4323092248711e-312,  0, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 4.17690162132925e-317,  -2.30331110816476e-156, -2.30331110816477e-156, -2.29449120144681e-156,  -2.30331110816477e-156, NaN, -9.77720152105024e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  4.46078843844753e-99, 7.19919233962066e-310, 2.12131683540626e-309,  4.36707825033567e-306, -6.36390391980068e+305, 3.65207087186091e-306,  NaN, NaN, 1.00011395034015e-100, -2.27017816067629e-156, 9.70418706716128e-101,  9.70418706716128e-101, -2.29827868268921e-185, -2.35343736826454e-185,  -2.35343736640235e-185, 7036874417766.4, 2.80365634892121e-312,  -7.95541638165798e+304, 3.56047671159453e-306, 2.08994267381979e-100,  7.10169581022479e-304, 4.65604443888878e-10, NaN, -2.23286802395916e-286,  7.55038392918905e-15, -5.70176517603125e+303, 2.72888655986149e-312,  8.27578358539697e-312, 9.70418706716128e-101, -7.39330267079432e-287,  5.4323092248711e-312, 2.332463439243e-12, 9.70418706716148e-101,  NaN, NaN, 1.06928694104703e-314, -2.30331110816307e-156, -2.30331110816477e-156,  -6.05390363808932e-157, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30331110763906e-156, -2.30331110816477e-156,  NaN, NaN, NaN, -1.3854086120054e-309, -2.29602087786811e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110763906e-156,  -2.30331110816477e-156, 3.916129996301e-306, -8.98798625795533e+307,  -3.01442017637792e-305, -1.24267941904771e-267, 7.37818343015789e-301,  1.21044018122494e-305, 1.64197338376848e-307, -2.30331110763907e-156,  -2.30331110816477e-156, -8.81442989921081e-280, 7.44838151409571e-304,  -2.89333522836322e-277, NaN, -5.96890832411666e+306, 7.2903564850127e-304,  -1.85907808796256e-183, -8.22811676136439e+304, 3.02610044756979e-306,  3.83698199955456e+117), x = c(NaN, 2.94024551642532e-306, 3.83698199955456e+117,  7.29069965756742e-304, 0, 0, 8.44254251528635e-227, 3.8004944616188e-311,  NaN, 7.17719822995867e-304))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
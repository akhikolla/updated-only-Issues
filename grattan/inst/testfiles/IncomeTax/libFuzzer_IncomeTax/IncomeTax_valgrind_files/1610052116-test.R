testlist <- list(rates = c(NaN, -3.07840260097373e-288, 6.52166652510445e-322,  0, 8.44254251528635e-227, 3.8004944616188e-311, -8.81442986644817e-280,  -1.26834825275039e-30, 1.53948714210656e-314, -1.26836404691013e-30,  -2.82145547645118e-277, -1.2437121450743e-30, -1.26836459270829e-30,  3.78576699573368e-270, 1.00891829346111e-309, -3.0287015987817e-288,  2.94023802184288e-306, 1.47812115956268e+282, 7.1991923423022e-310,  5.85363771174557e+170, -2.23033286482316e-289, 7.84460841922937e+168,  5.85363771868791e+170, -9.77579998268762e-150, NaN, NaN, NaN,  3.65365169506531e-306, 1.08601191987483e-306, 7.20267745233438e-304,  2.71502979554261e-307, -8.83059900015834e-280, 7.51632732173264e-304,  2.12628684398374e-314, NaN, NaN, -1.40444776161118e+306, -1.26836421655325e-30,  2.39958945525286e-309, 5.68604456976406e-270, -8.81443176193936e-280,  3.56048353890963e-306, 0, 0, -5.48612407015086e+303, 2.96439387504748e-323,  NaN, -2.30331098825896e-156, 2.72938588030555e-312, -8.81442988748469e-280,  7.40209997783876e-304, -2.12198042552369e-314, 3.83677401710034e+117,  NaN, -1.06567983545374e-314, 1.06099789548264e-314, 7.06327445644526e-304,  -3.13227758653431e-294, -9.77719780333789e-292, 2.72705584571209e-312,  5.4169641229678e-307, -9.77720153674256e-292, -7.93064314961072e-308,  3.65784678046929e-306, 1.390671161567e-309, 3.56048353890995e-306,  -1.23416654681114e-30, -1.26836459270829e-30, -7.2239847844844e-287,  4.94065645841247e-324, -2.29827868269844e-185, 6.65988378995207e-310,  NaN, -2.24767481577993e-289, -1.24371214513728e-30, -1.26836459270033e-30,  3.66343140688495e-305, 3.22048866822797e-314, 2.9548964544048e-306,  3.25938534064814e-312, 2.87905598533622e-306, -7.39330192498285e-287,  NaN, 2.56647495437459e-301, -2.18103493600849e-289, 8.2889857824493e-317,  0, 0, 0, -5.48612407015086e+303, 2.96439387504748e-323, -2.23284595460472e-289,  7.29112201961132e-304, -3.04032340213361e-288, 1.13402051533242e-314,  -3.18993387177143e-248, 5.84082107599125e-308), thresholds = c(-1.46643295044703e-238,  -1.46643295044703e-238, -1.46643295044703e-238, -1.46643295044703e-238,  -1.46643295044703e-238, -1.46643295044703e-238, -1.46643295044703e-238,  -1.46643295044703e-238, 9.84285833154479e-101, 9.70418706716128e-101,  4.49490997380411e-101, 9.1603645752645e-313, 1.48074143480854e-105,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  8.02711540254363e-125, 9.70418706716128e-101, -1.26829133184172e-30,  2.8435571614667e-312, -7.06373421489677e-304, 2.64121166339307e-301,  -1.26836459270829e-30, 0, 3.94108708470682e-312, 2.71598149214445e-306,  -1.26836459270255e-30, 3.66148293307183e-314, -1.2341419504043e-30,  1.39234638229383e+190, 2.56671034283804e-301, 7.29112639256595e-304,  NaN, -2.11840698478085e-289, 1.24351972100265e-13, 7.2903536873204e-304,  1.09614956738224e-314, 5.94571560506927e-302, 4.29105301847264e-317,  0, 0, 5.59610256518376e-275, 0, 7.27929436294622e-310, -2.93988024154063e-306,  -2.06028507410418e-289, -2.87284971981314e-188, 0, 4.53801546776667e+279,  -1.06597124722923e-314, -2.11852534546502e-289, -3.07840103521725e-288,  -6.64630829265655e-287, 9.70418706716122e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  -1.97671907332562e+306, NaN), x = -1.466432950447e-238)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
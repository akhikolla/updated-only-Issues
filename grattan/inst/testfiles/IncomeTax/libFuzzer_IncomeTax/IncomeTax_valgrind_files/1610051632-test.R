testlist <- list(rates = c(1.09938406101709e-314, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(NaN,  NaN, NaN, 2.73154957273902e-312, NA, -2.30331110816477e-156,  -1.12583501772562e-305, -Inf, 6.23776052853512e+291, 6.95335580786025e-310,  3.83698281198602e+117, 1.65778412905876e-112, -1.26836459270826e-30,  NaN, -5.48612409981092e+303, 2.00877667922348e-139, NaN, 1.91777968406795e+289,  2.11860490856237e-309, 2.36643149187119e-307, -8.47794417983172e+303,  -2.0860067423505e-308, 2.87903833031139e-306, -7.92736885289052e-308,  2.64121202305875e-301, -3.21903556480419e-146, Inf), x = c(-Inf,  -1.17255401062255e-117, -1.17255401062255e-117, -6.32191260112917e+37,  5.70020350290392e-93, -8.96433706188271e-280, NaN, 7.07039469279248e-304,  -2.60644468696874e+304, -5.66324542991478e+303, 2.84809454421703e-306,  3.78987813636309e-312, 3.65365169083783e-306, -5.48612677708849e+303,  NaN, 7.07039469279248e-304, 8.63073241202148e+115, -2.82116785652972e-277,  NaN, NaN, NaN, NaN, 7.1420641308985e-304, NaN, 2.71623750252558e-312,  -2.29827867994589e-185, 4.77830744826092e-299, 1.21044018122494e-305,  5.85363771868791e+170, 2.10901416965392e-312, NaN, NaN, NaN,  NaN, NaN, -5.02570917414969e+306, 6.37328271834745e+40, 1.0451773909944e-308,  6.98391337613737e-310, -1.12583501772045e-305, 8.90116190052996e-306,  8.63073241202148e+115, 5.43963219073625e-312, -3.13151456273518e-294,  -9.77719780333789e-292, -9.77719780333835e-292, -1.12803240733446e-291,  -9.77719780333789e-292, -2.20216447764871e-289, 7.57771153258705e-304,  -6.56725888219402e-287, -5.82900160201762e+303, NaN, -1.17255401062255e-117,  9.70418708486102e-101, 9.70418706716128e-101, 2.72677856899662e-312,  -8.81442988748469e-280, Inf, -2.30331110816477e-156, -1.12583501772562e-305,  -2.30331110816477e-156, -6.36358120662016e+305, -6.64678428260241e-287,  NaN, NaN, NaN, -9.77818300079457e-150, 2.94613684519112e-306,  -1.01124262054605e-185, 6.06584682809919e-301, -6.64677928231362e-287,  NaN, NaN, NaN, -9.77818300079457e-150, 2.94613684519112e-306,  -1.01124262054605e-185, NaN, NaN, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
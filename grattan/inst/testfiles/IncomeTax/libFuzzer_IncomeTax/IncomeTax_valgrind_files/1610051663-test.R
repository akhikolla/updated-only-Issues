testlist <- list(rates = numeric(0), thresholds = c(-Inf, -2.30331110816477e-156,  -6.36358120662016e+305, -6.64678428260241e-287, NaN, -8.0658927370886e-308,  3.65784678046929e-306, 1.390671161567e-309, -2.30331110816477e-156,  -1.23416654681114e-30, -1.26836459270829e-30, -7.2239847844844e-287,  4.94065645841247e-324, -2.29827868269844e-185, 6.65988378995207e-310,  NA), x = c(-Inf, NaN, NaN, 8.50763648883411e-310, -2.35343736826454e-185,  -2.35331532831998e-185, -2.35343736826454e-185, -7.12492234591183e-277,  -4.27803982342683e-317, NaN, NaN, -7.56579248224538e-171, NaN,  NaN, NaN, -2.60644468696874e+304, -5.66324542991478e+303, 3.9410870281363e-312,  2.71598149214445e-306, -1.26836459270255e-30, 3.66148293307183e-314,  -2.11877102048669e-309, 3.65190389201212e-306, 3.916129996301e-306,  -1.23424435066188e-30, -2.24767481577173e-289, 7.54951658409808e-15,  -3.1315127781037e-294, 3.56047671159453e-306, -8.02506476812756e+304,  1.390652843099e-309, 6.01362129181413e-317, -2.27359145791771e-289,  7.84460841922937e+168, 5.85363771868791e+170, -9.77579998268762e-150,  NaN, NaN, NaN, NaN, -5.82900681748311e+303, 1.09850957322306e-314,  0, -2.18053517568976e-289, 7.9327407573336e-301, -8.81442986664383e-280,  NaN, 1.86165783044538e-130, -1.40946656124468e-52, -6.5692055167788e-287,  4.42082430100931e-317, 0, 6.98594916738453e-310, -2.97578918250622e-288,  NaN, 7.73070854945038e-12, 4.46108958707162e-140, 3.60297094497336e-306,  -8.81442988453379e-280, 2.00877668060135e-139, 2.00877667922349e-139,  7.10464042017561e-304, 2.41252237132898e+306, NA, 9.37333633526043e-312,  -5.78534238436574e-34, -1.26836459270829e-30, 4.33892353296385e-317,  7.00746712868804e-310, -4.93185008443201e-31, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-1.25152205320375e+306, 2.60187727435827e-259,  NaN, NaN, NaN, NaN, -2.34568207499818e-185, -1.23269146090507e-30,  3.78576699573368e-270, 2.1008124476602e-309, -2.18053517568976e-289,  7.29112201961132e-304, -3.04032340213361e-288, -5.16216864417122e-306,  1.90709339294721e-321, -2.35343652660979e-185, -2.35343736826454e-185,  -2.35343736826451e-185, -7.12492062436982e-277, -4.27803982342683e-317,  3.65345883218006e-306, 2.8480945455619e-306, -5.48612677708818e+303,  2.72888655986149e-312, 3.66145950596111e-314, -1.2341419504043e-30,  -1.80650535611164e+307, -9.7757963632732e-150, 2.73729184714066e-312,  1.11604253465019e-314, NaN, NaN, -2.82151357938734e-277, 9.7041870635714e-101,  7.91826926828272e-101, 9.70418668394489e-101, 9.64395611395822e-101,  9.70418161697268e-101, 9.70418706716128e-101, 9.70418706716128e-101,  3.7835305088198e+117, -1.97637754038728e+306, 1.25986739689518e-321,  0, 0, 0, 9.72926582174422e-309, NaN, -1.40444736503779e+306,  -2.30331110816294e-156, 2.8121845082366e-312, -6.64550662527324e-287,  -1.79946180325619e-158, -7.29112034909085e-304, 3.83677401710034e+117,  -2.11966639819275e-289, 1.3854086120054e-309, 7.09442896714219e-304,  -6.98448328841344e-251, NaN, 1.42873492569887e-101, -1.26834825275039e-30,  NaN, -1.26823093099111e-30, -2.24767623012983e-289, -1.24371214513728e-30,  -1.26836459270829e-30, 2.84809453888922e-306, -3.01406959776519e-135,  -8.47794417983927e+303, 2.81218450871091e-312, 3.23790861658519e-319,  -1.1739140911113e-276, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30327665540415e-156, 7.1987099133561e-310, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  3.83677275828159e+117, -5.46354690483809e-108, -5.4635451747904e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108), thresholds = c(-2.30331110816477e-156,  -1.1258344744947e-305, -2.30331110816298e-156, -3.89761506321888e-31,  2.8435571614667e-312, -7.06373421489677e-304, 4.03016916411296e-306,  -1.2341419504043e-30, -2.30161901134339e-286, -7.92736885188778e-308,  -3.13151277809734e-294, 3.56047671159453e-306, -8.02506476812756e+304,  1.390652843099e-309, 4.28183424758689e-317, -7.39330388852429e-287,  2.12199579096527e-314, 2.56647495436053e-301, -2.30331110816311e-156,  -2.30331110816477e-156, -6.05390363808932e-157, -2.30331110816477e-156,  -1.32083970011845e-284, 3.65207087186091e-306, NaN, NaN, NaN,  -3.04032340822922e-288, 2.95483003593663e-306, 7.10542909137157e-15,  7.29112222369261e-304, 7.18370196731299e-310, NaN, NaN, NaN,  NaN, NaN, -5.66361487688049e+303, -2.05251892169442e-289, 7.06344181231178e-304,  Inf, NaN, -8.06444165483564e+303, NaN, Inf, NaN, 3.66343140689406e-305,  9.70468211527203e-101, 7.91826926828272e-101, 9.70418706716128e-101,  -3.79844687780135e-33, 3.66343140688495e-305, 7.17065483396996e-310,  1.25132503612933e-308, NaN, -1.03844017827495e-149, -1.3940876176981e-309,  -2.82116711389295e-277, -8.81442986644843e-280, 2.56647495437793e-301,  -2.30331110816311e-156, -2.30331110816477e-156, -2.82151061724582e-277,  9.7041870635714e-101, Inf, 9.70418668394489e-101, 9.64395611395822e-101,  9.70418161697268e-101, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-6.40588384092348e-145, -2.97619079749159e-288,  -2.11852534546505e-289, NaN, 6.6204796542727e-322, 0, -5.48612407015086e+303,  -3.18455528907639e-248, NaN, 8.53111842805754e-85, 1.91777968406795e+289,  1.425439003045e-308, -3.18993387175897e-248, -6.56793027847815e-287,  3.02601352598632e-306, 3.83698199955456e+117, -Inf, 2.84809454421762e-306,  5.74181327464388e+199, -2.11852534547717e-289, 6.1832600368085e+171,  -2.87284972396811e-188, -2.35343736826454e-185, NaN, -2.35343736826454e-185,  7.17736025324155e-310, 7.32777351949015e-15, -2.30331110816477e-156,  6.98722785359005e-310, 7.17075811523595e-310, NaN, NaN, -1.32937738170025e-284,  -2.60644467998717e+304, 7.18372580480888e-310, -5.16216864090975e-306,  -Inf, -1.85907762421774e-183, -9.77580118946814e-150, -2.1810371963776e-289,  7.29112201961132e-304, -3.04032340213361e-288, 6.68174101761659e-310,  7.52609340433885e-304, NaN, -9.77818300079457e-150, 2.94613684519112e-306,  -1.01124262054605e-185, 6.06584682809919e-301, 0), thresholds = c(2.00877667922349e-139,  Inf, 2.41252237132898e+306, 2.2737545353612e-12, NaN, -3.01363922187477e-135,  -1.12858219058046e-276, -2.30331110816477e-156, -2.30331110816477e-156,  Inf, 7.1987099133561e-310, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, 2.04859169194902e-139,  -5.46354690059075e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.97027271100708e+306, -5.46354690055819e-108,  -5.71336793340794e+303, NaN, 7.07039469194368e-304, -2.60644468696874e+304,  -1.3675878655138e+306, NaN, 7.2911220195564e-304, -1.03867836357564e-149,  7.29112201953075e-304, 2.04859169194902e-139, -3.65190247027503e-306,  2.71984340047916e-312, 2.84809454436e-306, 4.95400018337535e-317,  0, 2.95489645946111e-306, 7.10542909137157e-15, 6.98594959325193e-310,  -2.97578918250622e-288, NaN, -2.9937879424658e-132, -2.30331110816476e-156,  -2.30331110816477e-156, -2.29449120144681e-156, -2.30331110816477e-156,  -1.84314079543842e+306, 7.1987099133561e-310, NaN, 3.78576699573368e-270,  7.29112072938316e-304, 3.90913128434215e+304, 3.65784678046935e-306,  2.64868637588937e-305, 5.83290117016801e-301, -6.64677928231362e-287,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, -2.24767481577176e-289, 2.56647495436059e-301,  -1.26836452888033e-30, 6.01362129181413e-317, -1.26836459057627e-30,  4.00791842552789e-306, -1.26826829408472e-30, 2.40086640681612e-300,  5.67865049360052e-270, 3.94108708383232e-312, -3.04032341140367e-288,  7.84460841917251e+168, 2.81218450794511e-312, 0, 0, -5.46299595576676e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690056452e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-1.29287484775418e+164, NaN, 6.55651547276648e-07,  -5.48612405857659e+303, NaN, NaN, -9.00181948337867e+241, 5.02982669403682e-10,  1.18495754800529e-303, -1.29211778498328e+294, NaN, 1.390671161567e-309,  NaN, NaN, NaN, NaN, -1.99700494896339e+242, NaN, 7.2911220195564e-304,  NaN, NaN, 6.24349710063198e+144, NaN, NaN, NaN, -5.17538835488245e+245,  NaN, -6.31007801965972e-256, 5.5446316004081e-97, NaN, 1.02088463191188e+40,  6.23890137043877e-307, 3.94212982853171e-259, 2.82820116936561e-110,  1.36845553155725e-48, -5.17538999909499e+245, NaN, 5.54533937832579e+131,  5.95750258651972e+228, -5.18846954791325e+245, 6.06452378675548e+228,  NaN, NaN, -1.29211778557815e+294, 9.36318416482658e-307, 3.28527517407201,  -1.01163270339852e+308, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  -5.17538835488245e+245, NaN, -6.3100779998114e-256, 5.5446316004081e-97,  NaN, 1.02088463191188e+40, 7.76462361821357e-304, -5.49989590899971e+303,  -4.93751584743096e+304, NaN, NaN, 1.20270737744251e-72, NaN,  -5.74994784420039e+243, -5.17495827120738e+245, -5.1893155522444e+245,  NaN, -5.18931555224423e+245, -1.29287484775418e+164, -5.82982301129014e+303,  NaN, 1.51193768685564e-304, NaN, NaN, NaN, NaN, -3.10503491799727e+231,  4.01378071039507e-297, 1.42943178999697e-101, 4.07221237780293e-308,  1.65781316445591e+40, NaN, 2.12199579047121e-314, 0, 0, 0, 0,  0), thresholds = numeric(0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(NaN, -5.10716561443134e+245, NaN, -5.8289348415118e+303,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 2.12199579047121e-314,  0, 0, 0, 0, 0, 0, 0, NaN, 0, NaN, NaN, NaN, -8.73989987746428e+245,  NaN, -6.31008200917246e-256, 2.31421397865549e-306, 4.10129188391872e-304,  -5.17539063742609e+245, -8.72597601819531e+245, 2.33589399366229e-310,  -8.52438963484146e+245, -5.49989589574762e+303, NaN, -8.5243896509936e+245,  -8.64067982270303e+245, -6.31001569488506e-256, 5.54094459135071e-310,  NaN, 6.85453414910053e-07, NaN, 1.390671161567e-309, 6.55651541948862e-07,  1.58653735272582e+124, -3.3660338951184e+304, 9.96833088362618e-306,  NaN, -2.88021513611669e+304, 8.73189386359976e-308, 6.80564989907453e+38,  1.51189165578349e-304), thresholds = numeric(0), x = c(NaN, -Inf,  NA, -8.22918610319053e+304, NA))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
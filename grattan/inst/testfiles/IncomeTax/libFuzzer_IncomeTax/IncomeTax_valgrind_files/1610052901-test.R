testlist <- list(rates = c(3.56013998772825e-306, 8.97712454626148e-308,  -1.2515222467767e+306, 8.28904556439245e-317, NaN, 1.390671161567e-309,  7.55920438137107e-322, 0, 2.72888639350958e-312, 3.60253364404992e-306,  NaN, -3.07840260097378e-288, NaN, 1.00770496620186e-309, 7054118904097.5,  -4.11521015717976e-99, -3.47040770899027e-147, 1.24351985838077e-13,  -7.79753666137985e-308, 3.93230069501036e-312, 8.74601910837028e-310,  2.87903833692702e-306, NaN, 2.56647495438769e-301, -1.26836452888033e-30,  6.01362129181413e-317, -1.80650535307504e+307, 2.71619622528255e-312,  -2.35343736826454e-185, 2.72888658717838e-312, 7.14190420369699e-304,  2.72505724091204e-312, -5.08165230815203e-306, NaN, -2.24767481577993e-289,  -1.24371214513728e-30, -1.26836459270033e-30, 3.66343140688495e-305,  3.22048866822797e-314, 2.9548964544048e-306, 3.25938534064814e-312,  2.87905598533622e-306, -7.39330192498285e-287, NaN, 2.56647495437459e-301,  -2.18103493600849e-289, 8.2889857824493e-317, 0, 0, Inf, -5.48612407015086e+303,  2.96439387504748e-323, NaN, 5.42203113091213e-312, NA, 1.13160106993595e-314,  -3.18993387177143e-248, 5.84082107599125e-308, 6.07700744384733e-322,  1.26480805335359e-321, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, 3.94108708470682e-312, -1.26836419890938e-30,  -1.26836459270228e-30, 1.11688277665699e-308, 6.23735309290007e+291,  -2.32219514245905e-185, -2.35343736826454e-185, 1.09517826100207e-314,  NaN, 1.25827666862573e-60, -5.66365833706557e+303, 5.43230922486616e-312,  Inf, -1.26823100659151e-30, -1.26836459270829e-30, 2.94126950674427e-306,  -Inf, -5.34349793087407e-187, -1.8491226448898e-248, NaN, -2.82145547645121e-277,  1.67129192517088e-112, -1.26836459270826e-30, 1.00891829368586e-309,  1.25800338602655e-316, 0), thresholds = c(NaN, NaN, 1.44804023176556e+190,  -1.75590191507535e+306, 2.29775642758296e+189, 4.36428616530596e-306,  3.90913259233617e+304, 3.65784678046935e-306, 2.40307977249576e-306,  7.2911220195564e-304, 0, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, 0), x = c(-2.30331110816473e-156, NaN, 2.81199605989981e-312,  NaN, -5.96890815669344e+306, 9.70418706723041e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  7.91826926828272e-101, 7.14174713967791e-304, 5.43226988934558e-312,  0, 0, 0, 3.60739284464096e-313, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-2.30331110816477e-156, -2.30331110816477e-156,  NaN, 1.3854086120054e-309, NaN, NaN, 6.95335580946088e-310, -2.87285026134096e-188,  -5.66362677157793e+303, NaN, NaN, 1.3854086120054e-309, NaN,  NaN, -2.30331110816477e-156, 5.43230922486616e-312, -1.21044126548976e-305,  -1.84912323760304e-248, 7.29112201953081e-304, -2.11966640218428e-289,  -5.81608789291487e-34, 2.97723608048101e-306, -2.30331110816477e-156,  2.11057945361079e-309, -2.30331110816477e-156, 0), thresholds = c(-7.29023379013114e-304,  2.9621337120295e-306, -2.2962031506993e-156, -2.30331110816477e-156,  -2.30331110816477e-156), x = c(2.71623761463402e-312, -3.56048349640957e-306,  5.85317984828185e+170, -2.10901416965392e-312, 5.67154552225164e-310,  -2.18079352815578e-289, NaN, NaN, -5.46354690059092e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46310509567581e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, NaN, -9.7781740006482e-150, 7.2903536873204e-304,  NaN, NaN, 5.43230922486616e-312, NaN, NaN, -5.48612677708849e+303,  NaN, 3.23785921002061e-319, NaN, -5.48580596472683e+305, -3.04032340822605e-288,  9.7346885156763e-309, 9.07189091595524e-97, -3.72626152437281e+304,  2.74711394303795e-282, -2.6714852594368e+305, 3.02609867570321e-306,  1.8614317067356e-130, 3.32760790845441e-310, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, -5.48612406879369e+303, NaN, NaN, NaN, NaN, -1.26836459351501e-30,  -3.04032340213361e-288, 2.71598149219075e-306, -1.26740169238228e-30,  5.67865050383217e-270, -2.08934551532475e-289, -5.48612930076915e+303,  5.41498511860398e-312, -7.92633112956698e-308, -3.56349055151817e-305,  3.56047812775754e-306, 1.62741141145156e-307, 2.72888639290682e-312,  3.63041237940668e+282, 2.71984550446759e-312, 7.19919233907545e-310,  -7.55234771438901e-287, 3.7835305088198e+117, -1.97637754038728e+306 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
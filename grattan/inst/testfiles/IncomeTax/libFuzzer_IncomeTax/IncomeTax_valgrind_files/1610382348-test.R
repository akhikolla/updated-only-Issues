testlist <- list(rates = numeric(0), thresholds = c(4.77830972979241e-299,  2.82755217285071e-110, 8.37117697266865e+298, NaN, -8.98326001981161e+303,  NaN, NaN, 6.64032995770279e-07, NaN, NaN, 3.53369412955677e+72,  NaN, NaN, NaN, -5.1071114359872e+245, -5.54792475454324e+243,  -8.21418568573715e+304, 2.12455197126707e+183, 3.94213052632413e-259,  -3.18196870780537e+305, 1.65764473723812e-316, NaN, 2.33595787804786e-310,  NaN, NaN, NaN, -2.83637103419045e-124, -2.39536098026912e+260,  4.89613425858066e-299, 1.09572122103091e+74, NaN, 2.57461749641602e-310,  -5.49989590899971e+303, -5.17544279379894e+245, 2.85581692249443e-109,  NaN, 1.09572122103091e+74, 5.48663245635378e-310, -1.1255454651159e-256,  -5.48628102726372e+303, -1.43713943880526e+241, 5.54095540936847e-310,  NaN, NaN, 6.99830926169978e-126, 1.19563886293582e-321, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0), x = 2.17598062478055e-113)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
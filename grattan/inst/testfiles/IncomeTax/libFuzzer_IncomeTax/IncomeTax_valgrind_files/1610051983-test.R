testlist <- list(rates = numeric(0), thresholds = c(5.73716459465271e+170,  -4.25550648705951e+305, NaN, NaN, NaN, NaN, -1.36573625663878e-151,  5.74181509254692e+199, -2.11852534547344e-289, 5.14291266320759e+25,  5.14291266320765e+25, NaN, NaN, NaN, NaN, NaN, -7.40367110377773e-171,  NaN, NaN, NaN, NaN, NaN, -8.59702596077467e-171, 1.41497286004344e+190,  3.93320657029289e-310, -2.08309078433004e-289, -1.21044834447627e-305,  -1.84912323760304e-248, 2.40313001605884e-306, 7.2911220195564e-304,  0, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 7.73071190396379e-12,  NaN, NaN, NaN, 1.00891829368621e-309, 2.67904644895999e+301,  -1.26836459117002e-30, 5.67865050383217e-270, -2.08934551532475e-289,  NaN, 1.01040951582602e-309, -1.26822486837899e-30, -3.85185988877447e-34,  4.00930495879766e-306, -1.26826378018642e-30, 3.94108708470682e-312,  2.92300471201586e+48, NaN, 3.89585164253465e-315, NaN, -5.48612407015086e+303,  2.96439387504748e-323, 3.91612999627774e-306, -3.56047810653759e-306,  2.22507386265735e-308, 2.71615461308772e-312, 7.55920438137107e-322,  0, 2.72888639350958e-312, 3.60253364404992e-306, 4.65604443888978e-10,  -3.04032340529304e-288, -2.87284999376431e-188, -5.08189403532328e-306,  3.00089887426119e+284, 7.19919234229992e-310, 0), x = 5.85318274554714e+170)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = NaN, thresholds = c(-3.0136392218546e-135, NA, 4.77830972678693e-299,  3.6634314068609e-305, -2.11966640218428e-289, -1.2683642165418e-30,  2.39958945525286e-309, 5.68604456976406e-270, 1.53948714210656e-314,  9.70418706357123e-101, 7.36766456486923e-304, 4.4607884361499e-99,  -6.3639039197582e+305, 3.65207087186091e-306, NaN, -8.81442988370206e-280,  7.74565138159227e-304, -5.90896719776808e-306, -1.06099789548264e-314,  -9.77720152104979e-292, 4.95224540605997e-303, -7.39330192379977e-287,  -1.33453641541175e-314, -2.10457917502487e-289, 3.45845952088873e-323,  NaN, -9.77580120675009e-150, 3.23687261230869e-314, 8.63073241202171e+115,  -2.82116926034698e-277, NA, -6.05390363808912e-157, -2.30331110816477e-156,  -1.32083970121448e-284, 3.65207087186091e-306, NaN, NaN, NaN,  7.73071190387239e-12, NaN, -3.0784025986712e-288, -5.46354689218091e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
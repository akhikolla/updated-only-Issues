testlist <- list(rates = c(NaN, 6.80571226377287e+38, 1.51189165578349e-304,  6.55651167129346e-07, -5.8290068026591e+303, -8.52438965099359e+245,  NaN, NaN, NaN, 3.32653163546258e-111, NaN, 4.65661287307739e-10,  5.97554014735771e-311, NaN, 5.56268857482253e-309, NaN, -5.17539189157058e+245,  NaN, 9.75584654393538e-259, -6.03473647567281e+304, 4.45998517039374e+43,  -2.83637103417778e-124, 1.71272844748826e-260, -3.14666901810749e+53,  1.16400467542407e-236, 7.23040374414944e-308, NaN, NaN, -5.17495827121042e+245,  NaN, -2.16160393091974e+236, 1.9725913334549e-302, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(NaN, NaN, 1.390671161567e-309,  -8.46814612596069e+245, 2.38744664558775e-310, 2.70150095835327e-307,  -3.42882754431144e+304, NaN, NaN, NaN, NaN, NaN, 3.32653163546258e-111,  NaN, 4.65661287307739e-10, NaN, 3.24260049547299e+178, 1.04291229360581e+40,  4.86173068579365e-63, NaN, 9.75584653612141e-259, -6.03473647567281e+304,  4.45998517039374e+43), x = -8.72602724925346e+245)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
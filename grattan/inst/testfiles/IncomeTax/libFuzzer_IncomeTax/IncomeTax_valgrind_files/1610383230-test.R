testlist <- list(rates = c(2.82820116936561e-110, 4.65661275987818e-10, -8.7777985100699e+304,  1.19787461677606e+142, NaN, -5.50078902973508e+303, 5.95750278987369e+228,  NaN, 4.7282819493278e-308, 6.55651541948862e-07, 1.58653735272582e+124,  -3.3660338951184e+304, 9.96833088362618e-306, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, 6.99830926169978e-126, NaN, 1.36845553142777e-48,  -5.7502851316102e+243, 1.38653691272916e-309, 1.70114806571822e+40,  -3.31521377423868e+118, 6.55651094312864e-07, NaN, NaN, NaN,  NaN, -5.48633958130682e+303, -5.18847371542227e+245, -5.17539168553194e+245,  NaN, 1.31756732478297e-309, NaN, NaN, NaN, 2.12455196732528e+183,  NaN, 1.42991535880133e-308, 2.82820116936561e-110, NaN, NaN,  1.80331613628628e-130, 2.21386307615192e-80, -1.93372419505209e+242,  1.63335553564935e+40, 4.77830972877259e-299, 1.13203791517755e-72,  NaN, 0, 0, 0, 0, 2.84809453888922e-306, 0, NaN, NaN, -5.48633958130682e+303,  -5.18847371542227e+245, -1.33373254766568e+241, 7.29023283202092e-304,  2.56882117562077e-295, -1.50465302948754e-43, NaN, 2.79513953293095e-129,  NaN, -Inf, 2.16443570677964e-312, 2.7810487249198e-309, NaN,  1.72759795267618e-260, 4.89613425871169e-299, 1.42943178999697e-101,  5.43655321645303e-311, 1.51172411644936e-304, NaN, -5.48634379137228e+303,  NaN, 2.82820116936561e-110, NaN, 0), thresholds = c(3.24181522621478e+178,  4.77028265708835e-299, 1.82922136166111e-260, -9.01171516728222e+303,  NaN, NaN, NaN, NaN, NaN, -2.8866224505485e-63, NaN, 3.56461359105798e-315,  1.04294967003054e+40, 5.43443122066157e-311, -8.739899877442e+245,  NA, NaN, NaN, 1.39065593335898e-309, NaN, NaN, 2.16443570677964e-312,  -1.45094702117037e+128, 2.78132881200157e-309, 5.80430808415093e+180,  -1.53095600232164e+256, 4.89613425858066e-299, 3.9753595253301e+72,  4.77830972974797e-299, 4.90506654460551e-10, NaN, 1.66880619940727e-307,  6.8089704084083e+38, -4.93751584743096e+304, 4.46014903970612e+43,  2.17598151429102e-113, -6.03473626307565e+304, -6.67112686765311e+306,  -5.17539168553204e+245, NaN, Inf, NaN, -1.37153101719842e+305,  -5.1884695316975e+245, 6.06452378675548e+228, NaN, NaN, -1.29211778557815e+294,  9.36318416482658e-307, 3.28527517407201, -1.01163270339852e+308,  NaN, NaN, 1.390671161567e-309, 0, 2.84809453888922e-306, 0, NaN,  -5.06443593276214e+245, -5.17538999909498e+245, -8.4053447558216e+241,  -6.31001569488506e-256, NaN, -2.42479044734714e+260, NaN, 2.05211769658305e-289,  NaN, 3.94212982856942e-259, NaN, 2.12455197126707e+183, NaN,  4.77024164452671e-299, 2.69703506088201e-307, -5.83039854585569e+303,  1.37437816244691e-309, NaN, 2.12199579047121e-314, NaN, NaN,  NaN, Inf, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -8.73989987746428e+245,  NaN, NaN, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
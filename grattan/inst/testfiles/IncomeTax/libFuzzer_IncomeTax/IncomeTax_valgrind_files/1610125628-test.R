testlist <- list(rates = c(1.80330059760174e-130, -7.21232445132069e+304,  NaN, -2.22568242918476e+304, 3.90927718614344e-308, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(NA, 4.79917891050136e-310,  2.78134232502494e-307, 4.16348356759272e+202, 2.77448001771535e+180,  2.77448001761239e+180, NaN, NaN, -7.21232445132047e+304, 2.12455197126707e+183,  2.77448001762435e+180, 4.79918972852347e-310, 2.7518336180954e-135,  5.8705864364286e+197, 2.77448001762435e+180, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, 2.18007543808417e-106, NaN, NaN, NaN, NaN, NaN,  1.44651479773793e-307, 3.83698281196675e+117, 1.39009930609858e-101,  1.23387896896657e-178, NaN, -5.82821363506274e+303, NaN, NaN,  -1.2338789695447e-178, -1.71833311196947e-93, 1.80331613628201e-130,  7.80946698342525e+194, 1.23387897092373e-178, -7.21018141782026e+304,  2.63554948580763e-82, -3.38084306226197e+221, -3.38084306397821e+221,  -3.38084306397821e+221, NaN, NaN, NaN, NaN, -2.22568242918476e+304,  -3.38058523427243e+221, -3.38084306397821e+221, 3.93762843058393e-172,  -2.70494424245477e-11, -2.70494424244937e-11, -2.70494424244937e-11,  2.10736809502888e+183, -Inf, 1.05677636176296e-293, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(NaN, -2.41844193503962e+24, 4.31748707182255e-304,  -5.82900682309298e+303, -5.18846954791325e+245, NaN, NaN, -5.0644359327619e+245,  1.91721240688345e-236, NaN, NaN, -6.03473647567306e+304, -6.03473647567304e+304,  -5.17539168553204e+245, NaN, -5.7502866102558e+243, NaN, -1.13562063553404e-256,  9.12536854268948e-313, 6.64032995770279e-07, 1.3912143924894e-308,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, -5.17453735279954e+245, -1.29209058969158e+241,  -5.18847371542227e+245, -5.18925946911527e+245, -8.46891178714298e+245,  4.73878840674895e-10, 1.18495789628904e-303, 1.42991672770676e-308,  7.00659668223032e-308, -6.03473647567281e+304, NaN, NaN, NaN,  NaN, NaN, 1.42943179159788e-101, 1.36845553156717e-48, 3.94171798504617e-259,  -4.42390034116555e+279, 1.3684555315672e-48, -6.67112686764897e+306,  -5.17539168553204e+245, 6.54671602878557e+151, 4.55926526610949e+169,  2.70150173051498e-307), thresholds = c(3.9417200938354e-259,  2.84878987446984e-306, 5.9575027849389e+228, 2.78923464737621e+228,  2.08809742756317e-53, -5.50078690424118e+303, 5.95750278987369e+228,  5.95750278985497e+228, -2.36553070576976e+306, -4.7889390781809e+54,  3.94213052639985e-259, 7.06330923481794e-304, -8.73989987174112e+245,  -5.10630272757701e+245, NaN, NaN, 3.1049472733222e+231, NaN,  1.36845553142777e-48, NaN, NaN, NaN, 4.81457984502879e-10, -3.38084239313011e+221,  1.39612145217072e-309, NaN, NaN, NaN, 3.24255102939254e+178,  1.04291229360581e+40, -5.17544279379894e+245, 3.86135484724363e-157,  -5.76043027219731e+304, NaN, -4.55943088768514e-215, NaN, 2.21391465226605e-80,  3.94212982856897e-259, 1.03277276821128e+40, 3.28459702170213e-299,  NaN, 9.36270038563636e-307, 1.08729903862711e-311, 2.33589462432972e-310,  -2.83637110188085e-124, NaN, NaN, NaN, NaN, NaN, -8.22918610319053e+304,  -4.08986561657492e+245, NaN, NaN, -5.17538835488245e+245, NaN,  -6.3100779998114e-256, 5.5446316004081e-97, NaN, 1.02088463191188e+40,  7.7647348719065e-304, -5.49989590899971e+303, -4.93751584743096e+304,  NaN, NaN, NaN, NaN, -5.7502866102558e+243, -5.75028645430585e+243,  NaN, 1.2409145711033e-08, 8.06589272051311e-308, 4.93592725829426e+169,  9.1249556945683e-313, 1.77424228692982e+159, 1.12414666149604e+79,  3.4928579786701e-110, 4.2472618696333e-314, 5.95750154236552e+228,  5.95750278984877e+228, 5.95750271042234e+228, 5.95750278984877e+228,  3.35884232342361e+227, NaN, -5.75028661020612e+243, 5.95792084061793e+228,  5.95760689429934e+228, -8.52438964180057e+245, -1.46215003400326e+128,  -2.83729433483924e-124, 1.71272844748826e-260, NaN, 5.51611724076149e-310,  NaN, 3.27304120202486e-311, 0, 0, 0, 0), x = c(-2.1455548238518e+110,  -2.14555482385487e+110, 7.29048232221927e-304, NaN, 1.25342204054675e-296,  7.10544092057131e-15))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
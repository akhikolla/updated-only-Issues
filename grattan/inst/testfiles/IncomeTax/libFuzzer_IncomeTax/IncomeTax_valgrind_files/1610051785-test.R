testlist <- list(rates = c(6.23700098582428e+291, 2.06258488060803, 7.29111862521194e-304,  NaN, 1.390671161567e-309, -1.23414195334299e-30, NaN, NaN, 3.65365169506531e-306,  2.8480945455619e-306, 7.10613482629917e-15, -3.67243124657644e-306,  1.81346311408636e+286, -5.79189576537147e-34, -3.85328518608512e-34,  3.56048353890995e-306, -1.26836459270255e-30, 3.66148293307183e-314,  -1.2341419504043e-30, 3.66343140688495e-305, -1.26836459270251e-30,  3.66148293307183e-314, -8.81442592686244e-280, 1.23269447171475e-30,  -1.26836407088752e-30, -1.26836459270829e-30, -1.07030732204574e-149,  1.2564435285036e+294, -5.46354689854955e-108, -5.46354690059085e-108,  -5.46354690059085e-108), thresholds = c(NaN, NA, 0), x = c(4.66726145839586e-62,  4.66726145839586e-62, 4.66726145839586e-62, 4.66726145839586e-62,  4.66726145839586e-62, 4.66726145839586e-62, 7.29040999592168e-304,  0, 0, 2.08883960673144e-314, 9.70395179000027e-101, 9.70418706716128e-101,  9.70418706716128e-101, -5.82789329454073e+303, 3.65365169003052e-306,  2.8480945455619e-306, 7.29111994728991e-304, NaN, NaN, NaN, -3.07840260097373e-288,  -9.79250304651026e-150, 2.33246235504083e-12, -2.15995069167566e-277,  -5.69758255001719e-306, 7.29111937478047e-304, -3.04032340824977e-288,  7.84460841917251e+168, 2.81218450794511e-312, 0, 0, 1.40913782993788e-315,  4.66726145839586e-62, -8.81442986651231e-280, -2.11866430635714e-289,  1.28823036902948e-231, 5.43230939182576e-312, 0, 2.84809453888922e-306,  6.9881578015912e-310, -2.30328334270592e-156, -2.30331110816477e-156,  Inf, NaN, -5.46299574661044e-108, -5.46354690059085e-108, 2.31407681636335e-306,  -5.46354690058774e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  Inf, NA, -5.96890832411666e+306, -5.82900230650667e+303, NaN,  -7.2911220195564e-304, 1.38990724308225e-312, 1.59481413420777e-313,  7.18370196731299e-310, NaN, NaN, NaN, NaN, -2.30331110816477e-156,  6.98064966663806e-310, -2.67120456398365e+305, -3.05240007165387e-188,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = numeric(0), thresholds = c(2.9045589387682e-144,  1.60987973962927e-24, 7.00749000085055e-310, 3.78259259870695e+117,  3.83698281517203e+117, 7.28424602742088e-187, 4.46014905632128e+43,  -2.74306263116906e+304, 7.15604264130611e-304, 9.6938655888847e+192,  2.77448002227611e+180, 3.44394412495016e+178, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 8.10452260312399e+179,  -4.47581667165427e+305, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  2.77448001764258e+180, -5.35359615124229e+305, 2.77448001456303e+180,  4.21502931602958e+193, -7.2101814244246e+304, -4.69526163440614e+305,  NaN, 2.77448001762442e+180, 2.77448001762435e+180, NaN, 2.77448001762442e+180,  -1.59691691568789e-209, NaN, -8.37116099364271e+298, NaN, 8.28904556439245e-317,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), x = c(7.29105919394157e-304,  NaN, NaN, -1.71819990764409e-93, NaN, 7.41841230428919e-68, -3.97744622824617e+304,  -1.71833341151532e-93, -3.38084306397821e+221, -3.38084306397821e+221,  1.80330059760174e-130, 7.2903258603164e-304, 7.29112200906806e-304,  5.43224520914109e-312, 6.47733882621298e-145, 3.32663941052482e-111,  -3.38084174586893e+221, -3.38084306397821e+221, -5.96566221733861e-92,  NaN, -9126798175.89306, -41255400998277.5, -41255400998277.5,  -41255400998277.5, 1.05800080527058e-309, -1.73807234310764e-93,  NaN, -5.48630291652283e+303, NaN, NaN, NaN, NaN, NaN, NaN, 1.38470701984657e-300,  2.23576549985131e-183, 1.38523885266592e-309, 7.11520559445523e-304,  2.8413211397929e-173, -1.92767339828986e+304, 2.84132113906601e-173,  6.11610084063141e+197, NaN, NaN, 5.16401285858016e+120, 1.44632716009107e-307,  NaN, 1.9371509552002e-07, NaN, 1.40018204031409e-320, NaN, 2.34698334694055e+130,  -3.38084306397821e+221, NaN, NaN, NaN, 1.39065477354012e-309,  NaN, 3.84415612738084e+117, NaN, NaN, NaN, -3.53607015069902e-93,  -2.37636826162591e-212, -1.56500839841835e-209, NaN, 2.7744800176243e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.15162051651561e-312,  2.77448001762434e+180, NaN, -1.85133771268567e+304, NaN, NaN,  NaN, NaN, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
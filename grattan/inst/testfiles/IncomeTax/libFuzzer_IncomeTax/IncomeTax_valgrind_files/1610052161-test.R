testlist <- list(rates = c(-5.46354690056452e-108, Inf, 0), thresholds = c(6.23735309290007e+291,  1.25986739689518e-321, 0, 0, 9.6439561139442e-101, 9.70418706716128e-101,  NaN, -7.36331510668791e+303, NaN, 9.70418706716154e-101, -5.82789329454073e+303,  4.65661286896147e-10, NaN, 9.70395180097847e-101, 9.70418706716128e-101,  NaN, 9.70418706723041e-101, NaN, NaN, NaN, 4.62928948355381e-299,  7.29112200626606e-304, 5.43226162760949e-312, 7.1987099133561e-310,  1.38990724308225e-312, 1.59481413420777e-313, 2.94004592407082e-306,  6.9881578015912e-310, -2.30328334270592e-156, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30331110816272e-156, -5.5516993870748e+306,  4.65661286890991e-10, NaN, NaN, -9.77817400064824e-150, 7.2903536873204e-304,  -4.57615391491265e-246, 2.71615461306795e-312, -4.38889926233518e+306,  4.5113879864095e-10, NaN, NaN, -9.77817400064824e-150, 7.2903536873204e-304,  NaN, NaN, -5.48612930076931e+303, -9.7771978178602e-292, -9.77719780333789e-292,  -9.77719780333789e-292, 3.65365168624447e-306, 2.6248057114724e-301,  -1.48603602465348e-267, 1.10313045262037e+217, -6.64678428260256e-287,  NaN, NaN, 7.29109420613317e-304, 4.59481050632359e-322, 0, 0,  9.70395179000027e-101, 2.87811122152947e-306, 2.71619800041101e-312,  7.1420641308985e-304, 7.29023203789135e-304, -2.29827867994588e-185,  -1.97671907330529e+306, NaN, NaN, NaN, 1.09843596040623e-314,  NaN, 4.77830972673634e-299, NaN, 4.65661287305794e-10, 2.84809453891067e-306,  6.9881578015912e-310, -2.30328334270592e-156, -2.30331110816477e-156,  -2.30331110816477e-156, NaN, -5.46299574661044e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108 ), x = c(NaN, 3.6634314009942e-305, 4.00791842555784e-306, -1.2683642165418e-30,  2.39958945525286e-309, 5.68604456976406e-270, -1.26836459270829e-30,  NA, 2.39958945525286e-309, 4.35857935464267e-311, 3.56048353890995e-306,  1.24444302111326e-30, -1.26836407088752e-30, -1.16359697517891e+76,  2.39422219319154e-301, -2.29449120144681e-156, -2.30331110816477e-156,  -1.84314079543842e+306, 7.1987099133561e-310, NaN, -1.03867836358987e-149,  7.2903536873204e-304, -1.54330295333177e-108, -Inf, -5.35044484234063e-108,  -6.05899064779067e-65, -2.25769487008467e-289, 3.65207086127239e-306,  -5.46354799613594e-108, -4.93185008441161e-31, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, NaN, NaN,  1.3854086120054e-309, NaN, NaN, -1.79769313486232e+308, NaN,  NaN, NaN, NaN, NaN, NaN, -5.48612930076931e+303, -2.52435489670724e-29,  3.78576961503532e-270, 2.80103711187549e-312, -1.39066026276696e-309,  3.93320657029289e-310, 6.95495062196921e-310, -2.30331099692468e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110816476e-156,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(3.65365168445792e-306, -2.67127765468308e+305,  1.39066109167247e-309, -5.08189404593326e-306, 3.00089887426119e+284,  1.86165783044538e-130, -3.0149750772162e-305, 1.93215003668078e-301,  7.00753993016327e-310, -2.69092032456518e+305, NaN, -2.8728483499532e-188,  2.84914842304248e-306, 6.9627991035571e-310, -8.60844288764523e-109,  -5.46354690059085e-108, -1.97016600968284e-305, -2.30331110545783e-156,  -6.05390363808932e-157, -2.30331110816477e-156, -1.32083970121448e-284,  -2.30331110816479e-156, -2.30331110816272e-156, -5.5516993870748e+306,  4.65661286890991e-10, NaN, NaN, NaN, NaN, NaN, 2.71615493622147e-312,  -4.38889926233518e+306, 7.29204351617605e-304, NaN, NaN, -9.77817398343519e-150,  7.2903536873204e-304, -2.18103523918193e-289, 2.71623750229337e-312,  2.9548980840727e-306, -2.87284834993229e-188, 5.85363771869593e+170,  -2.11965588213812e-289, -1.83593039382815e-307, 2.22507386265947e-308,  4.94065645841247e-324, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(2.94544152022032e-306,  -Inf, -2.11965588216799e-289, -1.83593039382815e-307, 4.46108959082794e-140,  3.60297094497336e-306, -9.77817370930681e-150, 7.17094358743044e-310,  -7.39330193389141e-287, -2.60644468696874e+304, NaN, NaN, -9.77817400064824e-150,  7.2903536873204e-304, -4.57615391491265e-246, 2.84809593940652e-306,  9.72374856922462e-310, -7.39330493781016e-287, 2.81199605863994e-312,  NaN, -1.26836479922652e-30, 7.00767890007146e-310, -2.30328334270592e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.28453324224707e-156,  -2.30331110816477e-156, NaN, NaN, -2.60644468696874e+304, 3.02584242349159e-306,  -2.2962031506993e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110763906e-156, -2.30331110816477e-156, NaN, NaN, NaN,  1.3854086120054e-309, NaN, -Inf, 7.19919234070053e-310, 2.12131683540626e-309,  4.36707825033567e-306, -1.29054283793418e-306, 3.83677401710034e+117,  NaN, 0, 0, 0, 8.44254251528635e-227, 3.8004944616188e-311, NaN,  7.17719822995867e-304, 9.70418706716139e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, NaN, NaN, 0), x = c(5.85363771868791e+170,  NaN, NaN, NaN, NaN, NaN, -1.97637754038733e+306, 2.72814038002143e-312,  NaN, -7.40507430179044e-171, 2.8487888201287e-306, -1.53640881652066e-312,  4.08271991854279e-311, 0, 9.04140131889481e-322, 0, 0, 8.34402696940201e-309,  -4.4336892348065e-246, -1.18502757750127e+306, -2.60644468696874e+304,  NaN, NaN, -5.96890834432e+306, -5.56851848040853e+303, 6.52663658240386e-99,  -7.89434236126183e+303, -5.82900681339507e+303, 2.65985899590435e+277,  1.10313045262037e+217, -6.64678428260256e-287, 0, 0, -1.80720164994425e-248,  7.20047258077813e-310, 3.91612999607046e-306, -3.56047810653759e-306,  2.22507386265735e-308, 2.71615461308772e-312, NA, 0, 6.98594916738458e-310,  -2.97578918250622e-288, NaN, 7.73070854945038e-12, -2.3033111054666e-156,  1.09015244729545e+217, -4.34335208684707e-99, -2.30313370589194e-156,  -2.30331110816477e-156, -2.30331110816476e-156, 1.09015244729545e+217,  -9.77719780333857e-292, 6.98189997174319e-310, -4.93185008443201e-31,  1.00891829368586e-309, -1.23259516440783e-30, 2.56647495592844e-301,  1.23269034419145e-30, -1.26836459270829e-30, 5.5869437297374e-319,  -1.26836407051221e-30, 4.59640448668306e-140, 2.00877667922349e-139,  7.19929512000783e-310, -1.25152205320375e+306, 2.60187727432278e-259,  3.60253364429058e-306, -2.11965588219791e-289, -1.83593039382815e-307,  -8.81442989918689e-280, 7.44838151409571e-304, 2.84809593942822e-306,  3.78987813636309e-312, 3.65365169083783e-306, 2.8480945455619e-306,  -5.48612677708818e+303, -2.11965588219791e-289, 530.00048928347,  7.19929512000783e-310, -7.18372580480888e-310, -2.35343736497682e-185,  7036874417766.4, -2.35343736826454e-185, 7.17736025324585e-310,  7.32777351949015e-15, -2.51528733646507e-98, -2.30171521140952e-286,  2.81219389612122e-312, 7.55038392918931e-15, -2.18003413361522e-289,  2.84809454421907e-306, 5.57780351528934e-319, -1.26836407051221e-30,  -8.81442989027058e-280, -2.3033111077411e-156, -2.30331110816477e-156,  -1.12583501772562e-305, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
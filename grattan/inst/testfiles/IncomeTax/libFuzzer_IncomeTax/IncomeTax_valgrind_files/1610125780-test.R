testlist <- list(rates = c(2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.82540751131228e-307, NaN, 2.77448001771535e+180, 2.77448001762435e+180,  2.77448001762435e+180, NaN, 2.77448001762435e+180, 7.80946698344994e+194,  8.3720319983699e+115, 3.11941819103289e-143, NaN, 8.10452260312399e+179,  8.26987087667735e-317, 1.80331613627618e-130, 3.16532144686239e+180,  NaN, Inf, 2.7523138412307e-135, 6.98286479238584e-251, -2.64961386164941e-11,  3.83698282131479e+117, -1.12093206609973e+164, 0), thresholds = c(-1.34767156547985e+28,  NaN, -1.34765550943381e+28, -1.34765550943381e+28, -1.34765550943381e+28,  -1.34765550943381e+28, 1.6393457675405e-314, -6.08113124123988e-13,  NaN, 1.39065217937453e-309, 2.77427941414929e+180, 6.56526229094945e-145,  NaN, -1.34765478347124e+28, -1.34765550943381e+28, -1.34765550943381e+28,  -1.34765550943381e+28, -1.34765550943381e+28, -1.34765550804507e+28,  -1.34765550943381e+28, -1.34765550943381e+28, NaN, NaN, Inf,  -Inf, NaN, NaN, 1.62969276758732e-311, 7.29024278668966e-304,  NaN, 7.06327445644526e-304, -2.88018159670685e+304, NaN, -1.93267624126747e-12,  9.11767501288655e-312, NaN, 2.11370674490681e-314, -5.48745941505172e+303,  2.84132113878361e-173, 5.15204585056244e-169, 2.84132113906601e-173,  NaN, NaN, 5.43223507675884e-312, 1.75980615235009e-130, 1.80331613628474e-130,  4.46015329317765e+43, 3.83698282132418e+117, 7.18609505983388e-304,  9.52262077882977e-307, 4.46559051696782e+43, -2.72820946219138e-11,  -2.70494424244937e-11, -2.70494424244937e-11, -2.70494424244937e-11,  -4.73675249882467e+226, NaN, -1.49222574671188e+306, NaN, NaN,  NaN, NaN, NaN, -1.12612678974626e-88, 3.13151306251402e-294,  NaN, 2.84132132514972e-173, 2.84132113906601e-173, 2.84132113906601e-173,  6.48936002251359e-307, -5.4405925475413e+265, -1.85133771268567e+304,  NaN, 2.54552169758936e-29, -Inf, 2.75183362045782e-135, 6.98286479238584e-251,  -2.64961386164941e-11, 3.83698282131479e+117, 8.37203199836951e+115,  4.5243943505808e+43, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(7.50996086258245e-308, -8.76218775545065e+241,  NaN, -1.37153101719842e+305, -5.77615493825487e+303, NaN, NaN,  NaN, 1.97498519159723e+166, 1.21467875813798e+248, 1.68048229123576e+117,  6.36595216459214e-313, -1.96654331910306e+242, 7.50996086258245e-308,  NaN, NaN, 2.21386317669016e-80, 3.94212982856897e-259, 1.03277276821128e+40,  3.28459702170213e-299, -5.82982301129014e+303, 2.15167057584961e-312,  NaN, 3.63183996873719e+180, NaN, -5.17512497157144e+245, NaN,  4.17199041059836e-308, 4.89613611742752e-299, 5.03402852565284e+226,  5.95750278984877e+228, 4.62494839268972e+228, 1.39891702351323e-306,  -5.92582077724839e+303, 7.7735791083951e-308, 1.65249625247277e+40 ), thresholds = c(1.3684555315667e-48, -8.72597432431485e+245,  2.44394864183682e-148, 6.64032995703588e-07, -2.16738263759326e+241,  NaN, -5.18847371542227e+245, 1.04294967003773e+40, -5.49952239281811e+303,  1.42991672770678e-308, NaN, NaN, NaN, 7.29107682274365e-304,  -5.17539190460328e+245, NaN, 4.31712495198549e-304, 1.391757623412e-308,  -8.73913407569711e+245, 8.20073809448098e-304, -2.83637110185322e-124,  NaN, NaN, NaN, 1.16400467887295e-236, 7.74703590068448e-304,  NaN, 6.99830926169978e-126, NaN, 1.36845553142777e-48, -5.7502851316102e+243,  1.38653691272916e-309, Inf, 1.02084759352235e+40, NaN, NaN, -4.19867256683219e-140,  -5.17538999909499e+245, NaN, NaN, NaN, NaN, -5.7502866102558e+243,  4.96474335111844e-14, 5.54074486761123e-310, -5.49989590170678e+303,  1.89381105753407e+212, 1.73047213619141e-306, 6.8089704084083e+38,  3.22272138152188e-115, 3.46845052707755e-164, 9.34531129874458e-307,  7.2911185428785e-304, 5.95750278984877e+228, 8.54517745960536e+194,  5.95750278984877e+228, 5.95750278984877e+228, 5.94417741721548e+228,  -5.76043027219731e+304, -Inf, 5.95750278984886e+228, -6.89831694673732e+305,  Inf, 7.7710698149671e-305, 1.42991673003831e-308, 1.31977417966646e-309,  NaN, -6.31007797996308e-256, 1.36845549830095e-48, NaN, -5.17495827121042e+245,  8.86649680179245e-246, NaN, NaN, -8.5243896509936e+245, -8.5243896509936e+245,  -6.31001569488506e-256, NaN, -5.06443593276214e+245, NaN, -6.97063641475086e-258,  3.56459708432476e-315, 1.04294967003054e+40, 5.43443122066157e-311,  -8.739899877442e+245, NaN, -1.06559867695611e-255, 0), x = c(-Inf,  8.74079907220133e-313, NaN, NaN, NaN, NaN, NaN, 2.23764539047744e-310,  NaN, NaN, NA, -2.87893513927628e-63, Inf, NaN, -2.87890719086542e-63,  NaN, NaN, -5.1751249715079e+245, 7.29112201950335e-304, -8.52332276868434e+245,  Inf))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
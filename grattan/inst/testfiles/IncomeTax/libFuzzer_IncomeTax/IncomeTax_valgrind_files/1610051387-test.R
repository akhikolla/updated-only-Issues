testlist <- list(rates = c(NaN, -2.02222719926122e-33, -1.26836459270829e-30,  2.1788294981599e-321, -1.26836459066847e-30, -4.76141252969079e-33,  -1.26836459270829e-30, 2.1788294981599e-321, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(3.29333779946374e-311,  2.36726998478986e-306, 5.35247710322566e+116, 7.29069965756742e-304,  2.84809454195616e-306, 4.95400018337535e-317, 3.29333779946374e-311,  2.9548964544048e-306, -3.85242412602924e-34, 5.41696297151539e-307,  3.29333779946374e-311, 2.781342323134e-309, 8.35872426077374e-77,  -2.26051328249089e-289, 5.89131532170214e+199, 2.8487898744869e-306,  4.84024378777782e-10, 3.29333779946374e-311, -2.18073906041637e-289,  8.2889857824493e-317, -2.11940804072442e-289, 2.00877667922351e-139,  2.00877667922349e-139, 5.41494177254505e-312, -7.92633112956698e-308,  -9.79026554567539e-150, 7.29112485532916e-304, NaN, -2.2308331518689e-289,  1.67616711008101e-319, -2.35343736497682e-185, 7036874417766.4,  -2.35343736826454e-185, 7.17736025324585e-310, 0), x = c(2.00886697858165e-139,  2.00877667922349e-139, 8.40642559654881e-85, 1.91777968406795e+289 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-1.02020547388818e-149, NaN, NaN, -8.22918610319053e+303,  4.46108959687689e-140, -1.40444775900542e+306, NaN, NaN, NaN,  NaN, 0, 6.54404558220199e-125, 6.50001695573666e-125, 1.23523031939966e-317,  7.29023199001299e-304, -1.24371214538522e-30, -1.26836459270033e-30,  NaN, 7.17097022569667e-310, 2.848094543987e-306, -3.01406959776519e-135,  NA, 7.334923554234e-270, Inf, -3.9759940224262e-34, -1.26836459270827e-30,  0), thresholds = -Inf, x = c(-Inf, -3.47040770899027e-147, -2.30331110816477e-156,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
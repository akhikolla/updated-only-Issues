testlist <- list(rates = c(NaN, -2.87285026134096e-188, 7.73071190387239e-12,  Inf, 7.06327446347525e-304, NaN), thresholds = numeric(0), x = c(1.59901342982592e-17,  4.24048278840756e+175, 1.32134006092709e-105, 1.23610219531719e+224,  3.50636411172684e+151, 1.68048229156452e+117, 1.5319122082349e-94,  1.351604369664e-316, -3.60297094493192e-306, 2.9621337120295e-306,  -2.2962031506993e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110763906e-156, -2.30331110816477e-156, NaN, NaN, NaN,  1.3854086120054e-309, NaN, NaN, 6.95335580946088e-310, 3.20454272717611e-314,  -1.36890628235454e-231, NaN, 7.73071190387239e-12, 6.98327594525623e-310,  -6.05898824717554e-65, -2.25769487008466e-289, 8.74601785371863e-310,  3.652068166337e-306, -9.11378520770331e-306, 2.40060263696258e-300,  5.67865049360052e-270, -1.26836459270826e-30, 2.8435571614667e-312,  -7.06373421489677e-304, 4.03016916411296e-306, -1.2341419504043e-30,  -2.24767481577168e-289, 7.54951658409808e-15, -3.1315127781037e-294,  3.56047671159453e-306, -8.02506476812756e+304, 1.390652843099e-309,  4.28183424758689e-317, -7.39330388852429e-287, 2.12199579096527e-314,  0, 0, 2.3641409746639e-308, 1.48456814906984e-313, 2.84844220667961e-306,  -2.05226840465102e-289, 2.87903833578224e-306, 0, 3.24665356017687e-312 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
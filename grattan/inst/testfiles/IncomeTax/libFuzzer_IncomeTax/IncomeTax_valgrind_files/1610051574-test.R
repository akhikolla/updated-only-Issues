testlist <- list(rates = c(3.6634314009933e-305, 5.68005134592135e-270, 3.94108708383232e-312,  7.0987601086575e+132, -2.05227035158761e-289, 2.87903828240062e-306,  NaN, -1.26834825414353e-30, NaN, 4.77830972673648e-299, -1.34481043887429e-284,  2.00877667922351e-139, -1.76518633897262e-157, NaN, -4.29076497820112e-317,  -5.55059957471347e+303, 3.41641322410626e-312, 5.85366544307642e+170,  5.85363771868791e+170, 3.75990818875158e+175, NaN, NaN, -1.34497461904945e-284,  2.37321197947665e-12, -2.15995069167566e-277, 4.51625011610967e-317,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(NaN, -2.43419489836495e-32,  -1.26836459270829e-30, 0, 2.31407681284749e-306, -6.69969692155047e-287,  2.89689873904097e-312, 1.23269070858867e-30, 1.80354409094537e-130,  1.55571390562492e-319, 3.23790861658519e-319, NaN, NaN, NaN,  7.00767890008367e-310, -4.93185008443201e-31, 1.00891829368586e-309,  -1.23259516440783e-30, 2.56647495592844e-301, 1.23269034419145e-30,  NA, 5.5869437297374e-319, NA, 2.10776830652961e-309, 1.41497286004339e+190,  -2.87284843036604e-188, 3.65365168445533e-306, 2.62480682658967e-301,  -6.56793027847815e-287, NaN, 3.66148293307183e-314, 3.91615180508941e-306,  -1.42447098956418e-305, -2.35322190464899e-185, -2.35343736826454e-185,  -2.35343736825726e-185, -5.34349793087407e-187, 1.09517826100207e-314,  -5.5678292196322e+303, -5.48612677708849e+303, NaN, 7.07039469279248e-304,  NaN, NaN, NaN, NaN, -1.32227247459919e-278, -1.14102475939731e+306,  0), x = c(-2.30331145546235e-156, -1.32083970121448e-284, 8.28904556439245e-317,  4.53801546776667e+279, NaN, -7.40367656369217e-171, 7.52074963121093e-304,  -2.97578962378101e-288, -2.94031613837147e-306, -5.50755424097738e+303,  3.56048348188083e-306, -2.30315037655708e-156, NaN, 2.80614289249855e-312,  2.84836344486853e-306, -5.48612677708818e+303, 2.72888655986149e-312,  Inf, -1.2341419504043e-30, -1.80650535611164e+307, NaN, NaN,  -1.26418156348547e-30, NaN, NaN, -3.47306054607043e-164, Inf,  2.71502979554261e-307, 4.28175470301791e-317, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
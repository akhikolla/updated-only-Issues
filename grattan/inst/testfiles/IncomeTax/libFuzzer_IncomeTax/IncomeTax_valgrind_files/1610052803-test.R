testlist <- list(rates = c(0, 2.31058266785128e-138, 2.00877667922349e-139,  4.67704767180488e-149, 6.23700098582428e+291, 2.06258487362311,  -4.95400490741461e-33, -1.26836459066993e-30, -1.26836459270829e-30,  -2.15995068747262e-277, -5.69758255001719e-306, -2.97184027882726e-147,  7.52609340439459e-304, -1.24439261453223e-30, -9.77624588893731e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -7.39330276865421e-287,  -2.25704522481571e-277, NaN, NaN, NaN, 7.74681714577867e-304,  -9.51980735528282e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, 9.82745041327995e-101, 2.81218450766349e-312,  8.2863938883057e-312, -5.66899487076606e+303, NaN, 7.1987099133561e-310,  NaN, NaN, 5.43230663453926e-312, 0, 0, -2.23296116676236e-286,  1.28853504983371e-231, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, -3.72626152437281e+304,  NaN, 4.77830972673634e-299, NaN, 4.65661287305794e-10, -4.98416544307758e-306 ), thresholds = c(6.97027352105039e-310, 7.37818343015736e-301,  -2.30331110545783e-156, -2.30331110816477e-156, -2.30331110816272e-156,  -5.5516993870748e+306, 4.65661286890991e-10, NaN, NaN, 7.29112072943601e-304,  -3.04032340824977e-288, 4.08272446714185e-311, 3.60289283426669e-306,  -9.77719780335133e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, 2.39445716909717e-301, 5.14265712180014e+25,  -4.24573868609033e-267, 1.10313045262037e+217, -6.64678428260256e-287,  NaN, 2.56647495438769e-301, -2.18103493600849e-289), x = c(Inf,  -2.30327665540415e-156, -2.30331110816477e-156, NaN, 2.81199605989981e-312,  NaN, 1.24798830039023e-305, -3.59749305819749e-147, 8.62376324277579e-308,  -3.04032340824977e-288, 9.21188620508943e-97, -5.49549578385261e+303,  -5.46354690059092e-108, -5.35044484234063e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, -5.46354690487052e-108, -5.46354690059085e-108,  -5.4635451747904e-108, -2.30331110816543e-156, -6.36358120662016e+305,  -6.64678428260241e-287, NaN, NaN, -2.15479380557947e-106, NaN,  NaN, -8.22918577619206e+303, 4.46108959687689e-140, 4.46108958710109e-140,  3.60297094497336e-306, -1.06556334613796e-314, 9.7020880290895e-310,  -7.39330493781016e-287, 2.81199605863994e-312, NaN, NaN, 1.3854086120054e-309,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, 4.65661287307739e-10, -2.15995069167566e-277,  -5.69758255001719e-306, 7.29111937478047e-304, -3.04032340824977e-288,  7.84460841917251e+168, 2.81218450794511e-312, 1.26480805335359e-321,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
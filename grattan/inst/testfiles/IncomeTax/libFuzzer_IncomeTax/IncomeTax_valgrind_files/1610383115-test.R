testlist <- list(rates = c(7.29112229883701e-304, -3.01223699592253e-257,  NaN, 2.75744471527062e-10, NaN, -8.73989987746428e+245, NaN,  -5.49989590900002e+303, 6.64032995703601e-07, -5.82787955293044e+303,  -8.52438965099359e+245, NaN, NaN, 3.24180940048683e+178, 4.77028265708835e-299,  9.12483546112425e-313, NaN, 1.97285978534581e-302, NaN, -5.7502866102558e+243,  -8.22918610235701e+304, NaN, 2.7892346473729e+228, 2.08809742756317e-53,  NaN, 5.95750278984886e+228, NaN, 3.26792712858383e+178, 1.04291228749732e+40,  2.39524526325109e-08, -2.39536098123135e+260, 7.56881123708566e-304,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, -8.73989987746428e+245, NaN, NaN, -6.3100779998114e-256,  -6.31001569488506e-256, NaN, 5.14674736242857e-312, NaN, NaN,  -8.08634877216209e-174, -4.82778918050033e+305, NaN, -5.49989589581548e+303,  2.11208114594975e-106, NaN, NaN, -2.88021513611669e+304, 8.73189386359976e-308,  NaN, 1.65249624504117e+40, 2.78134232317104e-309, 2.82755217285077e-110,  0), thresholds = c(NaN, NA, NaN, Inf, -8.73989987746427e+245,  NA, -5.17512497157144e+245, -4.95994000698304e+245, NaN, 4.31712495198549e-304,  -8.91763038330776e+303, 1.32005114164367e-309, NaN, -Inf), x = NaN)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(NaN, -2.74306263117642e+304, 1.66880379407532e-308,  -2.70472810814937e-11, -5.60445223503556e+303, NaN, NaN, 1.38470701984657e-300,  2.23576549985131e-183, 7.29023199006604e-304, 2.84132109159451e-173,  2.84132113906601e-173, 2.84132113906601e-173, 6.11610085054236e+197,  NaN, NaN, 5.16401285858016e+120, 1.44632716009107e-307, NaN,  -2.74306263117642e+304, 1.66880379407532e-308, -2.70472810814937e-11,  3.1194181910524e-143, -2.63376737821326e+305, 2.78144248133533e-307,  -8.50285706298532e+304, 1.51727559837847e-320, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),      thresholds = c(6.11610085054236e+197, NaN, NaN), x = c(1.60993257980271e-24,      3.16532144686239e+180, 2.77448001762435e+180, NaN, 1.38470701984657e-300,      2.23576549985131e-183, 7.29023199006604e-304, 2.84132109159451e-173,      2.84132113906601e-173, 2.84132113906601e-173, 6.11610085054236e+197,      NaN, NaN, 5.16401285858016e+120, 1.44632716009107e-307, 1.23170580865923e+194,      2.77600674195731e+180, 2.77448001762435e+180, -7.29111991991562e-304,      2.33412480329989e-309, -1.78379395381334e+304, 1.39064994161035e-309,      2.84132113888058e-173, 2.84132113906601e-173, 2.84132113906601e-173,      7.88084934424544e+117, NaN, 7.29032584869847e-304, 3.94019876227253e+117,      -5.56380914473936e+303, NaN, NaN, 1.38470701984657e-300,      2.23576549985131e-183, 7.29023199006604e-304, 2.84132109159451e-173     ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-5.17538999909498e+245, -6.31008200917246e-256,  3.04668938042604e-05, NaN, NaN, NaN, NaN, NaN, 6.99830926169978e-126,  NaN, 8.96831017076503e-44, -5.7502851316102e+243, 1.38653691272916e-309,  7.29112201955619e-304), thresholds = c(NaN, NaN, NaN, NaN, NaN,  NaN, -5.1071114359872e+245, -5.54792475454324e+243, NaN, 5.54095540936847e-310,  -1.1255454651159e-256, 1.63335639983839e+40, 4.7779389781856e-299,  2.78134232318839e-309, -3.45507950618034e+304, NaN, 1.25986739689518e-321,  -1.28383662725888e+116, -2.54556156998525e+306, 1.42873420450692e-101,  NaN, NaN, NaN, -1.64264596305683e-260, NaN, 9.79032497743168e-307,  -3.14666901810749e+53, NaN, 4.77830972972642e-299, 1.48135230235653e-304,  NaN, 4.65769178428981e-10, 7.4202234095592e-68, NaN), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
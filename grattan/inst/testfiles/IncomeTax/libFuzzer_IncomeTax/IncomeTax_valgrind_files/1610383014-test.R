testlist <- list(rates = c(NaN, NaN, NaN, NaN, NaN, -6.3100779998114e-256,  -6.31001569488506e-256, 5.95792069323745e+228, 5.95750278984877e+228,  3.14381753503935e-301, 3.04668938042604e-05, 2.12199579047121e-314,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(0, 0, 0, 0,  0, 0, 0, 0, 0, 0, NaN, NaN, 2.16443570677964e-312, 5.43655321645303e-311,  NaN, 7.2911220195564e-304, 4.39013136499761e-259, 2.08122984022857e-256,  NaN, 3.05162830045447e-05, NaN, -1.43713943880526e+241, 5.54095540936847e-310,  4.77023936047618e-299, 4.7783097267191e-299, NaN, 3.94172009387174e-259,  2.84878987446984e-306, NaN, NaN, NaN, 1.38528129225686e-309,  6.55651541948862e-07, NaN, 3.23785921002061e-319, NaN, NaN, NaN,  -3.23465380139002e+244, 5.95750426744849e+228, 5.95718054236814e+228,  5.95750278984877e+228, 2.78923464737621e+228, NaN, NaN, NaN,  NaN, NaN, -7.02223880802359e+305, -5.17544277751961e+245, 5.95792084061793e+228,  5.95760689429934e+228, NaN, NaN, 6.99830926169978e-126, NaN,  NaN, NaN, NaN, NaN, NaN, -5.7502866102558e+243, 4.96474335111844e-14,  4.77072469916124e-299, 7.27118756337024e-240), x = c(4.39910463427822e-149,  4.18634103082863e-149, 4.18634103082863e-149, 4.18634103082863e-149,  4.18634103082863e-149, 4.18634103082863e-149, 4.18634103082863e-149,  0, 0, 0, 0, 0, 4.18634103082127e-149, 4.18634103082863e-149,  4.18634103082863e-149, 4.18634103082863e-149, 4.18634103082863e-149,  4.18634103082863e-149, NaN, 1.390671161567e-309, -1.29499464712618e+116,  NaN, 1.042912285496e+40, 5.87574772763167e+228, -6.89831694673729e+305,  2.79513953293095e-129))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
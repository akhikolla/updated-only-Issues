testlist <- list(rates = c(-2.30331110816476e-156, -2.30331110816477e-156,  -2.29449120144681e-156, 1.42577666106373e-308, -5.55169938707471e+306,  4.65661286890991e-10, NaN, NaN, 1.3854086120054e-309, NaN, NaN,  6.95335580946088e-310, -2.87285026134096e-188, -5.66362677157793e+303,  -7.29111855645909e-304, -8.24519868127501e-157, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30331097358367e-156, 2.66705205377917e-79,  NaN, -5.48612677708849e+303, NaN, 7.07039469279248e-304, -2.60644468696874e+304,  7.95923289723679e-310, -4.38889926233119e+306, 2.81218450820696e-312,  7.55038392918931e-15, -2.18003413361522e-289, 2.84809454421907e-306,  5.5869437297374e-319, -1.26836407051221e-30, -9.36473653341481e-280,  -3.04032340213361e-288, 2.56647495438759e-301, -1.26836452888033e-30,  6.01362129181413e-317, -1.26836459057627e-30, 4.00791842552789e-306,  -1.26826829408472e-30, 2.40086640681612e-300, 5.67865049360052e-270,  3.94108708383232e-312), thresholds = c(-8.81442566443163e-280,  -3.97599402246111e-34, -1.26823100659151e-30, -1.26836459270829e-30,  2.39422219319154e-301, -1.2683642165418e-30, 2.39958945525286e-309,  5.68604456976406e-270, -8.81443176193936e-280, 3.41641371420455e-312,  NaN, 3.56048348188083e-306, 34082834.0004893, NaN, 2.80614289249855e-312,  -2.2308331518689e-289, 1.67616711008101e-319, 0, 0, 9.72926582174422e-309,  2.84809453888922e-306, 2.84347436052587e-312, -2.93745603113049e-306,  -4.29176022090965e-278, 4.90274403849123e-309, 1.06103027407474e-314,  2.31407749506909e-306, 33554432.062793, 1.84870553760557e-272,  2.30127027866676e-12, 3.652069863913e-306, 1.09843589420143e-314,  3.65207086493956e-306, 3.60253364403932e-306, -7.36282937432394e+303,  NaN, 3.65207086493956e-306, 1.94445171787597e-301, 7.20492353770119e-310,  6.06584682809917e-301, 2.71619752296573e-312, 3.65365168992619e-306,  2.92000041005472e-306, 1.47812115956268e+282, -1.25152205320375e+306,  5.67680002780705e-310, 7.10464042016854e-304, 2.41252237132898e+306,  1.76290236518065e-279, -2.87284972543597e-188, -2.35343736826454e-185,  -2.353436891546e-185, -2.35343736826454e-185, 7.17736025324155e-310,  7.32777351949015e-15, NaN, -9.77818300079457e-150, 3.02578807920079e-306,  -2.35343736825169e-185, -5.34349793087407e-187, -2.35343736826454e-185,  2.80365634892121e-312, -2.97598986996179e-288, -4.29189076260434e-278,  -2.2479331732528e-289, 7.29023203078278e-304, -2.29827867994588e-185,  7.19919233907466e-310, 5.67154552427533e-310, -4.93185008440219e-31,  7.19919233585854e-310), x = c(-1.12850386151129e-276, NaN, -Inf,  8.1773351162778e-301, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
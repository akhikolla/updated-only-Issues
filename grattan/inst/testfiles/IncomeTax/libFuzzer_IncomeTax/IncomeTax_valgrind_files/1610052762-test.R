testlist <- list(rates = numeric(0), thresholds = c(-6.96401849324678e-231,  534.646484374069, -2.30329375108501e-156, NaN, 6.981475768434e-310,  -2.30331110816477e-156, -1.03867836358987e-149, 7.2903536873204e-304,  3.50176633683478e+171, 5.85363771868791e+170, 2.11109452594008e-312,  5.85363771866079e+170, 7.51896959321261e-304, -2.97578981950058e-288,  4.44172304180873e+291, 4.44144467224239e+291, 2.93749024284063e-306,  9.70418615875477e-101, 9.70418706716128e-101, 9.70418706716128e-101,  -2.96164487932264e-277, 2.56647495438769e-301, NaN, NaN, NaN,  3.44511946337513e-314, -2.30331110816477e-156, -6.64630139592005e-287,  -2.30331110816272e-156, -5.5516993870748e+306, 4.65661286890991e-10,  NaN, NaN, 5.42443495490148e-312, 7.2902324653931e-304, -2.54521937704629e+306,  -7.3933019432554e-287, 1.24771084944056e-305, 1.55291925375021e+277,  7.84492512814829e+168, -9.77580118946814e-150, 7.29112485532916e-304,  NaN, NaN, 7.00767890008367e-310, 2.72974914124656e-312, -2.30331099970595e-156,  -2.30331110816477e-156, -Inf, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331097358367e-156, -2.30331110816477e-156, -5.46354690059084e-108,  -5.46354690059085e-108, 1.06649141979786e-314, -2.30331110816307e-156,  -2.30331110816477e-156, -6.05390363808932e-157, -Inf, NaN, NaN,  -5.48612930076931e+303, NaN, -2.34568207500562e-185, -Inf, -2.82116711389276e-277,  3.2444302831103e-319, 0), x = -2.27610497323886e-159)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
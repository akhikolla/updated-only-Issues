testlist <- list(rates = c(1.62083701246134e-24, NaN, NaN, 1.00128323634115e-307,  NaN, -2.02443040000394e+220, -3.31601174254945e+221, -3.38084306397821e+221,  -2.88021498839032e+304, 1.39065217965152e-309, 1.39067116131694e-309,  2.12197078482074e-314, 1.25542034707731e+58, 3.83698292462809e+117,  1.31744879208076e-284, 6.77740771891721e+180, NaN, -1.56500839841835e-209,  -1.56500839841835e-209, -3.50843012752365e+304, NaN, 1.39064994166853e-309,  2.95933151897932e-144, 4.8114867225412e+173, 1.10164487695182e-142,  4.22493393886362e-305, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0), thresholds = c(6.11610085054236e+197, 1.80331613627615e-130,  2.12196682636678e-314), x = c(NaN, 6.51877101103125e-311, 2.77447923392645e+180,  2.77448001761822e+180, 2.77448001762435e+180, NaN, -1.56500840032025e-209,  -1.56500839841835e-209, -1.56500839841835e-209, -1.56500839841835e-209,  3.44441933747494e+178, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 8.10452260312399e+179, -4.47581667165427e+305,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 5.43230922486616e-312,  NaN, NaN, -1.93267624126747e-12, 9.11767501288655e-312, NaN,  2.11370674490681e-314, 5.43223475676734e-312, 2.85351632101257e-173,  -2.25112652961137e-144, 2.84132113906601e-173, 1.36257052583702e-105,  1.51405019813106e-207, 2.84132113906601e-173, 7.88084934421279e+117,  NaN, 7.29032584869847e-304, 3.94019876227253e+117, -5.56380914473936e+303,  3.83698199460068e+117, 3.83698281517203e+117, 6.47733880922668e-145,  3.32663941052482e-111, 2.5398445847572e-29, 1.10154625032203e-142,  -5.48636997164761e+303, 7.2902319900132e-304, 7.06819037250177e-28,  3.83698281559959e+117, 7.18520850538273e-304, 3.84415822953564e+117,  NaN, 2.05226840064919e-289, 3.23785921002061e-319, 1.34497589670678e-284,  1.06099789548264e-312, -1.02357023881679e+270, -3.3807305879321e+221,  -3.38084306397821e+221, -3.38084306397821e+221, NaN, 6.81576207291685e-28,  6.81576207296943e-28, -6.58334888261629e+304, 7.06819371078026e-28,  -5.37116380441611e+218, -3.38084306397821e+221, 2.41516312126952e+120,  NaN, 6.98286480009751e-251, -6.58334888255243e+304, 2.63554948580763e-82,  8.37203199836951e+115, 4.5243943505808e+43, 2.99521925137824e-05,  4.16348356759294e+202, 8.76130844671872e+194, 2.84132113979295e-173 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(NaN, NaN, -3.5510117602496e+307, 0), thresholds = c(6.64032995703574e-07,  2.68838251105223e-299, 1.893811057534e+212, -5.63797372391143e+303,  5.95750278497579e+228, 1.14737330167402e+195, 5.95750278953851e+228,  5.95750278984877e+228, 5.90784496692506e+228, NaN, 6.17473461383151e-256,  5.95750442285959e+228, 5.95750319650678e+228, -5.18847371538636e+245,  -1.46214999204744e+128, 4.77877244943064e-299, -1.45094702117037e+128,  -1.1818685957232e-125, -7.01094737995851e-258, 2.1432189878606e-312,  -1.45094702117037e+128, -6.03473381063797e+304, NaN, 5.07695408465751e-299,  2.12455196842712e+183, 3.94213052632413e-259, -3.18196870780537e+305,  NaN, -1.01163218720477e+308, NaN, NaN, -5.0644359327614e+245,  2.56882117562077e-295, 4.06493606852904e-259), x = c(3.11514728480919e-310,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, -6.3100779998114e-256, -8.73989966500304e+245,  NaN, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(NaN, NaN, NaN, NaN, NaN, 4.11558861516638e+51,  6.13636390603352e-92, 1.32963778288506e-105, 2.33598865781438e-310,  6.47561816356976e-308, NaN, -8.22918610319053e+304, -4.08986561657492e+245,  -3.5659806447159e+304, 1.68043880846015e+117, 1.72728312729844e-77,  1.08729903864638e-311, 6.55651547276621e-07, -5.18847371542209e+245,  5.95750278493182e+228, NaN, -1.99700494896339e+242, -8.73989987746428e+245,  9.34531023086085e-307, 1.42991673003805e-308, Inf, -5.75028645430585e+243,  -8.73989987746428e+245, NaN, -6.31008200917246e-256, 2.14321575007056e-312,  2.18187977605904e-313, 1.39065508144753e-309, 4.460149039706e+43,  -6.25613929180512e+269, NaN, NaN, -1.99700500182742e+242, -7.74518381521597e-121,  -1.56500772916558e-209, -1.56500888340179e-209, 3.0667174096201e-07,  1.8033161357948e-130, 2.21386307615192e-80, -1.33009544456318e+305,  4.31748810751854e-304, -2.15726986890694e+304, NaN, -4.91619368412603e+245,  NaN, -1.29209058969159e+241, -5.18847371542227e+245, -5.18925946911527e+245,  -8.46891178714298e+245, 4.73878840674895e-10, 1.18495789628904e-303,  1.42991672770676e-308, 7.00659668223032e-308, -6.03473647567281e+304,  NaN, 1.51189165579351e-304, NaN, -1.33360312504275e+241, NaN,  -7.88630334889093e+303, NaN, Inf, 1.39067082667587e-309, 1.3684555315672e-48,  0), thresholds = c(NaN, NaN, 2.12862023884205e-106, 7.50963275957326e-308,  NaN, 1.04294967003024e+40, 9.55008712236373e+139, 9.1245883769185e-313,  -1.45094702116227e+128, NaN, 1.31977521678509e-309, 1.39064994493837e-309,  NaN, NaN, -5.75028661567098e+243, -5.17495827120738e+245, 4.46014903970612e+43,  5.95745073761192e+228, -1.35085897861414e+241, -5.48739517212147e+303,  NaN, -5.75028661020612e+243, -6.03473647483953e+304, 2.08809742974439e-53,  -5.17538999909499e+245, -9.96368653271754e+303, 7.29110797320461e-304,  NaN, NaN, -5.18847371542227e+245, NaN, NaN, Inf, NaN, -5.66347311684925e+243,  4.77830972972668e-299, -1.33009567995099e+305, 6.80571226748251e+38,  NaN, NaN, 1.23037684080014e-303, 1.42991672770676e-308, 7.42022340955951e-68,  NaN, NaN, 7.29112184298707e-304, NaN, -6.17473461383181e-256,  NaN, NaN, NaN, -5.48633958130682e+303, -5.18847371542227e+245,  NaN, 1.99999999999996, 4.89613555801564e-299, 1.42943178999697e-101,  NaN, 1.390671161567e-309, 6.55651541948862e-07, 1.58653735272582e+124,  -3.3660338951184e+304, 9.96833088362618e-306, NaN, -5.8289348415118e+303,  0), x = c(NaN, NaN, Inf, NaN, NaN, NaN, 1.20270737765667e-72,  NaN, NaN, NaN, NaN, 2.57461749641602e-310, -5.49989590899971e+303,  -5.1884612128952e+245, -1.13574321802438e-256, NaN, 1.27741322635295e+238,  1.35533656740574e+181, 3.94213052632413e-259, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
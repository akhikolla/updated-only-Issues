testlist <- list(rates = c(NaN, -5.7502851316102e+243, -8.00197039908648e+304,  NaN, 1.33283325264554e-105, 1.38501003789401e+219, 3.4819568357527e+228,  -2.83637103417481e-124, 1.71272844748826e-260, 9.07655807758655e+223,  3.05154595211421e-05, 1.39113490711204e-308, 2.33590042682797e-310,  -Inf, Inf, 1.390671161567e-309, NaN, NaN, 5.26873114434066e+178,  2.78348553888541e-309, -Inf, 6.80571229283552e+38, NaN, -2.87834398198912e-63,  NaN, NaN, NaN, 4.65661287307739e-10, -4.28076304470408e+221,  -7.29112201955639e-304, NaN, -8.46677801272964e+245, -8.72554259640141e+245,  1.054774176803e+40, 1.48157480960601e-304, NaN, 1.64258821123531e-260,  1.64990284736617e+40, 4.22492486917067e-304, NaN, Inf, NaN, 1.30824696936857e-105,  1.38501003789401e+219, 0), thresholds = c(5.48663232018746e-310,  5.58561222671114e-311, 7.29044757046209e-304, NaN, 4.2246814921175e-304,  -5.92582077724839e+303, 7.7735791083951e-308, 1.65249625247277e+40,  3.32653163546239e-111, NaN, NaN, NaN, NaN, NaN, 8.74080230650327e-313,  NaN, NaN, NaN, 1.390671161567e-309, 6.55652911519985e-07, NaN,  -1.33064540864887e+307, 6.24338558373285e+144, 1.36845553155725e-48,  NaN, 6.80564991275271e+38, 1.51189165578349e-304, 3.94213052632414e-259,  2.11195847952035e-106, -5.49989590899971e+303, NaN, -5.06443593276214e+245,  NaN, -1.29209058969159e+241, 7.88042552314682e-304, 0, 0, 1.65781316445591e+40,  NaN, 2.12199579047121e-314, 0, 0, 0, 0, 4.14452302922905e-317,  0, 0, 0, 5.43230922360629e-312, NaN, NaN, NaN, NaN, NaN, 1.31756732478297e-309,  6.64033212419108e-07, 2.68838251105223e-299, 2.78134232313304e-309,  NaN, NaN, NaN, NaN, NaN, -5.7502866102558e+243, NaN, 1.13203791398962e-72,  NaN, 2.12199579047121e-314, NaN, NaN, NaN, -5.06414419567344e+245,  NaN, NaN, 9.76763794322353e-307, -3.14666901810749e+53, 1.6296844756901e-310,  -1.93372419349018e+242, 7.50995661859087e-308, -8.50259662510375e+304,  NaN, -8.73989987746428e+245, NaN), x = c(5.95750278984877e+228,  Inf, 7.2911220195564e-304, -1.1821064132557e-125, NaN, 2.17604724322438e-113,  -8.08634877215979e-174, -1.04000271149642e-123, 3.05162830043853e-05,  NaN, -5.17544279379894e+245, NaN, NaN, Inf, NaN, 3.94179603170106e-259,  -5.21181786535375e+304, 4.45998517039374e+43, 1.44173486706794e-308,  -8.5243896509936e+245, 2.44394864183682e-148, 6.64032995703588e-07,  1.39113490711204e-308, -3.14666901810749e+53, 7.23040374413963e-308,  -5.49989590899971e+303, NaN, Inf, NaN, -5.82900682302656e+303,  1.97286056761246e-302, NaN, NaN, NaN, 3.07343416308464e-319,  0, 4.14452302922905e-317, 0, -8.5243896509936e+245, -6.31001569488506e-256,  NaN, 1.04294967003024e+40, 4.71389750556234e+257, 1.36831599301933e-48,  3.94171798504617e-259, -4.42390034116555e+279, 1.3684555315672e-48,  -6.67112686764897e+306, -5.17539168553204e+245, NaN, -4.57671320724439e-246,  NaN, -Inf, -7.31666951376264e+241, 7.29112201886404e-304, -6.30904267910925e+304,  NaN, 4.77947283820032e-299, 1.65276105961175e+40, 1.39785663411574e-304,  1.0429122855008e+40, 1.2027073776402e-72, NaN, -5.17495827121042e+245,  NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(1.3007834199877e-311, NaN, 6.21370296905965e-313,  2.70150156837545e-307, NaN, 3.23785921002061e-319, 0, Inf, 0,  1.65249624435981e+40, -3.23461993025561e+244, 4.77830972979241e-299,  2.82755217285071e-110, NaN, NaN, NaN, 0), thresholds = c(NaN,  NaN, 3.94172009387174e-259, 2.84878987446984e-306, NaN, NaN,  NaN, 3.24255102939254e+178, 7.29112201955623e-304, 9.34531025882103e-307,  2.78105030004137e-309, 1.391757623412e-308, NaN, 0), x = c(0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, NaN, 3.04660497931763e-05,  NaN, NaN, 3.94213052906068e-259, 8.48798168141712e-313, NaN,  9.79032497743128e-307, -3.14666901810749e+53, NaN, 4.77830972972643e-299,  2.82755217285071e-110, NaN, 8.28904556439245e-317, NaN, NaN,  NaN, -2.88665259471098e-63, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, -7.31781923598515e+241, 7.29112201886404e-304, 3.56598994200504e+179,  -5.75028660757305e+243, -1.90203418620616e+244, 5.58561510707977e-311,  -5.49952238194071e+303, -6.08894945153663e-256, 7.1177190551809e-304,  4.32185817775748e+43, -4.39920255204919e-259, -1.18182239472382e-125,  NaN, NaN, -5.7502866102558e+243, -8.22918610235701e+304, NaN,  2.7892346473729e+228, 2.08809742756317e-53, NaN, 5.95750278984886e+228,  NaN, 3.26792712858383e+178, 1.04291228749732e+40, 3.24339317252098e+178,  3.14451053155698e-294, -3.07268513826713e+54, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, -5.17453735279954e+245, -1.29209058969158e+241,  -5.18847371542227e+245, -5.18925946911527e+245, -8.46891178714298e+245,  4.73878840674895e-10, 1.18495789628904e-303, 1.42991672770676e-308,  7.42022340955951e-68, NaN, NaN, NaN, NaN, -6.3100779998114e-256,  -6.31001569488506e-256, NaN, 4.22492504502838e-304, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
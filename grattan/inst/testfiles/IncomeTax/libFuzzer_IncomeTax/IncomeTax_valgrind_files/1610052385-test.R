testlist <- list(rates = c(-8.22918610319053e+303, NaN, 2.33246235504083e-12,  -1.0655633224228e-314, 9.7020880290895e-310, -7.39330493781016e-287,  2.81199605863994e-312, 9.64395893538445e-101, 9.70418706716128e-101,  4.49490997380411e-101, 9.1603645752645e-313, 1.48074143480854e-105,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  8.02711540254363e-125, -7.5565253390872e-308, 2.9621337120295e-306,  -2.2962031506993e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110763906e-156, -2.30331110816477e-156, 4.77830863198018e-299,  9.70395180102152e-101, 9.70418706716128e-101, 9.67907259811454e-101,  3.57826741138282e-315, 9.34700350738556e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, -Inf, 9.70418706716128e-101,  -8.81442856432805e-280, NaN, -3.67243182468058e-306, 1.81346311408636e+286,  6.32404026676796e-322, 0, 1.40913782993788e-315, 8.84871571701673e-321,  -5.35532635250002e+305, -8.81553530023536e-280, 7.74565138159227e-304,  2.12198042552369e-314, 0, 0, 0, 1.40913782993788e-315, 8.84871571701673e-321,  -5.35532635250002e+305, 2.80111717263437e-312, 7.19919233907545e-310,  -7.55234771438901e-287, 3.7835305088198e+117, -1.97637754038728e+306,  1.25986739689518e-321, 0, 0, 0, 3.65365168976033e-306, 2.84809725504383e-306,  -2.2962031506993e-156, -2.30331110811389e-156, NaN, -2.30331110763906e-156,  -1.79946180325373e-158, NaN, NaN, NaN, 1.3854086120054e-309,  1.38526007229957e-309, -4.98416699759381e-306, NaN, -2.60644468696874e+304,  -5.66324542991478e+303, 2.87903828240063e-306, 5.35238058984704e+116,  NaN, NaN, NaN, NaN, -1.28189897098414e-30, -2.97578962378101e-288,  8.53239512792333e-317, 2.71615461243555e-312, -4.18023205673331e+304,  6.66135840747845e+286, 1.29145347579917e-231, NaN, NaN, NaN,  NaN, NaN, 0), thresholds = c(5.73716459465271e+170, 5.85363771868791e+170,  1.21044018067558e-305, 5.85363771868791e+170, 5.74181509249139e+199,  -2.11852534547717e-289, NaN, NaN, NaN, 7.73071190387239e-12,  6.98327594525623e-310, -6.05898824717554e-65, -2.25769487008466e-289,  3.65207086127239e-306, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -5.81608789291487e-34,  -1.26836459270829e-30, -8.81443176193936e-280, -5.55169938704955e+306,  4.65661286890991e-10, NaN, NaN, 7.29112072943601e-304, -3.04032340824977e-288,  2.56647495471352e-301, -2.18070808433259e-289, -2.82116725272468e-277,  NaN, -8.81442988344703e-280, 7.74565138159227e-304, 2.12198042552369e-314,  0, 0, 0, 1.40913782993788e-315, 2.81218450871091e-312, 7.55038392918931e-15,  3.60253364406077e-306, -6.69969684635747e-287, 2.89689873904097e-312,  4.92150736865957e-303, -1.26836452888033e-30, NaN, -1.26836407059221e-30,  -2.8214554825258e-277, -1.26826829408497e-30, 2.40086640681612e-300,  5.67865049360052e-270, -1.26836459270826e-30, -1.26826754177099e-30,  2.40086640681612e-300, 1.11579631478852e-308, -2.11966640218428e-289,  -5.81608789291487e-34, -1.26836459270829e-30, -8.81443176193936e-280,  -2.20216447763354e-289, 7.57771153258705e-304, -6.56725888219402e-287,  NaN, -7.92737308632652e-308, 3.65784678046935e-306, NaN, -2.82171801549672e-277,  3.41641322410626e-312, 1.08601191821704e-306, -2.26063334404053e-277,  -2.11940804072442e-289, 2.72810281967378e-312, -2.83427023367766e+306,  534.645996101197, -1.48508911181252e-267, NaN), x = c(4.95224466436868e-303,  Inf, -2.05226841231125e-289, NaN, NaN, -5.5477385220017e+303,  NaN, NaN, 8.28904161186728e-317, 0, 0, Inf, -2.30327665539643e-156,  -2.30331110816477e-156, NaN, 2.81199605989981e-312, NaN, -2.05226840826474e-289,  NaN, NaN, NaN, NA, 3.78320825121918e+117, -2.82116926035288e-277,  6.95356800417634e-310, 1.6189543082926e-319, 0, 9.70418706716128e-101,  NaN, -5.96890832411666e+306, 7.73071187696462e-12, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
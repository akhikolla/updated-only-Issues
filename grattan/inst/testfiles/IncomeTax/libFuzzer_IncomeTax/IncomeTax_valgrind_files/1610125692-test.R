testlist <- list(rates = c(1.20089273851362e-178, 3.83738600246539e+117,  -2.19452731259342e+306, 1.65436122509816e-24, 1.23170580865923e+194,  2.54639250802938e-313, -2.08849643354369e+307, 2.54552169758936e-29,  3.94019875960419e+117, -2.51617249348227e-265, NaN, 1.60993257980272e-24,  1.53028150239695e-308, -2.70472810814937e-11, 8.05037067784813e+115,  8.37203199836951e+115, 4.5243943505808e+43, 2.99521925137824e-05,  3.88548539924577e-318, -2.04817342418437e+307, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, -5.48612417106054e+303, -5.48612930076931e+303,  1.80331613628628e-130, 5.8705864364286e+197, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, -4.69526163440602e+305,  -1.56500888530369e-209, -1.56500839841835e-209, -1.56500839841835e-209,  5.11713670710696e-319, -1.56500839840808e-209, NaN, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.76414873772968e+180,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  5.43223507567683e-312, 5.16574582538052e+120, 7.06327793307078e-304,  -7.22732560452114e+304, 2.83658322990134e-173, 2.84132113906601e-173,  2.84132113908688e-173, 6.23057823790654e+140, -1.12093206610316e+164,  1.20089319277908e-178, -7.21018141782026e+304, 5.10239975985148e-308,  -2.63376738472192e+305, NaN, 6.81576207291685e-28, 0), thresholds = c(Inf,  NaN, NaN, NaN, Inf, -1.93267624126747e-12, 9.11767501288655e-312,  NaN), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
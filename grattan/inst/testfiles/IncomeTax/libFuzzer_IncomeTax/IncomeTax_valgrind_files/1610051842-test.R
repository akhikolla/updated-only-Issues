testlist <- list(rates = c(-2.64494692448922e+154, Inf, NaN, 9.70395179000027e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, -1.97671907332562e+306,  NaN, NaN, NaN, 1.09843596040623e-314, 5.43226988934558e-312,  2.56647495436053e-301, -3.01363922187472e-135, -2.30331110816476e-156,  -2.30331110816477e-156, -2.29449120144681e-156, Inf, -5.46354690059072e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -2.64494692448922e+154,  -5.46354690059085e-108, -5.46354690056452e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, 0), thresholds = c(5.9642088354358e-212,  5.9642088354358e-212, -1.01005705415487e-149, -2.60644468316567e+304,  -5.66324542991478e+303, 2.84809454421703e-306, 5.16216864106274e-306,  -4.38889926233518e+306, 4.5113879864095e-10, NaN, NaN, -9.77817400064824e-150,  7.2903536873204e-304, 7.00757280029412e-310, -6.05898824717554e-65,  -2.25769487008466e-289, 3.65207086127239e-306, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, 2.68313290316959e-301, -1.48603602465348e-267,  1.10313045262037e+217, -6.64678428260256e-287, -7.29112200597562e-304 ), x = c(-7.39330382983785e-287, 5.85318274554714e+170, 7.84460841921515e+168,  NaN, NaN, NaN, 5.85364053701922e+170, 5.39907627431893e-310,  NaN, 5.85363772969701e+170, -7.40367656369203e-171, 7.51897652547993e-304,  -2.97578962378101e-288, 9.69630018960243e+192, 7.10547829625207e-15,  -8.81442591018802e-280, 2.56647495437793e-301, -2.30331110816311e-156,  -2.30331110816477e-156, -6.05390363808932e-157, 9.34700350724304e-101,  -1.32083970121448e-284, 3.65207087186091e-306, NaN, NaN, 6.09467357518816e-212,  5.9642088354358e-212, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
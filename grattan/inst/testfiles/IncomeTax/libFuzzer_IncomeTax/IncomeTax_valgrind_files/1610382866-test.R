testlist <- list(rates = c(1.65257101343717e+40, 1.45438725203292e+135, -3.45507950618034e+304,  1.390671161567e-309, 0, 0, 0, 0, 2.71615461243555e-312, 0, -5.48612408923109e+303,  NaN, 5.54095540936847e-310, NaN, NaN, 1.65249722987887e+40, 1.0864618450424e-311,  -1.2949946471279e+116, NaN, 2.56882117562077e-295, -1.50465302948754e-43,  NaN, 2.79513953293095e-129, 7.29041971708391e-304, -8.52332276868434e+245,  NaN, -8588939503.95068, -5.48746345423013e+303, NaN, NaN, -5.7502866102558e+243,  4.31712495198549e-304, 1.391757623412e-308, 4.89613505959883e-299,  1.21467875813798e+248, 2.78134232318839e-309, 2.85581600812623e-109,  5.54095540718238e-310, NaN, NaN, 2.94849236316997e-312, -1.29499464712615e+116,  NaN, 2.56882117562077e-295, 2.00134474228371e-256, NaN, 3.05162830045447e-05,  NaN, -5.76043027223312e+304, NaN, NaN, 1.39067082667587e-309,  NaN, -2.54556157315225e+306), thresholds = c(-Inf, 6.64032995703601e-07,  1.39113490711204e-308, 2.33589462449573e-310, NaN, NaN, -5.7502866102558e+243,  -5.17495827120738e+245, -6.03473647567304e+304, -5.17539168553204e+245,  NaN, -5.66347311684925e+243, 4.77830972972668e-299, -1.33009567995099e+305,  6.80571226748251e+38, NaN, NaN, 9.79032497743168e-307, -8.7398998701513e+245,  -5.54792475454324e+243, 4.46014903970612e+43, NaN, 6.55651547271668e-07,  2.78105668265994e-309, NaN, 9.78858663848094e-307, -3.14666901810749e+53,  NaN, 3.94213052632414e-259, 9.12458790315895e-313, NaN, NaN,  1.31977521678509e-309, 1.39064994493837e-309, NaN, NaN, -5.75028661567098e+243,  -5.17495827120738e+245, -5.1893155522444e+245, 4.77143657924042e-10,  NaN, -1.37153101719842e+305, NaN, -5.75936294914286e+304, NaN,  -4.55943088768514e-215, NaN, 2.21391465226605e-80, 3.94212982856897e-259,  1.03277276821128e+40, 3.28459702170213e-299, -5.82982301129014e+303,  NaN, 2.16443570677964e-312, 2.17598062478055e-113, 4.34970285608817e-114,  5.80430808415093e+180, -1.53095600232164e+256, 4.89613425858066e-299,  3.9753595253301e+72, 3.56439011528506e-315, 1.72759795267618e-260,  4.89613425871169e-299, 1.42943178999697e-101, 5.43655321645303e-311,  NaN, NaN, NaN, NaN, NaN, NaN, -5.1071114359872e+245, NaN, -5.75028645430585e+243,  NaN, NA, NaN, NaN, 9.96833088362619e-306, NaN, -1.06559867695611e-255,  2.33589399636028e-310, 0), x = -Inf)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
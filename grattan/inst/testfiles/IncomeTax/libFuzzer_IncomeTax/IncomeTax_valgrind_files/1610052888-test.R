testlist <- list(rates = c(-5.48612930076931e+303, NaN, NaN, 1.390671161567e-309,  NaN, 5.79909433230408e-316, 6.95346190762455e-310, Inf, -2.18020704224254e-289,  8.2889857824493e-317, 1.01855797966333e-312, 0, 1.44629800802968e-307,  -3.56047810653759e-306, 4.98416699759381e-306, 2.71984339991098e-312,  -5.48612406879369e+303, 2.96439387504748e-323, NA, -8.98798625795533e+307,  -1.90877083252545e-287, 1.95128366347825e-187, 0), thresholds = c(-5.32870004648329e-108,  -5.46318955838016e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.4635469005984e-108, NaN, NaN, 1.38540861198517e-309,  NaN, 7.17645075225128e-304, -3.0784025950009e-288, -5.46354689218091e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.4635451747904e-108, -5.46354689513824e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, -3.10503618460142e+231, -5.96890832411666e+306,  -5.82900230650667e+303), x = -2.01365537696e-147)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-Inf, Inf, 1.63335743813925e+40, 3.9374608960985e+92,  4.17199041059827e-308, 4.89613426143778e-299, 5.03402852565284e+226,  5.95750278984877e+228, 4.62494839268972e+228, 5.95750278984877e+228,  Inf, 5.95745073761192e+228, -8.5233227686842e+245, NaN, -4.55943088768514e-215,  NA), thresholds = c(NaN, 1.2409145711033e-08, 8.06589272051311e-308,  4.93592725829426e+169, 9.1249556945683e-313, 1.77424228692982e+159,  1.12414666149604e+79, NaN, 4.2472618696333e-314, 5.95750154236552e+228,  5.95750278984877e+228, 5.95750271042234e+228, 5.95750278984877e+228,  3.35884232342361e+227, NaN, -5.75028661020612e+243, 5.95792084061793e+228,  5.95760689429934e+228, -8.52438964180057e+245, -1.46215003400326e+128,  -2.83729433483924e-124, 1.71272844748826e-260, NaN, 5.51611724076149e-310,  NaN, NaN, -5.06443593276239e+245, -8.00197165336822e+304, -6.17182154143209e+303,  3.62557269002036e+53, 5.45435836126695e-312, NaN, NaN, -6.3100779998114e-256,  4.65661275987818e-10, -8.7777985100699e+304, NA, NaN, -5.50078902973508e+303,  5.95750278987369e+228, NaN, 4.7282819493278e-308, 6.55651541948862e-07,  1.58653735272582e+124, -3.3660338951184e+304, 9.96833088362618e-306,  -2.23331685354507e-159, 8.92489319913998e+252, 4.78210139740299e+180,  3.949655557033e+180, 3.94213052632413e-259, 4.94665521972364e+173,  2.44047694750493e-152, NaN, 2.75744471482275e-10, NaN, 3.04660497931763e-05,  NaN, NaN, 3.94213052906068e-259, 8.48798168141712e-313, NaN,  9.79032497743128e-307, -3.14666901810749e+53, NaN, 4.77830972972643e-299,  2.82755217285071e-110, NaN, 8.28904556439245e-317, NaN, NaN,  NaN, -2.88665259471098e-63, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, -7.31781923598515e+241, 0), x = c(NaN, -Inf, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, -8.73989987746428e+245, NaN, 5.7733696573141e-114,  2.79823504894035e+199, 1.38080630541309e+267, 3.07839226128608e+169,  NaN, NaN, NaN, -1.64264596305683e-260, NaN, Inf, -3.1466617105993e+53,  NaN, 4.77830972972642e-299, 4.90506654460551e-10, NaN, 1.02084759352235e+40,  -4.93751584743096e+304, NaN, NaN, -5.17495827121053e+245, NaN,  -5.75028662029127e+243, 1.36845553156666e-48, NaN, 5.26873114434066e+178,  2.78348553888541e-309, 7.50963275955378e-308, 6.80571229283552e+38,  4.90506320078795e-10, 7.29112200597775e-304, NaN, NaN, NaN, 9.36845755675959e+38,  2.16532401006741e-256, -8.54359369535362e+245, -4.78904768543923e+54,  NaN, -5.49989590170678e+303, 1.89381105753407e+212, 1.73047213619141e-306,  6.8089704084083e+38, 3.22272138152188e-115, NA, 9.34531129874458e-307,  7.2911185428785e-304, 5.95750278984877e+228, 8.54517745960536e+194,  5.95750278984877e+228, 5.95750278984877e+228, 5.94417741721548e+228,  -5.76043027219731e+304, NaN, 5.95750278984886e+228, -6.89831694673732e+305,  NaN, 7.7710698149671e-305, 1.19766731605459e-303, 8.04398474339347e+55,  5.66241638171824e-312, NaN, NaN, -2.88021513611669e+304, NA,  NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
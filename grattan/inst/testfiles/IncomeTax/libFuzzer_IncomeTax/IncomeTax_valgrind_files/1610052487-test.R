testlist <- list(rates = Inf, thresholds = c(NaN, NaN, 1.38526007229957e-309,  -4.98416699759381e-306, -9.77702922971014e-150, 2.40086640390434e-300,  -5.39312643686985e-116, -9.16089546748476e-280, 2.08964957151527e-309,  3.65190323847935e-306, -8.24519868127501e-157, -2.30331110816477e-156,  -2.30331110816477e-156, -1.12858219058046e-276, -Inf, 9.14021444806306e-322,  1.00891829368495e-309, 2.67904643304077e+301, 4.92150736866355e-303,  2.40086628599723e-300, -3.02540511748156e-306, -3.18471904527828e-248,  NaN, NaN, -4.24399158143648e-314, -5.55059957471347e+303, -2.35343736826454e-185,  1.09517826100207e-314, 2.35539768140832e-300, 1.11579631478852e-308,  -2.11966640218428e-289, NA, -1.26836459270829e-30, -8.81443176193936e-280,  2.22507386265192e-308, NaN, 2.94024551642532e-306, 3.83698199955456e+117,  7.29069965756742e-304, 2.71615461243555e-312, 2.25779346205449e-309,  -2.3033111081542e-156, -2.30331110816477e-156, -2.30331110816476e-156,  1.09015244729545e+217, -3.0784026009623e-288, NaN, NaN, 4.46108959687713e-140,  -7.0515405308246e-279, 8.36626207402816e-128, 1.55571390562492e-319,  3.23790861658519e-319, 0), x = c(-5.46382727130528e-108, NaN,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059075e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, 3.78573811262356e-270,  7.29112072938316e-304, 3.32652954498878e-111, NaN, NaN, NaN,  -1.38470391314099e+86, -1.38470391314097e+86, -1.38470391314097e+86,  -2.35343767632119e-185, -2.32219514245902e-185, 7.18076182606187e-304,  -1.90877083252545e-287, 7.41606077195142e-310, -1.74162172578232e-248,  7.20047258077813e-310, 2.71619443889434e-312, -2.30331099970595e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110816476e-156,  1.09009353377335e+217, NaN, NaN, NaN, -5.96890832411666e+306,  7.73071187696462e-12, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, 3.94108708470682e-312, 2.84851153783576e-306, -1.26826227555365e-30,  -1.26827076114981e-30, 1.11688277665699e-308, 6.23735309290007e+291,  -5.46354474764571e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46310509567581e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.9373399118879e-34,  -9.21253817446353e-280, 1.23269447171475e-30, -1.26836459270829e-30,  5.5869437297374e-319, -1.26836407051221e-30, 1.88100416372243e-35,  -1.26836459270829e-30, 5.5869437297374e-319, -2.247674815751e-289,  NaN, -1.26836459270033e-30, -5.46359908147124e-108, 2.73021803551749e-312,  -2.30331099970595e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110816476e-156, 1.09009353377335e+217, 1.09366830292938e-302,  1.21044018122494e-305, 5.85363771868791e+170, 2.10901416965392e-312,  NaN, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(NaN, NaN, 7.2911220195564e-304, NaN, -9.21254655673249e-280,  1.23269447171475e-30, -1.26836459270829e-30, 5.5869437297374e-319,  -1.26836407051221e-30, 1.88100416372243e-35, -1.26836459270829e-30,  5.5869437297374e-319, -2.247674815751e-289, -5.08165230815204e-306,  NaN, -2.24767481577993e-289, -1.24371214513728e-30, -1.26836459270033e-30,  3.66343140688495e-305, 3.22048866822797e-314, 2.9548964544048e-306,  3.25938534064814e-312, -3.18471904296289e-248, NaN, 4.00791842552789e-306,  2.34012289634757e-269, -1.26836459270829e-30, 3.94108708470682e-312,  4.91407572666621e-319, 2.72888639290682e-312, 3.63041237940668e+282,  2.71984550446759e-312, 7.19919233907545e-310, -7.55234771438901e-287,  3.7835305088198e+117, -1.97637754038728e+306, 1.25986739689518e-321,  0, 5.44329432060333e-312, -3.65223708759439e+304, NaN, NaN, NaN,  NaN, -1.05106505263893e-286, -1.21044017903676e-305, -1.84912323760304e-248,  2.40313001605884e-306, 7.2911220195564e-304, 0, NaN, NaN, NaN,  NaN, NaN, NaN, 0), thresholds = c(-1.80657958852625e+307, NaN,  NaN, -1.26836459066993e-30, -2.11235246207643e-106, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, 9.70418706720237e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  -1.97671907332562e+306, -5.53534777937046e-108, NaN, 3.78573811262366e-270,  -1.09977708721815e-149, 7.2903536873204e-304, 2.7473194328249e-282,  -6.36390391980068e+305, -1.80090326749858e+306, NaN, 7.2911220195564e-304,  5.43230890108024e-312, NaN, -1.26836459066993e-30, -2.51528733920081e-98,  -2.30171521140952e-286, -5.4861240816469e+303, 2.96439387504748e-323,  -7.39330193354573e-287, -1.33453641541175e-314, 1.11073217183338e-314,  NaN, -7.92682781780383e-308, 0, 2.9621337120295e-306, -2.2962031506993e-156,  -2.30331110816477e-156, -2.30331110816477e-156, NaN, -5.32245148160694e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -1.46889178304203e-110, -5.46354690059085e-108,  -5.46354690059085e-108, 0), x = c(NaN, -2.3033104174343e-156,  -2.30331110816272e-156, -5.5516993870748e+306, 4.65633848319158e-10,  NaN, -2.30331110816477e-156, NaN, 7.73071190387239e-12, NaN,  -5.96890832411666e+306, 3.56048348188083e-306, -2.30331110816477e-156,  -8.81442986644829e-280, -1.85907762421774e-183, -3.07800257785878e-288,  NaN, NaN, -5.96890832411666e+306, NaN, 3.6634314009942e-305,  NaN, -1.2683642165418e-30, 2.39958945525286e-309, -5.78531299700697e-34,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
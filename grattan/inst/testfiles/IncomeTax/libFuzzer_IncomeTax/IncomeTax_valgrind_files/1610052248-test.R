testlist <- list(rates = c(NaN, -2.18003511219752e-289, 7.84460841917697e+168,  5.85363771868791e+170, 9.6959551113217e+192, 3.60253364836636e-306,  7.19919233916972e-310, 9.70418706716128e-101, 9.70418696071228e-101,  7.55652533908718e-308, 9.70418706357123e-101, 9.70418706716095e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706715965e-101, 3.83698239077657e+117, -1.97637754038728e+306,  2.72814038002143e-312, -2.12197972740893e-314, 0, 0, 1.81346311054823e+286,  1.48456815539389e-313, 2.84844220667961e-306, -2.05226840465102e-289,  NaN, -8.0658927370886e-308, NaN, 8.31143311405278e-310, 0, 3.7835305088198e+117,  -1.97637754038728e+306, 1.25986739689518e-321, 0, 0, 0, 9.72926582174422e-309,  NaN, -1.40444736503779e+306, NaN, -5.79189576537157e-34, 3.56067227531041e-305,  2.26527122355628e-318, -1.26836459270827e-30, 1.43026673502722e-316,  -1.26823091051179e-30, 3.66343140688495e-305, -5.82767537774507e+303,  NaN, NaN, NaN, -1.26836459351501e-30, 4.00930495879766e-306,  -1.26826378018642e-30, 3.94108708470682e-312, 2.92300471201586e+48,  NaN, NaN, -1.26836479922652e-30, -3.10267783351777e-277, -1.24255658710767e-30,  -1.06701151677445e-314, 2.22507386265735e-308, 2.26527122355628e-318,  2.10029710895825e-301, 2.71615461243555e-312, 6.95346565065353e-310,  -2.69092032456518e+305, NaN, -2.8728483499532e-188, 2.7161547750869e-312,  3.65365169185744e-306, 5.85363594144907e+170, 5.85363771868791e+170,  3.75990818875158e+175, NaN, NaN, NaN, NaN, -7.40367656369217e-171,  7.51897652547993e-304, -2.97578962378101e-288, 7.06327445684396e-304,  0), thresholds = numeric(0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = numeric(0), thresholds = c(NaN, -5.75028645430585e+243,  NaN, 3.24181196729963e+178, NaN, 7.29111953427493e-304, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), x = c(1.29035286663029e+214,  5.17222103657198e+160, NaN, NaN, NaN, NaN, NaN, Inf, -5.1071114359872e+245,  -5.54792475454324e+243, NaN, 5.54095540936847e-310, -1.1255454651159e-256,  4.77793833555639e-299, 2.78134232318839e-309, -8.76879082998699e+188,  -3.40841152022364e+192, -3.40841152022364e+192, -3.40841152022364e+192,  -3.27925419729883e+192, -3.40841152022364e+192, NaN, NaN, 9.79032497743168e-307,  -8.7398998701513e+245, -8.50343441154999e+304, 4.46014903970612e+43,  NA, 6.55651547271668e-07, 2.78105668265994e-309, NaN, -Inf, 1.71272844748826e-260,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
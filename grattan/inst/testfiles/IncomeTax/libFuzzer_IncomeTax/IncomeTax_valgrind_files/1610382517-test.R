testlist <- list(rates = c(NaN, NaN, -5.75028661020612e+243, -6.03473647483953e+304,  1.42991535175584e-308, NaN, 1.3684555315672e-48, 1.3684555315667e-48,  -5.17538999909499e+245, NaN, NaN, -5.18850684303643e+245, -6.32692583017086e-256,  -4.64462867039556e+54, 2.33609434693532e-310, -2.83637110188085e-124,  1.71272844748826e-260, NaN, 7.29048578749729e-304, NaN, NaN,  NaN, 3.23785921002061e-319, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0), thresholds = c(-5.48746343411847e+303, -6.03473647567304e+304,  -5.48746343411847e+303, NaN, NaN, 3.07343416308464e-319, -Inf,  0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
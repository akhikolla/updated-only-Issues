testlist <- list(rates = c(-2.30327665540415e-156, NA, NaN, 2.81199605989981e-312,  NaN, -5.97027451786473e+306, 1.390652843099e-309, -1.54350963150033e-108,  -5.46354689220572e-108, NaN, NaN, 7.29112552338921e-304, 7.74565263102353e-304,  -1.3906499427506e-309, -9.11306812174856e-306, 1.39067107867654e-309,  NaN, -Inf, 1.44838919828424e+147, -2.35343736826244e-185, 3.58211230561158e-306,  2.87903833031139e-306, NaN, 5.43230922486616e-312, 2.12199579047121e-314,  -4.29176022091094e-278, 4.90274403849123e-309, 5.67865229884998e-270,  -8.81443176193936e-280, 7.18359277855872e-310, NA, 3.56048348188083e-306,  34082834.0004893, NaN, 6.98141723675999e-310, -2.30331099692468e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110816476e-156,  -9.15792901646155e-280, 2.82061734074097e-277, -7.22398477028514e-287,  5.85318274554714e+170, 5.85363771866072e+170, 2.81218450794017e-312,  -7.39330386895234e-287, 9.70418706714725e-101, 9.69721082575941e-101,  9.70418706566434e-101, 9.70395179000033e-101, 9.70418704587148e-101,  6.96251617241027e-310, NaN, 9.82279043786946e-101, 9.70418696071228e-101,  3.23412303889062e-306, 1.72723618616138e-77, NaN, NaN, NaN, NaN,  -8.59702596077467e-171, 1.41497286004344e+190, 7.84460841922927e+168,  5.85363771868791e+170, -2.30331110816477e-156, NaN, NaN, 0),      thresholds = c(2.71615461472307e-312, 1.28823036902948e-231,      -4.76178706671636e-33, Inf, -3.18471904296289e-248, NaN,      4.00791842552789e-306, -Inf, -1.26836459270829e-30, NaN,      4.91407572666621e-319, 2.72888639290682e-312, 3.63041237940668e+282,      2.71984323793156e-312, 7.19919233907545e-310, -7.55234771438901e-287,      3.7835305088198e+117, -1.97637754038728e+306, 1.25986739689518e-321,      0, 0, 0, 9.72926582174422e-309, NaN, -1.40444736503779e+306,      -1.4094657681933e-52, -1.05115074807266e-286, -1.21044017903676e-305,      1.29441752406388e-312, 2.40313001605884e-306, 1.29441752406388e-312,      0, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,      NaN, -1.28189897098414e-30, 6.01362129181413e-317, 1.55587395324171e-59,      -1.26836459270829e-30, 5.5869437297374e-319, 2.80103704451952e-312,      -5.6642596875391e+303, 0), x = Inf)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
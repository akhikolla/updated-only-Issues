testlist <- list(rates = numeric(0), thresholds = c(2.8418488617902e+180,  2.77448001762435e+180, 2.77448001762435e+180), x = c(2.84132113906601e-173,  6.48936002251359e-307, -5.4405925475413e+265, -1.85133771268567e+304,  NaN, 2.54552169758936e-29, NaN, -3.10503618460142e+231, -1.71833317411388e-93,  2.11954162065895e-321, 2.63554839664967e-82, 2.12196341187911e-314,  -2.48704362952506e+304, 1.03804971628627e+117, -6.90079413523249e+274,  2.84132113906601e-173, 2.84132113906601e-173, 1.34275506324855e+241,  -7.22669353876649e+304, NaN, 5.43223507567683e-312, 3.83698439012239e+117,  NaN, NaN, -1.93267624126747e-12, 9.11767501288655e-312, NaN,  -5.48746343411527e+303, 2.84132113906529e-173, 2.84132113906601e-173,  3.90914936710285e-308, 1.23239822953883e-27, NaN, 1.39065217937453e-309,  3.83738600246539e+117, -2.19452731259342e+306, 1.65436122509816e-24,  1.23170580865923e+194, 2.54639250802938e-313, 2.0043576745668e+53,  5.87747177600647e-39, 1.25542034707734e+58, 3.83698292462809e+117,  -7.17116815196912e+221, -3.38084306397821e+221, 5.10239975985146e-308,  2.36790419345542e+120, NaN, -2.74306263117642e+304, 1.66880379407532e-308,  2.78264607734797e-307, 7.97859330059203e-29, NaN, 1.23680856238253e-312,  2.50498814991259e-304, 1.390501319012e-309, 3.20506162422105e-310,  4.46014904647462e+43, 7.1832399476163e-187, -2.70494424245478e-11,  -2.70494424244937e-11, -2.70494424244937e-11, -2.08849643609004e+307,  5.43452447799538e-319, 5.43223475676734e-312, 2.04488139862213e-173,  2.84132113906601e-173, 2.84132113906601e-173, 1.3868176112072e-105,  -2.87980148639721e+304, -2.88021513611558e+304, 6.31088725681422e-28,  3.11941819105243e-143, NaN, -1.37154357395269e+305, 1.30801973328981e-24,  1.39230065572507e-316, 2.15612334778408e-315, 7.1282466131288e-304,  NaN, 6.31088725681422e-28, 7.02845612607936e-180, -2.66346944501791e-11,  -1.65840771762131e-93, 2.11954162065895e-321, -1.46216035231854e-307,  8.12698062587223e+115, 4.5243943505808e+43, 5.66212065669274e-310,  3.78259259870695e+117, 3.83698281517203e+117, 4.9436130027919e-310 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(NaN, NaN, NaN, NaN, NaN, 2.16443570677964e-312,  2.78104872487806e-309, NaN, -1.33009544456318e+305, 4.31748810751854e-304,  4.37475048947039e-308, NaN, NaN, NaN, -8.73989987746428e+245,  NaN, NaN, NaN, NaN, -2.87893744591755e-63, NaN, NaN, NaN, -8.73989987746428e+245,  NaN, NaN, -5.06443593276239e+245, -8.00197165336822e+304, -6.17182154143209e+303,  3.62557269002036e+53, 5.45435836126695e-312, NaN, NaN, -6.3100779998114e-256,  4.65661275987818e-10, -8.7777985100699e+304, 1.19787461677606e+142,  NaN, -5.50078902973508e+303, 5.95750278987369e+228, NaN, 4.7282819493278e-308,  6.55651541948862e-07, 1.58653735272582e+124, -3.3660338951184e+304,  9.96833088362618e-306, 0), thresholds = c(1.65467326361294e-260,  1.65467326361294e-260, -Inf), x = 1.42943178999697e-101)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
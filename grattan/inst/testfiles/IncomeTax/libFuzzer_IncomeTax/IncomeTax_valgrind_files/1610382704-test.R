testlist <- list(rates = c(4.65661287307739e-10, NaN, 2.18007543808417e-106,  9.41512232947306e-307, -5.49989590899971e+303, 5.95750278497579e+228,  5.95750278984877e+228, 5.95718054236814e+228, 5.95750278984877e+228,  2.78923464737621e+228, 2.08809742756317e-53, -Inf, 5.95750278984886e+228,  5.95750278984879e+228, 9.16794260529633e-302, 6.64033212419108e-07,  2.68838251105223e-299, 2.78134232313304e-309, NaN, 3.24260049547299e+178,  1.04291228749732e+40, 2.39524526325109e-08, -2.39536098123135e+260,  7.56881123708566e-304, 2.78350675884078e-309, 1.68815768077876e+69,  2.45258486785002e-106, NaN, 4.65661287307739e-10, -4.28076304470408e+221,  NaN, 4.77830972972642e-299, -1.50465302948754e-43, NaN, NaN,  -1.10232624616122e+45, NaN, NaN, -1.50465358798835e-43, NaN,  1.39217565661517e-308, -1.10232624616122e+45, NaN, -3.29659155073893e+118,  NaN, -1.45094702117037e+128, 1.63335743813925e+40, NaN, NaN,  0, NaN, NaN, NaN, -5.17512497239813e+245, NaN, NaN, NaN, NaN,  NaN, NaN, 0), thresholds = c(6.02669610142975e+175, 3.67142983950248e+228,  NaN, 2.75744471482275e-10, NaN, 3.04660497931763e-05, NaN, NaN,  -1.1821097904989e-125, 4.77045810117177e-299, 5.54095540936847e-310,  -1.1255454651159e-256, 2.48084742099826e-265, 2.78134232318839e-309,  -3.45507950618034e+304, -Inf, 3.23785921002061e-319, NaN, NaN,  NaN, -3.23465380139002e+244, -Inf, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, -4.95668081957698e+245, -5.82900682308922e+303, -8.52438965099359e+245,  -8.72554259640141e+245, -6.17189479381467e+303, 2.70150264931866e-307,  1.71193373937516e-260, 3.94212982853171e-259, 2.82820116936561e-110,  1.36845553155725e-48, -5.17538999909499e+245, NaN, 2.78134231816057e-307,  NA, NaN, NaN, 0), x = c(2.33589462432972e-310, 6.21370296905965e-313,  NaN, NaN, NaN, NaN, NaN, 1.25986739689518e-321, 0, 0, 0, 0, 0,  3.92660099062145e-310, NaN, 1.25986739689518e-321, 0, 0, 0, 0,  0, 0, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 2.12199579047121e-314,  NaN, 1.25986739689518e-321, NaN, NaN, NaN, -2.27610495947272e-159 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(2.70150095835327e-307, 1.25986739689518e-321,  2.16443570551977e-312, 2.12118048986733e+183, 3.94190318162733e-259,  9.34561577312374e-307, 1.27741322635293e+238, 4.77830972972655e-299,  NaN, -1.53095600232164e+256, 2.23743236237318e-310, NaN, 5.95750278982973e+228,  5.84500266327855e+199, -6.89831694673588e+305, NaN, NaN, 1.70141183460469e+40,  2.12862023884205e-106, 7.50963275957326e-308, 7.2911220195564e-304,  1.31977417966646e-309, NaN, -6.31007797996308e-256, 1.36845549830095e-48,  NaN, -5.17495827121042e+245, -5.18847371542225e+245, NaN, NaN,  -8.5243896509936e+245, -8.5243896509936e+245, -6.31001569488506e-256,  NaN, NaN, -5.75028661065071e+243, -5.06443614361371e+245, -6.97063641474777e-258,  3.56459708432476e-315, 1.04294967003054e+40, 5.43412073090628e-311,  -8.739899877442e+245, NaN, 7.2911220195564e-304, 7.29112200610265e-304,  7.50963275955378e-308, 0), thresholds = c(-5.17539169214552e+245,  -5.17539169214552e+245, -5.17539169214552e+245, -5.17539169214552e+245,  -1.1255454651159e-256, 4.77793833555639e-299), x = c(-5.17539169214552e+245,  -5.17539169214552e+245, -5.17539169214552e+245, -5.17539169214552e+245,  -5.17539169214552e+245, -5.17539169214552e+245))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-2.11640178818441e-289, -5.21531605995909e+73,  1.23269447171475e-30, -1.26836407088752e-30, -1.26836459270829e-30,  2.11057945361079e-309, 6.95367949510419e-310, -6.76385741726459e-231,  -6.56793027847815e-287, 1.38999208669611e-309, 2.393494597516e-301,  -5.08189404593326e-306, 3.00089887426119e+284, -6.64678428260241e-287,  NaN, NaN, -2.60644468696874e+304, -5.66324542991478e+303, NaN,  NaN, NaN, 3.02610044756979e-306, 3.83698199955456e+117, 7.29069965756742e-304,  0, -7.3933019237596e-287, 5.85318274554714e+170, 5.85363771868791e+170,  -2.26120295219172e-289, 7.29112201961132e-304, -3.04032340213361e-288,  1.8487055420653e-272, 7.18032555749451e-304, 7.00767850672846e-310,  2.72974914124656e-312, -2.26051309147826e-289, -3.15108981299048e-248,  NaN, 2.56647495783721e-301, -4.9540049074147e-33, -1.26836459066993e-30,  -1.26836459270829e-30, 8.24445099066359e-312, -9.11306812174856e-306,  3.65365168445533e-306, 5.85363594144907e+170, 5.85363771868791e+170,  5.73716459465267e+170, 8.62805110310557e-307, 8.5451750570825e+194,  2.81218450745104e-312, -6.64550662527324e-287, -3.15108981299808e-248,  NaN, 2.56647495783721e-301, -4.9540049074147e-33, -1.26836459066993e-30,  -1.26836459270829e-30, 8.24445099066359e-312, -9.11306812174856e-306,  8.34402647205924e-310), thresholds = c(7.1987099133561e-310,  -5.46354690059085e-108, 7.1987099133561e-310, -5.46354690059085e-108,  NaN, -3.67243182468058e-306, 1.81346311408636e+286, -5.46354690059082e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -Inf, NaN, -9.7781740006482e-150,  7.2903536873204e-304, NaN, NaN, 5.43230922486616e-312, NaN, 2.06298828125,  -6.95336083306967e-310, 7.1987099133561e-310, 0), x = c(8.37292633145854e+115,  -2.18103493738225e-289, -7.9548816001438e+304, -5.2538071154482e-287,  -1.18500279893624e+306, NaN, NaN, NaN, NaN, NaN, -7.22077750343787e-277,  -4.27803982342683e-317, 5.14288215733829e+25, 5.14291266320765e+25,  5.14291266320765e+25, 5.14291266320765e+25, 5.14291266320765e+25,  5.14291266320765e+25, 5.60596878863553e-81, -2.35343736825169e-185,  -5.34349793087407e-187, -1.14951280935086e-184, -2.35343736826454e-185,  -4.54100016778838e-293, -9.77719780333789e-292, -9.77719780333789e-292,  4.95224540605997e-303, 1.21044018122494e-305, -2.05226841231125e-289,  -7.36260622560494e+303, NaN, 7.1987099133561e-310, -8.81443176184631e-280,  -1.24255658710182e-30, 1.00891829368586e-309, 2.80103704451952e-312,  NaN, 1.39066109167247e-309, -9.77719780333789e-292, -2.1810352660454e-289,  -9.77619237190017e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, 9.70466856460705e-101, -9.77580118946814e-150,  3.23687261230869e-314, NaN, NaN, 2.81199605989981e-312, 3.91612999631911e-306,  2.00877667922887e-139, 2.00877667922349e-139, 1.3862250937717e-309,  2.36292526340207e-94, 8.4309447666278e-309, 9.70418706714725e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 7.10169581022479e-304, 7.29112036975772e-304,  -4.25898787020039e-270, NaN, -3.07840260097373e-288, -2.30313370586649e-156,  -2.30331110816477e-156))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
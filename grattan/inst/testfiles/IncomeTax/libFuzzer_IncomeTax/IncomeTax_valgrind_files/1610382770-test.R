testlist <- list(rates = c(-1.29287484775418e+164, NaN, 6.55651547276648e-07,  -5.48612405857659e+303, NaN, NaN, -9.00181948337867e+241, 5.02982669403682e-10,  1.18495754800529e-303, -1.29211778498328e+294, NaN, 1.390671161567e-309,  NaN, NaN, NaN, NaN, 2.75744471483016e-10, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, -5.17453735279954e+245, -1.29209058969158e+241,  -5.18847788293129e+245, -5.18925946911527e+245, -8.46891178714298e+245,  4.73878840674895e-10, 1.18495789628904e-303, 1.42991672770676e-308,  7.00659668223032e-308, -6.03473647567281e+304, NaN, NaN, 5.10961083395558e-95,  -6.8983169458176e+305, -5.17544277751961e+245, 5.95792084061793e+228,  NaN, NaN, 6.60774410574276e-304, 4.75906814770061e-293, -3.07247607103612e+54,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -5.7502866102558e+243,  4.96474335111844e-14, 4.77072469916124e-299, 7.27118756337024e-240,  1.39631574048471e-309, 1.03230394286533e-255, NaN, -1.29287484775418e+164,  -4.19867256722788e-140, 2.8282011693638e-110, 1.36845553155725e-48,  -5.06443423893187e+245, -5.17538999909498e+245, -6.31008200917246e-256,  3.04668938042604e-05, -5.17544608222403e+245, -1.29568717282844e+164,  NaN, NaN, 4.90506746331221e-10, 7.29112200597775e-304, NaN, NaN,  NaN, 3.64556100396923e-304, 3.24195464668757e+178, 2.78105030004137e-309,  1.28683596660321e-167, 3.811166663352e+40, NaN, 5.43230922486616e-312,  0, 0, 0, 0, 0), thresholds = numeric(0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
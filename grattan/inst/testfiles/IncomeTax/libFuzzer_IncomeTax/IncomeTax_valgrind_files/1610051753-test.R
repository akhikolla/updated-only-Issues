testlist <- list(rates = c(NaN, -2.18128805129229e-289, -4.57615391491272e-246,  5.73716459465271e+170, 5.85363771868791e+170, 1.21044018067558e-305,  -2.821380993339e-277, -2.2652729467719e-309, 2.33339401771058e-301,  NaN, -5.48681744862531e+303, NaN, NaN, -4.24399158143648e-314,  -5.55059957471347e+303, 2.87903833031139e-306, -2.29827867994586e-185,  2.87868930444377e-306, 33554432, 9.7041870671613e-101, 1.25986739689518e-321,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(NaN, NaN, -4.77947189171307e-299,  -2.18128805129229e-289, 2.04296144555355e-319, 0, 0, 1.40913782993788e-315,  8.84871571701673e-321, -5.35532635250002e+305, -Inf, 2.3641409746639e-308,  1.48456814906984e-313, 3.9191047797502e+202, -2.18028465462708e-289,  0, -5.48612407015086e+303, 2.96439387504748e-323, 3.91612999627774e-306,  -3.56047810653759e-306, 2.22507386265735e-308, 2.71615461308772e-312,  7.55920438137107e-322, 0, 2.72888639350958e-312, 3.60253364404992e-306,  4.65604443888978e-10, -2.11740488547778e-289, 3.56047671159453e-306,  -8.02506476812756e+304, 1.390652843099e-309, -5.16216864106284e-306,  2.72676459139037e-312, -1.83241805443804e-183, -9.77580118946814e-150,  1.05735537569685e-302, -2.87284834993229e-188, -3.97223051032683e-34,  2.1788294981599e-321, -8.81442986747833e-280, -2.64494692448922e+154,  -1.90877083254457e-287, -3.01364053970601e-135, -1.26836459245897e-30,  2.34903511315221e-319, 3.6634314068609e-305, -2.11966640218428e-289,  -1.2683642165418e-30, 2.39958945525286e-309, 5.68604456976406e-270,  -8.81443176193936e-280, 3.41641371420455e-312, NaN, 3.56048348188083e-306,  34082834.0004893, -1.32227247459916e-278, 1.81264677652528e+286,  -2.2308331483747e-289, 1.67616711008101e-319, 0, 0, 9.72926582174422e-309,  -2.23296116676236e-286, 1.28823036902948e-231, 2.47222686857108e-94,  -7.39330192375975e-287, NaN, NaN, NaN, NaN, -2.05251892169442e-289,  3.60322626546058e-306, 3.65206986391291e-306, 3.56048353890995e-306,  NA, -1.26836459270829e-30, -7.2239847844844e-287, 5.59610257591975e-275,  -1.28822975391943e-231, NaN, NaN, NA, -2.18103493600849e-289,  2.94863844478765e-306, 2.84809454419421e-306, -2.3033111077411e-156,  -2.30331110816477e-156, -2.30313370803716e-156, NaN, 3.65365438999996e-306,  -1.2683645927003e-30, 1.43026673502722e-316, 0), x = c(5.8536377186878e+170,  NaN, NaN, NaN, NaN, -9.77719780333789e-292, -1.24267801635198e-267,  NaN, 4.65661287305794e-10, NaN, NaN, Inf, 9.70418706716154e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, -5.82789329454073e+303, -5.82900681339507e+303,  1.08646184497373e-311, 8.97712454626148e-308, -2.11840698478091e-289,  1.24351972100265e-13, -3.72626152437281e+304, NaN, NaN, 2.73737457034026e-312,  -2.30331099970595e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -5.55169938707478e+306, -2.30331110979915e-156, NaN, 2.81199605989981e-312,  NaN, NaN, NaN, -9.77818300079457e-150, 5.16189429337767e-306,  2.94863844478765e-306, 2.84809454419421e-306, 0, 3.56048353891832e-306,  -1.23416654681114e-30, -1.26836459270829e-30, -7.2239847844844e-287,  5.59610257591975e-275, -1.28822975391943e-231, NaN, 3.65365169114987e-306,  2.8480945455619e-306, 1.84866628262558e-272, NaN, -8.81442988748393e-280,  -2.3033111077411e-156, -2.30331110816477e-156, NA, NaN, 3.65365438999996e-306,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
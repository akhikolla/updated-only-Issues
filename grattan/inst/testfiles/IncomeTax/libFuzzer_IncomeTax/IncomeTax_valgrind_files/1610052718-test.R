testlist <- list(rates = c(2.84347436052587e-312, 2.47222686857108e-94, 6.32404026676796e-322,  8.90029543402881e-306, 0, 2.31407681284749e-306, 33554432.062793,  1.84870553760557e-272, 1.22611528213286e-267, 9.37919864181884e-312,  3.65365168448253e-306, -5.77662200276729e-275, NaN, NaN, NaN,  7.09803712463454e+132, 3.9161326965251e-306, 7.17309179252186e-310,  7.51896958273426e-304, -1.04517716027437e-308, -2.24667570189889e-289,  8.74601785371863e-310, 3.652068166337e-306, 1.0451773909944e-308,  -2.82116925860707e-277, -9.77719387587134e-292, -9.77719780333789e-292,  -9.77719780333789e-292, 1.3934833460751e-309, 2.37192207663558e-103,  NaN, NaN, -1.06928687780663e-314, 2.22507386265735e-308, -2.07581640161049e-289,  NaN, 3.65365169003036e-306, 5.85376954119312e+170, 3.6292263499228e-306,  9.70418706716122e-101, 9.7041598162183e-101, 9.70418706715543e-101,  9.70418614810987e-101, 9.70418706707811e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, -4.11520865223409e-99,  -3.47040770899027e-147, 9.7041895757677e-101, 9.70418706716128e-101,  1.25802405378656e-60, -5.66365833706557e+303, 5.43230922486616e-312,  -3.9759940224262e-34, 5.8532174362302e+170, 1.94906373166557e+289,  7.74565138159227e-304, 2.12198042552369e-314, 0, 0, 0, -5.48612407015086e+303,  1.42873492037642e-101, -1.26834825275039e-30, NaN, -1.26823093099111e-30,  -2.24767623012983e-289, -1.24371214513728e-30, -1.26836459270829e-30,  3.78576699573368e-270, -1.26836459270033e-30, -1.24351955275956e-30,  -1.26836459270829e-30, 5.20542961913381e-270, 4.00791842552789e-306,  6.87700311221613e-308, 3.9191047797502e+202, NaN, 9.70418706716128e-101,  9.69721082575941e-101, 9.70418706716128e-101, 1.11579631764906e-308,  -2.11966640218428e-289, -5.81608789291487e-34), thresholds = numeric(0),      x = c(2.25779346205449e-309, NaN, -2.30331110816477e-156,      NaN, 2.81199605989981e-312, NaN, -2.96262760062936e-188,      -2.35343736826454e-185, 7036874417766.31, -2.35343736826455e-185,      2.87903833033626e-306, 1.76692744071204e-284, -3.53492796493258e-147,      -2.84809453891061e-306, -2.35343652661368e-185, -2.35343736826454e-185,      7036874417766.31, 2.87910650579219e-306, 2.25779346205449e-309,      -8.22816587817701e+303, 4.46108959687689e-140, 3.42882753485303e+304,      Inf, NaN, NaN, 2.12045811323408e-27, NaN, 5.68604456976417e-270,      -8.81443174834308e-280, 3.41641371420455e-312, -7.24772444895907e-304,      -2.11872208950101e-289, 7.32777351949015e-15, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
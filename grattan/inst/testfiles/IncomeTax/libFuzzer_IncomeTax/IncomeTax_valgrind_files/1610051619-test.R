testlist <- list(rates = c(-2.60644468696874e+304, -1.01124262054605e-185,  6.06584682809919e-301, -6.64677928231362e-287, NaN, NaN, NaN,  -9.77818300079457e-150, 6.9627991035571e-310, -1.01124262054605e-185,  1.3854086120054e-309, NaN, NaN, 6.95335580946088e-310, -2.87285026134096e-188,  -5.66362677157793e+303, 5.84082107547109e-308, NaN, 3.23785921002061e-319,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0), thresholds = c(-1.74162172411732e-248, 7.20047258077813e-310,  3.98264587882868e-317, 8.28904605845809e-317, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, 6.98603454301582e-310, 9.37333633526043e-312,  -5.78534238436574e-34, -1.26836459270829e-30, 4.33892353296385e-317,  7.00746712868804e-310, -4.93185008443201e-31, 1.00891829368586e-309,  -1.23259516440783e-30, 2.56647495592844e-301, 1.23269034419145e-30,  -1.26836459270829e-30, 5.5869437297374e-319, -1.26836407051221e-30,  2.10776830652961e-309, -6.64550662527324e-287, 9.38197868360131e+301,  -1.36890628482908e-231, NaN, 7.73071190387239e-12, 1.21044017902795e-305,  7.19919234034436e-310, 0, 0, 3.60739284464096e-313, 2.26527122355628e-318,  2.71619605766584e-312, 3.65190247027503e-306, 2.71984340047916e-312,  2.84809454436e-306, 4.95400018337535e-317, 0, 2.95489645946111e-306,  7.10542909137157e-15, -5.48612422239372e+303, -9.77702922971014e-150,  7.20267534071073e-304, 2.71502979554261e-307, 9.07933821083778e-97,  9.70418706716128e-101, 2.71973287984693e-312, 2.72374038540453e-312,  1.28823036902948e-231, 1.29153231426691e-231, -1.34481107682851e-284,  NaN, 2.84809456010918e-306, -8.81442987818659e-280, 7.74565138159227e-304,  -8.8144298992236e-280, 7.74565138159227e-304, 2.12198042552369e-314,  -5.90896449358903e-306, -1.06099789548264e-314, NaN, NaN, 2.81507050879996e-86,  9.70418706716128e-101, 2.87811122152947e-306, 6.9627991035571e-310,  2.87903833031398e-306, -6.36358120662016e+305, -6.64678428260241e-287,  NaN, NaN), x = c(NaN, -9.77818300079457e-150, 2.94613684519112e-306,  -1.01124262054605e-185, 6.06584682809919e-301, 1.21044018122494e-305,  -6.64550663505903e-287, -2.34568207499818e-185, -1.23269146090507e-30,  3.78576699573368e-270, -1.26836459270033e-30, 7.27950633336389e-310,  -5.66324542991447e+303, -1.12858219058046e-276, -1.26836459270732e-30,  9.14021444806306e-322, 1.00891829368495e-309, 2.67904643304077e+301,  3.66343140264087e-305, -2.29827867994584e-185, 9.11389926506012e-306,  2.39701938834909e-94, -2.18056649082045e-289, NaN, 2.7271398649941e-312,  7.14190420369699e-304, 5.43226988934558e-312, 0, 0, 0, 3.60739284464096e-313,  2.26527122355628e-318, 8.54602158179859e+194, 7.18076182606196e-304 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
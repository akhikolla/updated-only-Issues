testlist <- list(rates = c(NaN, NaN, NaN, 2.74753096397696e-282, -6.36390391980068e+305,  3.65207087186091e-306, NaN, -9.77818300079457e-150, -9.77579636327222e-150,  3.65365168861588e-306, 8.28904605845809e-317, NaN, NaN, 9.23492568228087e-311,  5.79909433230408e-316, 6.95346190762455e-310, 2.84809453891091e-306,  1.8614317067356e-130, 3.32760790845441e-310, 1.26822404694409e-314,  0, -9.11307071058342e-306, 1.38990724308225e-312, 1.59481413420777e-313,  7.18370196731299e-310, -2.96004356739546e-306, -3.18471904527818e-248,  6.68177101606839e-310, 1.390671161567e-309, 0, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NA, NaN, -2.52435489670724e-29,  -8.81442566349554e-280, -3.79844687780135e-33, -3.55455623057171e-147,  2.98474894658139e+289, 2.39010621408836e-310, NaN, NaN, NaN,  NaN, NA, NaN, NaN, NaN, NaN, NaN, -5.82900230650667e+303, NaN,  0), thresholds = c(1.44838919828424e+147, NaN, 1.39067049844331e-309,  0, 0, -2.82116711389276e-277, 1.39067116156765e-309, -6.64630829261706e-287,  9.70418706721457e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 2.81218450871091e-312, 5.85363771866079e+170,  8.62805110310557e-307, 5.85363594144907e+170, -2.10901416965392e-312,  5.67154552225164e-310, 2.39332418118999e-301, 1.13160106993595e-314,  -3.18993387177143e-248, 5.84082107599125e-308, 4.92150736863296e-303,  -1.26836452888033e-30, NaN, 1.42891481127931e-101, 9.70418706716128e-101,  1.95128366347825e-187, 2.34505333126984e-310, 9.70418706714725e-101,  9.70418706716127e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716127e-101, -5.86086916156383e-34,  -1.26836459270829e-30, -1.97637754039505e+306, -9.77719778799622e-292,  -9.77719780333789e-292, -1.42447098956418e-305, -8.24519868127501e-157,  -2.30331110816477e-156, -2.30331110816477e-156, -5.55169906269231e+306,  -3.32695152419361e-111, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, 1.60559212927429e-146,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, 1.82724810416579e-305,  NaN, -8.22918577619206e+303), x = c(-6.83307933569458e-287, -2.30341821464507e-156,  -2.30331110816477e-156, -1.12583501772562e-305, -2.30331110816477e-156,  -6.36358120662016e+305, -6.64678428260241e-287, NaN, NaN, NaN,  -9.77818300079457e-150, 2.94613684519112e-306, -1.01124262054605e-185,  6.06584682809919e-301, -3.07820845033014e-288, NaN, NaN, -5.96890832411666e+306,  1.390652843099e-309, NaN, NaN, NaN, 2.81199605989981e-312, NaN,  -8.22918610319053e+303, 4.46108959687689e-140, -1.40444775900542e+306,  NaN, 7.2911220195564e-304, 2.73737424655434e-312, -1.26418156348545e-30,  NaN, -1.23414719310911e-30, 2.56680426183462e-301, -4.9540049074147e-33,  -1.26836459270829e-30, 2.1788294981599e-321, -1.26836459066847e-30,  -4.76141252969079e-33, -1.26836459270829e-30, 8.81442566340335e-280,  -2.82145547645109e-277, 1.67129192517088e-112, -1.26836459270826e-30 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
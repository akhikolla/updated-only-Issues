testlist <- list(rates = c(1.3684555315672e-48, NaN, 4.06493635923793e-259,  NaN, NaN, NaN, NaN, -Inf, -5.18931555224442e+245, NaN, NaN, -5.75028661020612e+243,  -6.03473647483953e+304, 2.08809742974439e-53, -5.17538999909499e+245,  -9.96368653271754e+303, 7.29110797320461e-304, NaN, NaN, -5.18847371542227e+245,  -5.75028645430585e+243, NaN, -5.17495827121042e+245, NaN, 8.49789652160907e+194,  5.95750278984877e+228, 5.95750278984877e+228, 5.94417741721548e+228,  -5.76043027219731e+304, NaN, 5.95750278984886e+228, -6.89831694673732e+305,  Inf, NaN, -8.40812804059039e+304, NaN, 0), thresholds = c(-1.37153097468862e+305,  5.43443122066157e-311, NaN, NaN, NaN, NaN, NaN, NaN, -7.31781923598515e+241,  2.0581708656818e+183, 1.42991672770676e-308, NaN, -5.7502866102558e+243,  -5.06443614259625e+245, -1.45099822316707e+128, 4.77947283820032e-299,  1.65276105961175e+40, 1.39785663411574e-304, NaN, -3.23461994037922e+244,  NaN, -5.17495827121042e+245, -3.23461734586066e+244, NaN, NA,  -5.17538999909499e+245, -5.82900269473753e+303, -5.18846954791325e+245,  NaN, -4.13259400256433e-40, NaN, 3.05162830045447e-05, NaN, -1.43713943880526e+241,  5.54095540936847e-310, 4.77023935932887e-299, NaN, NaN, NaN,  NaN, NaN, 4.65661287307739e-10, -4.28076304470408e+221, -1.06559867695611e-255,  -Inf, 0), x = c(NaN, 5.43656150385434e-311, NaN, NaN, NaN, NaN,  NaN, NaN, -8.72602724925346e+245, 2.18006185075172e-106, 7.50963275957326e-308,  NaN, 1.04294967003024e+40, 9.55008712236373e+139, NaN, 4.77795884148929e-299,  2.78134232318839e-309, Inf, NaN, 1.25986739689518e-321, 2.16443570551977e-312,  NaN, NaN, NaN, 1.70141183460469e+40, 2.12862023884205e-106, 7.50963275957326e-308,  NaN, 1.04294967003024e+40, 9.55008712236373e+139, 9.1245883769185e-313,  -1.45094702116227e+128, NaN, 1.31977521678509e-309, 1.39064994493837e-309,  NaN, NaN, -5.75028661567098e+243, -5.17495827120738e+245, NA,  NaN, NaN, 6.55651094300693e-07, -1.31667061361551e+305, Inf,  7.00835716843018e+38, 7.29112229883701e-304, NaN, NaN, NaN, NaN,  2.94664509246412e+229, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(5.74790139408988e+199, -7.40507430175477e-171,  NaN, -2.11940804072454e-289, 2.00877667922351e-139, -9.5885701929841e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  4.95224540605997e-303, 1.21044018122494e-305, -2.05226841231125e-289,  NaN, NaN, -5.48612677708849e+303, NaN, NaN, 9.70418708486102e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, -3.72626152437281e+304, NaN, 4.77830972673634e-299,  2.31058199965605e-138, -2.1196558858712e-289, -1.83593039382815e-307,  9.70418706716715e-101, 2.00872040108461e-139, 7.10464042017561e-304,  2.41252237132898e+306, -1.26823257962768e-30, 4.274105578689e-317,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = 2.78132115530642e-309,      x = NaN)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(7.84461132747555e+168, -7.68057369627209e+304,  NaN, 5.42636763665634e-310, NaN, -7.50413207978327e-171, 2.8487888201287e-306,  7.10591798586467e-15, 6.22974269997644e-316, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(8.76431881444561e+252,  7.35876460944816e+223), x = Inf)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
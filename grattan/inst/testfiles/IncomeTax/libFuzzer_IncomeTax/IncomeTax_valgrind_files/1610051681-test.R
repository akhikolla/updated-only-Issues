testlist <- list(rates = 0, thresholds = NaN, x = c(-2.25807351951576e-156,  -2.30331110816477e-156, -2.30331097358367e-156, -2.30331110816477e-156,  NaN, -5.48612677708849e+303, NaN, -9.77580119331028e-150, NaN,  -9.77818300079457e-150, 9.84068610023007e-101, 9.70418706715965e-101,  5.41696352383362e-307, -7.06373421489677e-304, 2.64121166339307e-301,  -1.26836459270829e-30, 0, 7.29241343497231e-304, -5.90896719776808e-306,  -1.06099789548264e-314, 4.00791842552789e-306, -1.26826829408472e-30,  2.40086640681612e-300, 5.67865049360052e-270, 3.94108708383232e-312,  8.74601910837028e-310, -4.38753740307468e+307, -2.11965588216799e-289,  -1.83593039382815e-307, -2.6064446869563e+304, 7.18372580480888e-310,  5.94568495811084e-302, 4.29105301847264e-317, 0, 0, 5.59610256518376e-275,  0, 7.27929436294622e-310, -2.93988024154063e-306, -2.06028507410418e-289,  -2.87284971981314e-188, 0, 4.53801546776667e+279, -1.06597124722923e-314,  -2.11852534546502e-289, -3.07840103521725e-288, -6.64630831154043e-287,  -2.60151710544707e-312, 7.31960296499841e-304, NaN, 6.98147805439749e-310,  -2.67120456398365e+305, 1.39066109167247e-309, 0, 0, 0, 9.23492568228087e-311,  5.79909433230408e-316, 1.44804023176556e+190, -1.75590191507535e+306,  2.29775642758296e+189, 4.36428616530596e-306, 3.90913259233617e+304,  3.65784678046935e-306, 1.01955734498014e-314, 2.12199579096527e-314,  -5.48612406879369e+303, NaN, NaN, NaN, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
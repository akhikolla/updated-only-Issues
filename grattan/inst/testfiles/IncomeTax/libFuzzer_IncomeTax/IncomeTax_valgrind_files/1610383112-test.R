testlist <- list(rates = c(NaN, -5.17539168553204e+245, 4.94759321964892e-10,  1.18495789628904e-303, NA, 7.42022340955951e-68, NaN, NaN, NA,  NaN, -6.17473461383181e-256, -5.06443593198239e+245, -8.73989987746104e+245,  -1.12022642773623e+243, NaN, NaN, 7.56881123708566e-304, NaN,  3.06954461848363e-12, 1.02096081012252e+40, -1.39067116124326e-309,  NaN, NaN, NaN, 1.30375421369207e-309, 1.30078342585621e-311,  2.4501992221048e-95, NaN, 2.78105030004137e-309, -1.33216000825203e+305,  NaN, 2.21386317669016e-80, 3.94212982856897e-259, 1.63335536126807e+40,  -2.87893513927628e-63, 3.64295447284612e-315, 1.13203791517163e-72,  NaN, NaN, NaN, NaN, NaN, 7.2911220195564e-304, NaN, NaN, NaN,  NaN, 8.73189386463589e-308, 1.42991672770726e-308, -8.52118900406582e+245,  -4.78904768543923e+54, 0), thresholds = NA_real_, x = c(5.95750278984877e+228,  3.35884232342361e+227, NaN, 6.31001593821752e-256, 6.64083927404108e-07,  1.39113490711204e-308, 2.33589462449573e-310, -3.14666784576428e+53,  -5.49989589581548e+303, -5.18847371542227e+245, NaN, NaN, NaN,  -5.18892797390551e+245, -5.75028645430585e+243, 7.29112201886404e-304,  NaN, 5.43230922486616e-312, NaN, NaN, NaN, NaN, NaN, 1.39065593335898e-309,  NaN, NaN, 2.16443570677964e-312, -1.45094702117037e+128, 2.78132881200157e-309,  1.02111294636198e+40, 3.94172009386391e-259, -6.03473647567281e+304,  1.42991535175584e-308, NaN, -6.03473647567306e+304, -6.67112686765311e+306,  -5.17539168553204e+245, NaN, 1.31756732478297e-309, NaN, NaN,  5.9571834340932e+228, 5.95750278984877e+228, 5.95748245668231e+228,  5.95750278984877e+228, 5.13772671018457e-95, -6.8983169458176e+305,  -6.31007797996308e-256, 6.06452378675548e+228, 5.98415352919567e+228,  -6.03473411205113e+304, -1.06559867604858e-255, 7.65635840961206e+38,  1.51189165578349e-304, -7.72446356775168e+306, 9.58685070020329e-307,  -5.17544608216044e+245, -7.55203993593245e+303, -5.06414419567344e+245,  NaN, NaN, 2.7574742489378e-10, -4.82778916750959e+305, NaN, NaN,  NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
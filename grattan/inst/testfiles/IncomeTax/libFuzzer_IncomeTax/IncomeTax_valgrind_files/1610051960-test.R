testlist <- list(rates = c(3.05175708013028e-05, NA, NaN, NaN, -2.18053618881811e-289,  9.70418614815292e-101, 8.02711540254363e-125, 9.70408896376656e-101,  3.83677275828159e+117, 1.12812834827904e-291, 2.71623750163133e-312,  2.72888639290682e-312, 9.70418706716128e-101, 9.69721082575941e-101,  9.70418706716128e-101, -1.1285821917408e-276, -5.08189403532328e-306,  -2.19907373697835e-289, 8.30580772955891e-317, -1.05648156144933e+270,  -Inf, NaN, NaN, NaN, 2.72934941383405e-312, 7.14190420369699e-304,  -1.03074483068877e-228, 2.71615461306795e-312, -1.24267801634961e-267,  -7.39330691464932e-287, 6.95348926147655e-310, -2.35343736826449e-185,  -2.32219514245902e-185, -2.35343736826454e-185, 0), thresholds = c(NaN,  9.82745041327995e-101, 2.81218450766349e-312, 8.2863938883057e-312,  -5.66899487076606e+303, NaN, 7.1987099133561e-310, NaN, NaN,  5.43230663453926e-312, 0, 7.2911220195564e-304, 4.29105301847264e-317,  7.73070496506989e-12, 9.70419056021431e-101, 9.70418706716128e-101,  -Inf, 9.70418706716128e-101, -3.72626152437281e+304, NaN, 4.77830972673634e-299,  NaN, 4.65661287305794e-10, 5.73642288576513e+170, 5.74181509253156e+199,  2.71623750214021e-312, -3.53492796493266e-147, -2.84809453891061e-306,  -2.64494722659614e+154, -1.90877083254457e-287, NaN, 4.92150736867532e-303,  -1.26836452888033e-30, 1.42891481127929e-101, 9.70418706716128e-101,  1.95128366347825e-187, 2.34505333126984e-310, 2.87811122152248e-306,  -3.01406959776519e-135, Inf, 7.334923554234e-270, 3.56011975004636e-305,  -3.9759940224262e-34, -1.26836459270827e-30, -3.59749306164714e-147,  -9.77719780333789e-292, -1.01577616076637e-31, -1.26836459270827e-30,  1.43026673502722e-316, -3.91612999130521e-306, -8.24519868127501e-157,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331097358367e-156,  -2.30331110816477e-156, NaN, -5.48612677708849e+303, NaN, 7.07039469279248e-304,  -2.60644468696874e+304, 7.18372580480888e-310, 3.33233509401058e-186,  2.34505333126984e-310, 9.70418706714725e-101, -9.77719780333789e-292,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716127e-101, NaN, NaN, 0), x = c(-2.97639706758977e-288,  -2.41836152630391e-159, -2.30331110816477e-156, NaN, 3.87069807020594e+233,  2.72488642022979e-312, -2.35343736826454e-185, -2.35331532831998e-185,  -2.35343736826454e-185, 2.40433335218485e+108, 7.17736025258578e-310,  9.26370032214693e+25, 2.87903802396125e-306, 3.63372088255385e+228,  NaN, 7.1987099133561e-310, NaN, NaN, 5.43230663453926e-312, 0,  0, 0, 9.70418706357123e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, -3.72626152437281e+304,  NaN, 4.77830972673634e-299, -2.30341821473791e-156, NaN, 1.10370862091871e-305,  4.65661287304351e-10, -1.23259516441377e-30, 1.61350832545735e-307,  0, 0, 3.60739284464096e-313, 2.26527122355628e-318, 8.54602158179859e+194,  3.7835305088198e+117, -1.97637754038728e+306, 2.72814038002143e-312,  2.71615461306795e-312, 9.70418706714725e-101, 9.70418706716127e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716127e-101, NaN, NaN, -5.46354690487052e-108, 1.82724810416579e-305,  NaN, -8.22918577619206e+303, 4.46108959687689e-140, 3.42882753485303e+304,  NaN, NaN, NaN, NaN, -6.36304838944634e+305, -2.87284973051533e-188,  -2.35343736826454e-185, -2.353436891546e-185, -2.35343736826454e-185,  7.17736025324155e-310, 7.32777351949015e-15, -9.77719780333789e-292 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
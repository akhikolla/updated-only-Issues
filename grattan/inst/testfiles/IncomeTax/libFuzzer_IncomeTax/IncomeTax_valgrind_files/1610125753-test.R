testlist <- list(rates = 3.56159180157686e-314, thresholds = -Inf, x = c(NaN,  NaN, -2.56896736668097e+24, -1.34765550943381e+28, 7.29091958146417e-304,  NaN, 7.15604264133756e-304, 2.1518703540751e-312, 5.43223475676734e-312,  2.85351632101257e-173, -2.25112652961137e-144, 2.84132113906601e-173,  1.36257052583702e-105, -1.56500839841419e-209, -1.56500839841835e-209,  1.20082999144929e-178, 2.77448001459322e+180, 2.77448001762435e+180,  2.77448001762435e+180, 9.52157095844336e-307, 2.77448001676702e+180,  NaN, NaN, NaN, NaN, NaN, NaN, 5.43223507567683e-312, NaN, -4.8234067912112e-96,  1.80331613628201e-130, 2.12196682636678e-314, -1.00684145547149e+307,  -6.5929223516233e+303, NaN, NaN, 2.11370674490681e-314, NaN,  2.84132113906602e-173, 2.93095010751456e-173, 2.84132113906601e-173,  1.23239822953881e-27, NaN, 1.39065217937453e-309, 3.83738600246539e+117,  -1.57520780846576e-260, 5.98008215902011e+197, NaN, -8.44151193358303e-227,  -6.82852703442279e-229, -6.82852703442279e-229, NaN, 5.43230922486616e-312,  3.96558573507921e-310, -5.70642425329479e+305, 2.77448001762471e+180,  2.77448001762435e+180, 2.77448001762435e+180, -4.69526163440602e+305,  NaN, 4.46015329317765e+43, NaN, 2.77448001762435e+180, NA))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
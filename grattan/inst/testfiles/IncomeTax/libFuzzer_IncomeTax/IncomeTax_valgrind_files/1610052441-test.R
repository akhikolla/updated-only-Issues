testlist <- list(rates = c(3.03428333398789e-86, 3.03428333398789e-86, 3.03428333398789e-86,  6.96315526761319e-310, -6.76385489327485e-231, 3.03428333398957e-86,  3.04020388527745e-86, 2.50866170321889e-310, 7.54956749536033e-15,  3.2444302831103e-319, NaN, 3.56048348188083e-306, 34082834.0004893,  NaN, 2.80614289249855e-312, -2.2308331518689e-289, 1.39067116173462e-309,  0, 0, 0, 9.72926582174422e-309, 2.84809453888922e-306, 2.84347436052587e-312,  2.47222686857108e-94, 6.32404026676796e-322, 8.90029543402881e-306,  0, 2.31407681284749e-306, -2.05226840066711e-289, 1.24351972100265e-13,  7.29035368732027e-304, NaN, NaN, 1.94693962620683e-307, 1.38549531063679e-134,  1.38553270466618e-134, 1.38553270466618e-134, NaN, -2.52435489670724e-29,  1.53948714210656e-314, -3.97083461829737e-34), thresholds = c(3.03428333398789e-86,  3.03428333398789e-86, 3.03428333398789e-86, 3.03428333398789e-86 ), x = c(1.38622512589831e-309, 1.80354486308161e-130, 2.87903828237917e-306 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
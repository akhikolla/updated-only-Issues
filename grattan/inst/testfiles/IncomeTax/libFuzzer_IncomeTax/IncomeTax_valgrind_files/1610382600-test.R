testlist <- list(rates = c(NaN, -8.73989966578279e+245, NaN, -4.91619368412603e+245,  NaN, NaN, NaN, NaN, NaN, -3.23465366909032e+244, -1.64264713392191e-260,  NaN, 9.79032497743168e-307, 5.3251183007419e+178, 3.94213052632413e-259,  6.80571226377287e+38, 1.51189165578349e-304, NaN, 4.77830972972642e-299,  NaN, 4.77830972972642e-299, 3.94213052632414e-259, NaN, NaN,  NaN, NaN, NaN, 5.95750278984869e+228, 3.73958511007307e+286,  5.95750278493166e+228, 5.95750278984877e+228, 5.95745073761192e+228,  -8.5233227686842e+245, 3.10503470425215e+231, 2.94664509246412e+229,  5.95750278984877e+228, -5.99585955923651e-256, -5.06443593198239e+245,  -8.73989987746104e+245, -1.12022642773623e+243, NaN, -5.82900680848374e+303,  -6.03473647567306e+304, 1.42991535175584e-308, NaN, 5.54095523855614e-310,  -1.1255454651159e-256, 6.36595498313783e-313, 3.03112480085791e+231,  2.35953948920281e-310, -8.53398810812706e+245, 3.64556100396923e-304,  1.39113490712478e-308, 5.95750278984197e+228, 6.05350976211516e-310,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(3.27742461595324e+178,  3.13667399520311e+151, 3.5644358163573e-315, 1.67290190041334e+262,  4.87620583420803e-153, 7.0055059783365e-308, -5.4861241097e+303,  5.95750278497579e+228, 1.14737330167402e+195, 5.95750278953851e+228,  5.95750278984877e+228, 1.72723371101886e-77, -5.10711120890342e+245,  NaN, 1.46900210270322e-101, 1.63335743813925e+40, 3.9374608960985e+92,  4.17199041059827e-308, 4.89613426143643e-299, 5.03402852565284e+226,  5.95750278984877e+228, 4.62494839268972e+228, 5.95750278984877e+228,  5.95750278984877e+228, 5.95745073761192e+228, -8.5233227686842e+245,  NaN, -4.55943088768514e-215, NaN, -8.73941206645068e+245, 7.7710698149671e-305,  -3.1466690181077e+53, 7.23040374413963e-308, -5.18931555222206e+245,  NaN, 5.95792084008617e+228, -7.02630600419362e-260, 1.04294967003024e+40,  5.43412073090628e-311, -1.45094702117037e+128, -1.1818685957232e-125,  7.29111854342396e-304, -6.03473647566956e+304), x = c(1.23971598178855e+224,  8.90389806695633e+252, NaN, -5.17512496883578e+245, NaN, NaN,  NaN, NaN, 1.39065593335898e-309, NaN, 9.79032497743128e-307,  NaN, 1.05487533590996e+40, 9.55008712236373e+139, -5.48634904446389e+303,  NaN, 2.70150095835327e-307, NaN, NaN, 2.57461749621365e-310,  NaN, 8.28894576313199e-317, NaN, NaN, NaN, -2.88665259471098e-63,  NaN, NaN, NaN, NaN, -5.17544608222403e+245, NaN, NaN, NaN, NaN,  NaN, 1.0429501611652e+40, 1.39113555986642e-308, 2.33589462449573e-310,  -1.12554546352376e-256, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
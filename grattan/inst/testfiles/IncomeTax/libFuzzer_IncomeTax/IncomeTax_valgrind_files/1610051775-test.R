testlist <- list(rates = numeric(0), thresholds = c(-2.35322190464904e-185,  NaN, 7.31960296499841e-304, NaN, 6.98147805439749e-310, -2.67120456398365e+305,  1.39066109167247e-309, 0, 0, -Inf, 9.23492568228087e-311, 5.79909433230408e-316,  1.44804023176556e+190, 1.25800338602655e-316, 2.29775642758296e+189,  NaN, 3.90913259233617e+304, 3.65784678046935e-306, 1.01955734498014e-314,  2.12199579096527e-314, -5.48612406879369e+303, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0), x = c(-2.30331110816477e-156,  -2.30327665540415e-156, -2.30331110816477e-156, -2.30341758080513e-156,  -2.30327665540415e-156, -2.30331110816477e-156, NaN, NaN, NaN,  2.71623750289119e-312, 2.00877703195536e-139, Inf, -4.18002442595755e+304,  -2.38677000418437e-253, -2.25817972330959e-156, -2.94449594579895e+47,  -2.94449594579902e+47, -2.94449594579902e+47, -2.94449594579902e+47,  9.64395893538445e-101, NA, 4.49490997380411e-101, -2.85457059576828e+47,  9.70418614811012e-101, 9.70418706707811e-101, 9.70418706716128e-101,  9.70418706716148e-101, -2.11940804072444e-289, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
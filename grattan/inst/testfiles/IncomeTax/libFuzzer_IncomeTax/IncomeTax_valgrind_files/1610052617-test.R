testlist <- list(rates = c(-4.38753740307468e+307, -2.11965588216799e-289,  -1.83593039382815e-307, -2.6064446869563e+304, 7.18372580480888e-310,  5.94568495811084e-302, 7.29112203361732e-304, 0, 0, 2.75909158454893e-306,  -5.48612407015086e+303, NaN, 3.56048348188083e-306, 34082834.0004893,  NaN, 2.80614289249855e-312, -2.2308331518689e-289, 1.39067116173462e-309,  0, 2.56647495436064e-301, -1.26836452888033e-30, 6.01362129181413e-317,  -1.26836459057627e-30, 4.00791842552789e-306, -1.26826829408472e-30,  2.40086640681612e-300, 5.67865049360052e-270, 3.94108708383232e-312 ), thresholds = c(1.24351972100265e-13, 7.2903536873204e-304,  1.09614956738224e-314, -2.8213831420555e-277, 5.43230922552326e-312,  0, 0, 2.6949346545259e-312, -4.38889926233518e+306, 2.81218450820696e-312,  7.55038392918931e-15, -2.18003413361522e-289, 2.84809454421907e-306,  5.5869437297374e-319, 9.35293053394057e-309, NaN, -1.28189852548343e-30,  -9.36473653341481e-280, -3.04032340213361e-288, 2.56647495438759e-301,  5.67865049362949e-270), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(NaN, 1.71272844748826e-260, -1.4922257467118e+306,  NaN, NaN, 5.56268857482253e-309, NaN, -5.17539189176135e+245,  -2.60324790818752e+57, -1.255420347076e+58, NaN, -3.14666902287285e+53,  NaN, 1.3684555315672e-48, -4.19867256722788e-140, -5.17538999909499e+245,  4.6566128730619e-10, 2.12455197126622e+183, 7.2306694577448e-308,  1.19563886293582e-321, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(-8.08634877215979e-174,  9.79032497732848e-307, NaN, NaN, -6.3100779998114e-256, -5.06443593198239e+245,  NaN, -5.18931555224442e+245, -5.17495827121043e+245, -5.17538999909821e+245,  7.27887698342606e-304, NaN, NaN, 6.80564989917202e+38, -5.17512497157144e+245 ), x = Inf)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
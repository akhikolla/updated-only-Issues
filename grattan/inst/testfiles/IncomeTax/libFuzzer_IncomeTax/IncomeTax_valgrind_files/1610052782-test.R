testlist <- list(rates = c(2.8121845082366e-312, NaN, 9.7041861481534e-101,  8.02711540254363e-125, 9.70408896376656e-101, 1.42873424000035e-101,  9.7027918188809e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.8311546606753e-101, 9.69721082575941e-101, 9.70418706716128e-101,  -2.35343736686779e-185, -5.34349793087407e-187, 3.65329314145733e-306,  34082834.0180674, 1.61328734115373e-307, -1.06099802196344e-314,  -2.30331110816477e-156, 7.55038392918931e-15, 3.60253364406077e-306,  -2.67120427074537e+305, 1.25986739689518e-321, 9.70395179000027e-101,  6.1658541775202e-308, 9.70419289710112e-101, 9.70418706715543e-101,  9.70418614810987e-101, -2.12697279381482e-293, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, 4.92150736865468e-303,  -1.26836452888033e-30, NaN, -1.26836407059221e-30, -2.8214554825258e-277,  -1.26826829408497e-30, 2.40086640681612e-300, 5.67865049360052e-270,  -1.26836459270826e-30, -1.26826754177099e-30, 2.40086640681612e-300,  1.11579631478852e-308, -2.11966640218428e-289, -5.81608789291487e-34,  NaN, 1.39068655643842e-309, 3.60253365100228e-306, 4.72596629406004e-10,  4.46435758873308e+279, NaN, 7.29112072943601e-304, -3.04032340824977e-288,  -2.30331110816477e-156, 2.4719252581509e-94, -2.30331110816476e-156,  NaN, NaN, NaN, -1.12858219232097e-276, -2.30330777402665e-156,  2.95908645841946e-306, -2.2962031506993e-156, -2.30331110811389e-156,  -2.30331110816477e-156, -2.30331110763906e-156, -1.79946180325373e-158,  0), thresholds = c(-5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.4635451747904e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, -Inf, -5.96890832411666e+306,  -5.82900230650667e+303, NaN, NaN, -5.48612930076931e+303, 2.71632844633074e-306,  NaN, NaN, -2.52435489670724e-29, NaN, 3.94110983894955e-312,  NaN, 1.00891829368621e-309, 2.67904644895999e+301, -1.26836459117002e-30,  1.0089183164401e-309, 1.25106081448883e-308, 3.56014261896167e-306,  2.92371689846562e+48, -2.18053378796456e-289, 3.83738600972066e+117,  1.39066109167246e-309, 1.72723371101889e-77, 2.84809453893066e-306,  3.8369819991876e+117, -Inf, 1.72723371101889e-77, 0, 0, 3.65365168446472e-306,  2.12199579096527e-314, -5.21531605995909e+73, NaN, NaN, NaN,  NaN, NaN, NaN, -3.32695152419361e-111, NaN, -1.34497461904945e-284,  NaN, NaN, NaN, 1.00891829368621e-309, 2.67904644895999e+301,  -1.26836459117002e-30, 5.67865050383217e-270, 6.95335580950455e-310,  -2.69092032456518e+305, NaN, -3.43048522268702e-111, 2.73021803551749e-312,  -2.30331099970595e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110816476e-156, 1.09009353377335e+217, -3.0784026009623e-288,  2.71615461308772e-312, -Inf, 0), x = c(-Inf, -2.05227035158757e-289,  -2.30171521140952e-286, 2.36292526403838e-94, -1.21542669739984e-279,  1.23269447171475e-30, -1.26836407088752e-30, -1.26836459270829e-30,  2.11057945361079e-309, -2.29827867994584e-185, 9.11389926506012e-306,  3.44571489180014e-94, -2.18056649082045e-289, NaN, 2.7271398649941e-312,  7.14190420369699e-304, 5.43226988934558e-312, 0, 0, 0, 3.60739284464096e-313,  2.26527122355628e-318, 8.54602158179859e+194, 7.18076182606196e-304,  -1.90877083252545e-287, 7.41606077195142e-310, -1.74162172578232e-248,  7.20047258077813e-310, 3.98264587882868e-317, 8.28904605845809e-317,  NaN, NaN, -5.77662200276745e-275, NaN, NA, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, -1.26836459351501e-30, -3.52295261438774e-147,  2.67901978479858e+301, -1.26836459117002e-30, 5.67865050383217e-270,  6.51127528802566e+286, NaN, NaN, 2.75164205365948e-135, 3.42882753485303e+304,  NaN, NaN, NaN, NaN, -1.84912264488984e-248, NaN, -2.82145547645121e-277,  1.67129192517088e-112, -1.26836459270826e-30, 1.00891829368586e-309,  1.25800338602655e-316, 6.98594916584147e-310, -2.11974403239602e-289,  6.96280449144307e-310, 3.65365168445792e-306, -5.77662200276729e-275,  8.63073241202171e+115, -2.82116926034698e-277, 3.23785921002061e-319,  0, 0, 0, 5.59610256518376e-275, -5.48612406879369e+303, -7.29059496895792e-304,  -8.24519868127501e-157, 2.39903532407228e-309, 5.68604456976406e-270,  -1.26836459270829e-30, 1.11076451584089e-314, 3.02540651506046e-306,  7.31409635508346e-310, 1.16347433520585e+76, 2.33385326930198e-301,  -2.97619001462835e-288, -2.9718420926367e-147, NaN, NaN, 2.73737457034026e-312,  1.28823036902948e-231, NaN, NaN, NaN, -2.11974403239602e-289,  -2.52435489670724e-29, 1.53948714210656e-314, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
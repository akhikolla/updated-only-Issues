testlist <- list(rates = c(2.96439387504748e-323, NaN, -3.04032420950067e-288,  7.84460841917251e+168, 2.81218450794511e-312, 0, 0, 1.40913782993788e-315,  8.84871571701673e-321, -8.81442986651231e-280, 2.81218450745104e-312,  5.85363771866079e+170, 8.62805110310557e-307, -4.25550648705951e+305,  NaN, 1.21071831326023e-305, 5.85363771868791e+170, 2.36414097466485e-308,  NaN, NA, 9.70418706714725e-101, 9.69721082575941e-101, 9.70418706566434e-101,  9.70395179000033e-101, 9.70418704587148e-101, NaN, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418696071228e-101, 3.80916963432752e+117,  -1.26836459270828e-30, 2.1788294981599e-321, 2.36414097466485e-308,  2.31407682092931e-306, 33554432.062793, 1.84870553760557e-272,  2.30127027866676e-12, 2.84878882012868e-306, 7.10591798586467e-15,  7.73070516878153e-12, 1.67606829695184e-319, NaN, 4.65661287304351e-10,  6.95335580951107e-310, -2.69092032456518e+305, NaN, -2.8728483499532e-188,  1.62651351267397e-319, 0, 1.42873423910284e-101, 9.70418706721737e-101,  9.70418706716128e-101, 9.70418706716128e-101, -2.9403161383715e-306,  1.43431523223475e-101, -1.34481107682851e-284, NaN, -7.36331510668791e+303,  NaN, 7.1987099133561e-310, -2.84809454419421e-306, -2.93436828380535e-135,  3.66343140688495e-305, 7.06327445644526e-304, 1.09850957322306e-314,  6.95367949510419e-310, -6.76385741726459e-231, -6.56793027847815e-287,  1.38999208669611e-309, -Inf, 3.91650083661511e-306, 9.38407564159199e+301,  0), thresholds = NaN, x = c(-2.3087380564603e-156, -2.30331110816477e-156,  4.70744914353089e-299, -9.77580118946814e-150, 5.8536377186878e+170,  5.39907627431893e-310, NaN, NaN, NaN, NaN, NaN, -8.59702596077467e-171,  1.41497286004344e+190, 1.8487055376056e-272, NaN, -5.29946982737798e-169,  1.41497286004344e+190, -1.30302897109353e-284, NaN, -2.82150414772011e-277,  5.73716459465271e+170, 5.85363771868791e+170, 1.21044018067558e-305,  NaN, NaN, NaN, NaN, -7.76289525494821e-171, -2.07010540519241e-171,  -7.37475443462651e-171, 2.8487888201287e-306, 1.53640881652066e-312,  1.42019330749265e+190, -2.05252721683991e-289, 5.74528654700859e+170,  5.85363771868791e+170, 6.15509973953287e+170, NaN, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(3.65365168445533e-306, -5.77662200276729e-275,  NaN, NaN, NaN, 7.09803712463454e+132, -3.18993527369151e-248,  -2.30313428130492e-156, -2.30331097358367e-156, 1.12583501772562e-305,  -5.44223636980846e+306, 2.87903833031146e-306, 2.36414097466393e-308,  -2.18103525447252e-289, -9.77619237190017e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, 9.70466856460705e-101,  -9.77580118946814e-150, 3.23687261230869e-314, NaN, NaN, 2.81199605989981e-312,  NaN, NaN, 2.12199477862476e-314, 0, 0, 0, 9.70418706714725e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 7.10169581022479e-304), thresholds = c(NaN,  NaN, NaN, -1.28189897098414e-30, 6.01362129181413e-317, 1.55587395324171e-59,  -1.26836459270829e-30, 3.56013998772825e-306, 7.17409704523623e-304,  8.5451750570825e+194, -1.29547998728995e-279, 2.94832336573484e-306,  2.47192511529492e-94, -2.8481379973631e-306, -6.56885979775572e-287,  1.27098703594674e-316, -5.69758254997445e-306, 3.16202013338398e-322,  3.60739284464096e-313, 2.26527122355628e-318, 0, 7.27929436294622e-310,  -2.93988024154063e-306, 1.6211281971343e-319, 2.71615461243555e-312,  5.4169641229678e-307, -2.35322190464899e-185, -2.35343736826454e-185,  -2.35343736825726e-185, -8.11440248256909e-289, -7.92736885185439e-308,  0), x = c(-2.82145547645121e-277, NaN, -1.26836459270826e-30,  1.00891829368586e-309, 1.25800338602655e-316, 6.98594916584147e-310,  -2.87284999378921e-188, 6.96280449144307e-310, 3.65365168445792e-306,  -5.77662200276729e-275, 8.63073241202171e+115, -2.82116926034698e-277,  3.23785921002061e-319, 0, 0, 0, 5.59610256518376e-275, -5.48612406879369e+303,  NaN, 1.42873559907201e-101, -1.41042199454284e-231, -9.77579638261926e-150,  -5.08189403532328e-306, 3.00089887426119e+284, 0, 4.94065645841247e-324,  NaN, NaN, NA, NaN, NA, 4.00791429296442e-306, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
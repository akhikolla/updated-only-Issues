testlist <- list(rates = c(-Inf, NaN, 1.04294967003024e+40, 9.55008712236373e+139,  9.1245883769185e-313, -1.45094702116227e+128, NaN, 1.31977521678509e-309,  1.39064994493837e-309, NaN, NaN, -5.75028661567098e+243, -5.17495827120738e+245,  -5.1893155522444e+245, NaN, NaN, NaN, 7.2911220195564e-304, NaN,  -8.73989987746428e+245, 6.80564842859828e+38, 1.51189165578349e-304,  1.42943185985413e-101, 3.94172293792919e-259, 1.42991535880131e-308,  -8.5243896509936e+245, -5.49989589574762e+303, NaN, -8.5243896509936e+245,  -8.64067982270303e+245, -6.31001569488506e-256, NaN, 5.14674736242857e-312,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -7.31781923598515e+241,  7.29112201886404e-304, -6.30904267910925e+304, NaN, 4.77947283820032e-299,  1.65276105961175e+40, 1.39785663411574e-304, 1.0429122855008e+40,  1.2027073776402e-72, NaN, -5.17495827121042e+245, NaN, 4.46014744463253e+43,  1.09005881337506e-305, 1.08729904423278e-311, NaN, 1.65249624504117e+40,  3.70351608122598e-320, 0, 0, 0, 0, 0, 0, 1.6525917826537e+40,  NaN, 8.28904556439245e-317, 0), thresholds = c(NaN, -2.87777398251565e+76,  -9.30132054363669e+244, 5.95792084061793e+228, 5.98415515582771e+228,  5.95750202171697e+228, 1.04291228549598e+40, -1.29209058968189e+241,  -5.18847371542227e+245, -6.32692583017086e-256, -4.64462867039556e+54,  NaN, NaN, NaN, -5.48633958130682e+303, -5.18847371542227e+245,  -1.33373254766568e+241, 2.11194833240787e-106, -6.3100779998111e-256,  NaN, -4.08986416195937e+245, NaN, NaN, NaN, NaN, -5.1071114359872e+245,  -5.54792475454324e+243, NaN, 5.54095540936847e-310, -1.1255454651159e-256,  4.77793833555639e-299, NaN, -3.45507950618034e+304, NaN, 0),      x = -Inf)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
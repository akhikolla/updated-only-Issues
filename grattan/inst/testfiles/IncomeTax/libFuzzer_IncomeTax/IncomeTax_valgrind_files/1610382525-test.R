testlist <- list(rates = c(6.805649910109e+38, NA, 2.08809742728309e-53,  -5.50078690424118e+303, 5.95750278987369e+228, 5.95750278985497e+228,  -2.36553070576976e+306, 4.43975549210195e+43, 1.04294967408673e+40,  -5.49952239281811e+303, 9.34561121089739e-307, 1.3007834198627e-311,  2.33589462432972e-310, 6.21370296905965e-313, 6.87333694043399e+252,  4.73894980819862e+170, 6.36699570609694e+151, 4.55926526610949e+169,  6.96742180489936e+252, -8.1936561351225e+244, 4.77028481940609e-299,  NaN, -5.18847371542227e+245, Inf, 1.70141183460469e+40, 2.12862023884205e-106,  NaN, -2.83637103419045e-124, 1.71272844748826e-260, 7.50966246834481e-308,  1.65249628823389e+40, NaN, 7.2911220195564e-304, -5.48612406879369e+303,  NaN, NaN, NaN, 2.75744471483016e-10, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, -5.7502866102558e+243, 4.96474335111844e-14,  4.77072469916124e-299, 7.27118756337024e-240, 1.39631574048471e-309,  7.06331020436345e-304, 1.39064994493837e-309, NaN, NaN, 2.11898453545778e-314,  1.65249625247277e+40, NaN, 8.28904556439245e-317, NaN, 5.43230922486616e-312,  NaN, Inf, NA), thresholds = c(Inf, NaN, 5.14674736242857e-312,  1.04294967003024e+40, 5.22277776582315e-10, NaN, -Inf, NaN, -5.17512518402944e+245,  NaN, NaN, NaN, 5.98008216632976e+197, NaN, NaN, -Inf, Inf, -2.8866224505485e-63,  NaN, 2.78134240600793e-309, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = 6.87147506358095e-310, thresholds = c(NaN, NaN,  NaN, NaN, NaN, -8.37116099364271e+298, NaN, NaN, NaN, NaN, NaN,  -3.53607015069902e-93, 3.56159180157686e-314, 7.29032242438082e-304,  3.13151307413425e-294, 1.60266322330291e-24, 2.84132113906491e-173,  2.93095010751456e-173, 2.84132113906601e-173, 1.23239822953881e-27,  -3.75846015980064e-74, -3.68996727170329e-74, -3.68996727170329e-74,  4.46014905117397e+43, NaN, -1.71833317411388e-93, 2.11954162065895e-321,  -5.48612930069759e+303, 1.26217975946955e-27, 1.62841639290983e-173,  1.80331537081722e-130, 4.46015329317765e+43, 3.83698282132418e+117,  1.5751576634339e-310, -6.59292235162361e+303, NaN, -1.93267623449123e-12,  9.11767501288655e-312, NaN, 2.11370674490681e-314, -5.48745941505172e+303,  2.84132113906602e-173, 2.93095010751456e-173, -2.88021513611658e+304,  5.2964269847157e+43, 7.183239947615e-187, -1.85156687321782e+304,  NaN, NaN, -2.70494360959418e-11, 1.38470701984658e-300, 9.12488123524439e+192,  NaN, 8.75988877411023e+194, 7.29067779634218e-304, 9.69518629547262e+192,  -7.2101814244246e+304, 2.56533550081148e-289, -1.71834850263236e-93,  3.78136106438473e-318, 5.43223475676734e-312, 2.85351632101257e-173,  5.96488856063735e-313, NaN, 5.43222733866811e-312, NaN, NaN,  3.13159368651093e-294, NaN, 2.90435521011115e-144, 1.27732942583614e+194,  6.14110702893137e-92, -1.71840927740113e-93, 2.7744810729007e+180,  2.77448001762435e+180, 4.46015072443745e+43, NaN, -8.37116099364271e+298,  NaN, NaN, NaN, NaN, NaN, NaN, 6.31088725681442e-28, NaN, 2.54639250802938e-313,  NaN), x = c(-4.54411904809208e-10, -2.70494424244936e-11, -4.65661229837371e-10,  -2.70494424244937e-11, -2.08849857910726e+307, -2.8106385105844e+304,  6.84471045223082e-310, NaN, -1.34765550659802e+28, -1.34765550943381e+28,  -1.34765550943381e+28, -1.34765550943381e+28, -1.34765550943381e+28,  -1.34765550943381e+28, -1.34765550943381e+28, 4.19672516587699e-312,  NaN, -1.71833317411388e-93, 2.11954162065895e-321, -5.48612930069759e+303,  4.46014903970638e+43, -2.74306263116906e+304, -5.48562181218372e+305,  2.84132113906602e-173, 2.84132113906601e-173, 3.90914936710285e-308,  1.23239822953883e-27, NaN, 1.39065217937453e-309, 3.83738600246539e+117,  -2.19452731259382e+306, 2.68176213845315e-29, -2.67120399494189e+305,  3.9656346395276e-310, NaN, -3.19744231092046e-14, 3.8369843877193e+117,  7.18520929158341e-304, 1.50192485449233e-307, -5.3172514347146e+305,  9.94684568527618e-316, 3.83698281887053e+117, 2.78351413506459e-307,  2.90457027633263e-144, 1.36258221057062e-105, 1.39141082068133e-101,  -2.72817620523181e-11, NaN, 4.82163710671329e+279))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
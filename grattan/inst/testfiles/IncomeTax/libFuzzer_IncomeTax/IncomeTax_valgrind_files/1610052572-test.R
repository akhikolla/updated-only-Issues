testlist <- list(rates = c(1.51793437670156e-101, 3.90913259233617e+304,  3.65784678046935e-306, 1.01955734498014e-314, 2.12199579096527e-314,  -5.48612406879369e+303, NaN, NaN, NaN, NaN, NaN, 7.2911220195564e-304,  NaN, -3.67243182468058e-306, 1.81346311408636e+286, 3.78576961890665e-270,  NaN, 8.63073241202193e+115, -2.82116926034698e-277, 6.98403937286746e-310,  -5.65756544598341e+303, -1.26836459351501e-30, 4.00930495879766e-306,  NaN, 3.56011817365297e-306, 3.66343140688495e-305, 7.17065483396996e-310,  1.25800370417912e+294, NaN, -2.93745603113065e-306, 2.64121166339307e-301,  1.53335870481004e-06, 0, -3.59749306164714e-147, 4.55436545804045e+284,  -1.01577616076637e-31, 3.66148293307183e-314, -1.2341419504043e-30,  -2.24767481577173e-289, 4.94065645841247e-324, NaN, -2.82116711389277e-277,  9.7041870635714e-101, 7.91826926828272e-101, 9.70418668394489e-101,  9.64395611395822e-101, 9.70418161697268e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.7041598162183e-101,  5.35249213585531e+116, NaN, -7.76289525494821e-171, -5.82848690801884e+303,  -5.4861249510484e+303, NaN, 2.09959112244414e-309, 3.56011817361152e-306,  6.98057082012781e-310, -4.93185008441161e-31, NaN, -5.79189576537157e-34,  -9.21253817446353e-280, 1.23269447171475e-30, -1.26836459270829e-30,  0), thresholds = c(-6.05898824717554e-65, -2.25769487008466e-289,  8.74601785371863e-310, 3.652068166337e-306, -9.11378520770331e-306,  2.40060263696258e-300, 5.67865049360052e-270, -1.26836459270826e-30,  2.8435571614667e-312, -7.06373421489677e-304, 4.03016916411296e-306,  -1.2341419504043e-30, -2.24767481577168e-289, 7.54951658409808e-15,  -3.1315127781037e-294, 3.56047671159453e-306, -8.02506476812756e+304,  1.390652843099e-309, 4.28183424758689e-317, -7.39330388852429e-287,  2.12199579096527e-314, 0, 0, 2.3641409746639e-308, 1.48456814906984e-313,  2.84844220667961e-306, -2.05226840465102e-289, 2.87903833578224e-306,  0, 3.24665356017687e-312, 0, -2.29844981641981e-185, 3.55816254229689e-310,  4.08272418357189e-311, 3.60289283426669e-306, 1.38540861188525e-309 ), x = c(-2.30331061567116e-156, -2.30327665540415e-156, 7.37827237216662e-301,  -2.29449120144678e-156, -2.30331110816477e-156, -1.84314079543842e+306,  7.1987099133561e-310, -5.55195755761905e+306, 4.65661286890991e-10,  NaN, NaN, 7.29112072943601e-304, -5.66362677157793e+303, NaN,  NaN, 1.3854086120054e-309, NaN, NaN, NaN, 5.43230922486616e-312,  -3.01363922187477e-135, -1.12858219058046e-276, -2.30331110816477e-156,  -2.30331110816477e-156, -2.29442229592558e-156, -2.30331110816477e-156,  -1.84314079543842e+306, 7.1987099133561e-310, 2.97403381695548e+284,  NaN, 7.07039469279248e-304, 4.24397956625404e-314, -5.66324213949231e+303,  2.31058199966682e-138, NaN, NaN, NaN, NaN, 3.20374868018615e-314,  -1.36890628235454e-231, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
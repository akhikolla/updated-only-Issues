testlist <- list(rates = c(NaN, NaN, NaN, NaN, NaN, NaN, 2.12199579047121e-314,  1.05677636176296e-293, 3.23785921002061e-319, 8.25666697229224e-317,  -2.45499504002048e+231, 9.79597350906908e-141, -1.78379395381334e+304,  -5.486124068794e+303, NaN, 1.91608710022272e+53, 2.84132114442919e-173,  2.84132114440832e-173, 1.36257052583702e-105, 1.33939372871052e-142,  -1.4566762634464e+144, 3.3358271148768e-310, -3.38084306224854e+221,  -Inf, -3.38084306397821e+221, 1.23387896896657e-178, NaN, NaN,  NaN, 4.81148672254132e+173, NaN, -4.7367525011088e+226, NaN,  -1.49222574671188e+306, NaN, NaN, NaN, NaN, NaN, -1.12612678974626e-88,  3.13151306251402e-294, NaN, 2.84132132514972e-173, 2.84132113906601e-173,  2.84132113906601e-173, 6.48936002251359e-307, -5.4405925475413e+265,  -1.85133771268567e+304, NaN, 2.54552169758936e-29, NaN, 2.75183362045782e-135,  Inf, NaN, 3.81152844315435e+117, 8.37203199836951e+115, 4.5243943505808e+43,  2.99521925137824e-05, 3.88548539924577e-318, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, -1.93267624126747e-12, 9.11767501288655e-312,  NaN, -5.48746343411527e+303, 1.52701147152603e-310, 3.13151306474693e-294,  -6.13037135980363e-92, -3.38084306226197e+221, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -1.93267624126747e-12,  7.97859330916882e-29, -2.70494424227998e-11, NaN, -2.70494424244939e-11,  -2.88684318280395e-11, -1.85133771268565e+304, 4.17201348470226e-309,  7.29112201951039e-304, -1.4566762634464e+144, 3.3358271148768e-310,  -1.34765550943377e+28, 0), thresholds = c(-1.83255064721201e-06,  -1.83255064721201e-06, -1.83255064721201e-06, -1.83255064721201e-06,  -1.83255064721201e-06, -1.83255064721201e-06, -2.88021513611665e+304,  -1.78813934681438e-06, -1.83255064721201e-06, 2260861.49019608,  -1.83243017824049e-06, -1.83255064721201e-06, 2.85279195357549e+180,  2.77448001762435e+180, 2.77447979814893e+180), x = Inf)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
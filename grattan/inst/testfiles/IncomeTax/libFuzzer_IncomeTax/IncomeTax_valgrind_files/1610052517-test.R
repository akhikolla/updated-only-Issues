testlist <- list(rates = c(-9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -2.20216447764871e-289,  Inf, -6.56725888219402e-287, NaN, NaN, NaN, NaN, -1.05658906227133e+270,  3.23785921002061e-319, 0, 0, 0, 9.70418706716128e-101, NA, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, NaN, NaN, 2.74711394303795e-282,  -6.36390391980068e+305, 3.65207087186091e-306, NaN, 2.94024551642532e-306,  3.83698199955456e+117, 7.29069965756742e-304, 0, 0, 0, -9.77719780333789e-292,  1.48456814906984e-313, 3.9191047797502e+202, -2.18028465462708e-289,  534.645996093779, -1.24281111519981e-267, 2.47229315721747e-94,  -9.37438000465967e-287, 2.61006680314917e-312, 4.92150736863288e-303,  -1.26836452888033e-30, NaN, -1.26836407059221e-30, -2.8214554825258e-277,  -1.26826829408497e-30, 2.40086640681612e-300, 5.67865049360052e-270,  -1.26836459270826e-30, -1.26826754177099e-30, 2.40086640681612e-300,  8.81449291213344e-280, -2.11966640218428e-289, -5.81608789291487e-34,  -1.26836459270829e-30, -8.81443176193936e-280, -1.24255658710182e-30,  1.00891829368586e-309, 2.80103704451952e-312, NaN, 1.39066109167247e-309,  NaN, -Inf, 3.7835305088198e+117, -9.77619999763768e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  0), thresholds = c(NA, NaN, NaN, NaN, 1.90709339294721e-321,  -1.83593039382815e-307, -2.6064446869563e+304, -5.66324542991478e+303,  2.84809454421703e-306, Inf, 3.65365169083783e-306, 2.8480945455619e-306,  -5.48612677708818e+303, 2.72888655986149e-312, 3.66145950596111e-314,  -1.2341419504043e-30, -1.80650535611164e+307, 1.39065284309774e-309,  -5.16216864106284e-306, -5.4861266847815e+303, NaN, NaN, NaN,  -9.77579636327375e-150, 2.73729184714066e-312, -1.11604253465019e-314,  2.9621337120295e-306, -2.2962031506993e-156, -2.30331110816477e-156,  -2.30331110816477e-156, NaN, -5.32245148160694e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -1.46889178304203e-110, -5.46354690059085e-108, -5.46354690059085e-108,  -2.30331110816477e-156, -5.46354690059085e-108, -5.46354690059085e-108,  -5.71336793340794e+303, NaN, 7.07039469194368e-304, -2.60644468696874e+304,  -1.3675878655138e+306, NaN, 7.2911220195564e-304, NaN, -7.3933069341805e-287,  -1.33453641541175e-314, 5.67154552225164e-310, 1.59481413420777e-313,  0, NaN, 3.78987846014901e-312, 3.65365169083783e-306, -5.48612677708849e+303,  NaN, Inf, 1.93515632163099e-319, -2.30331110816477e-156, 6.98594916738453e-310,  -2.97578918250622e-288, 4.08484188559247e-311, NaN, -1.77647555003681e+306,  0), x = -Inf)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
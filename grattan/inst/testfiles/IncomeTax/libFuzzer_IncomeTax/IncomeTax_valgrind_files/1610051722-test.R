testlist <- list(rates = c(NaN, -1.84314079543842e+306, 6.9881578015912e-310,  NaN, -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110816272e-156,  -5.5516993870748e+306, -7.39330692477661e-287, 1.26480805335359e-321,  NaN, NaN, -2.82171693951703e-277, NA, 5.85363771868791e+170,  1.21044018067558e-305, NaN, NaN, NaN, NaN, -7.76289525494821e-171,  -1.38856247895918e-309, 3.93320657029289e-310, -5.4861633904017e+303,  -5.96890834439057e+306, 1.390652843099e-309, 3.65207087182945e-306,  NaN, -8.81442989928447e-280, 2.56647495437793e-301, -2.30331110816311e-156,  -2.30331110816477e-156, -6.05390363808932e-157, -2.30331110816477e-156,  -1.84314079543842e+306, 1.39348334607571e-309, 2.37192207663558e-103,  NaN, NaN, 7.1991923423062e-310, 5.85363771174557e+170, 5.85363771868791e+170,  6.15509973953287e+170, NaN, NaN, NaN, -1.84314079543842e+306,  -7.40367110377773e-171, 9.69630022349236e+192, 3.60253364704011e-306,  NaN, 7.29112072938316e-304, -3.04032340824977e-288, 2.72784216611317e-312,  2.64868533186271e-305, -2.82149851225675e-277, 7.19870991012477e-310,  NaN, 3.78576699573368e-270, 7.29112072938316e-304, NaN, NaN,  NaN, -6.98350747629175e-251, 1.29145347579917e-231, -5.69758255001719e-306,  9.70418745223489e-101, 2.1151045055314e-314, 0), thresholds = c(NA,  NaN, 3.79244309642134e+117, 6.95335580950455e-310, 1.39254584091069e-309,  0, 2.31407681284749e-306, -2.11940804072449e-289, 2.00877667922351e-139,  2.00877667922349e-139, 5.41494177254505e-312, -7.92633112956698e-308,  3.29333779946374e-311, -2.60591001599488e+304, -5.66324542991478e+303,  0), x = c(-1.26823093099108e-30, -2.24767623012983e-289, -1.24371214513728e-30,  -1.23259516588553e-30, 3.66148293307183e-314, -1.2341419504043e-30,  3.66343140688495e-305, -1.26836459270251e-30, -1.26836449829996e-30,  5.20542961935417e-270, 4.00791842552789e-306, -2.35343736893668e-185,  -2.353436891546e-185, -4.93038065763132e-33, -1.26836459246072e-30,  7037009161838.43, 2.62190484704862e-315, -5.58557350777271e-33,  2.39422219319154e-301, 2.40086640681612e-300, 5.67865049360052e-270,  3.94108708383232e-312, 8.74601910837028e-310, -4.38753740307468e+307,  -2.11965588216799e-289, -1.83593039382815e-307, -2.6064446869563e+304,  7.18372580480888e-310, 5.94568495811084e-302, 4.29105301847264e-317,  0, 6.953355807835e-310))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(NaN, NaN, NaN, -2.74306263117642e+304, 1.66880379407532e-308,  -2.70472810814937e-11, 3.83698281659047e+117, 1.05680907654247e-307,  1.50192485449233e-307, -5.3172514347146e+305, 9.94684568527618e-316,  1.04751452033777e-131, 4.46015329317765e+43, 3.83698282132418e+117,  8.37203199836951e+115, NaN, 0, 3.88422553184888e-318, 3.94004127329077e+117,  -2.51617249348227e-265, NaN, 1.60993257980272e-24, 6.51876482060659e-311,  -2.70494339817476e-11, NaN, 2.73737457034026e-312, -1.37153101813103e+305,  NaN, 4.46015329317765e+43, NaN, -1.77635684363536e-13, -1.71834871958989e-93,  5.43452447799538e-319, 6.31088881269874e-28, -2.85308156438254e+219,  -3.38084306397821e+221, -3.38084306397821e+221, 8.11695928681591e-308,  1.85422821653569e-310, NaN, 7.29032584869847e-304, 1.39065477289254e-309,  6.95335589040167e-309, -5.4861292803319e+303, 1.0567763617903e-293,  NaN, 1.53960083286989e+179, 2.77448001762435e+180, 2.37741873434941e-132,  -1.7183331139941e-93, -2.88021513611665e+304, 8.28893242335955e-317,  4.1254014950077e-293, NaN, NaN, NaN, NaN, -3.5659806447159e+304,  -Inf, NaN, NaN, NaN, NaN, 0), thresholds = c(-3.38084262461866e+221,  1.80330059760174e-130, 7.2903258603164e-304, NaN, -3.38084262461866e+221,  -3.38084306397821e+221, 2.86510542035184e-173, 3.23785921002061e-319,  2.11370674490681e-314, -3.38084262461866e+221, -1.42144553284265e+144,  1.54905692757263e-312, NaN, NaN, NaN, 0), x = -Inf)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-9.11306812174856e-306, 8.34402647205924e-310,  -7.93443086178592e-308, -2.82116724839022e-277, NaN, -8.81442988344703e-280,  7.74565138159227e-304, -1.74162172701189e-248, 7.20047258077813e-310,  2.71619443889434e-312, -1.26418156348545e-30, -2.72624067978329e-306,  3.83677401710034e+117, NaN, 0, 0, 0, 8.44254251528635e-227, 3.8004944616188e-311,  NaN, 7.17719822995867e-304, -2.82145547645115e-277, 6.96560453286513e-310,  -2.25803908836015e-156, -2.30331110816477e-156, -2.30331110816476e-156,  1.09015244729545e+217, -3.0784026009623e-288, NaN, 2.47251032482182e-94,  -9.37438000465967e-287, 1.38784891914528e-309, -5.16216864106284e-306,  -8.81442986644817e-280, -1.85907762421774e-183, -3.07800257785878e-288,  NaN, NaN, 6.95356720441271e-310, 2.72974914124656e-312, -2.30331099970595e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110816476e-156,  1.09015244729545e+217, -3.0784026009623e-288, NaN, NaN, -5.96890832411666e+306,  1.390652843099e-309, -5.16216864106284e-306, -8.81442986644817e-280,  -1.85907762421774e-183, -3.02950089300188e-288, NaN, NaN, -5.96890832411666e+306,  1.94475639764444e-301, 7.20492353770119e-310, NaN, NaN, 2.71615493622147e-312,  -3.6720676952331e-306, 2.22507386265735e-308, -1.26836459245897e-30,  2.34903511315221e-319, 3.6634314068609e-305, -2.11966640218428e-289,  -1.2683642165418e-30, 2.39958945525286e-309, 5.68604456976406e-270,  -8.81443176193936e-280, 3.41641371420455e-312, -2.35343736826449e-185,  7.07039468635215e-304, -2.60644468696874e+304, -4.27808626559754e-317,  6.32404026676796e-322, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0), thresholds = c(0, 0, -5.48612407015086e+303,  2.96439387504748e-323, NaN, 1.09418639506817e-314, -1.26836459066847e-30,  -4.76141252969079e-33, -1.26836459270829e-30, 8.81442566340335e-280,  -2.82145547645109e-277, 1.67129192517088e-112, -1.26836459270826e-30,  1.00891829368586e-309, NaN, -3.32653113142115e-111, -5.46354690059085e-108,  -5.35044484234063e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -8.81442988821026e-280, 7.74565138159227e-304, -2.82116926583657e-277,  3.2444302831103e-319, NaN, NaN, NaN, NaN, NaN, -2.95250654928309e-135,  -1.26836459245897e-30, NaN, 3.6634314009942e-305, 4.00791842555784e-306,  -1.2683642165418e-30, 2.39958945525286e-309, 5.68604456976406e-270,  -1.26836459270829e-30, -1.26836421360307e-30, 2.39958945525286e-309,  4.35857935464267e-311, 3.56048353890995e-306, -1.23416654681114e-30,  -1.26836459270829e-30, -7.2239847844844e-287, -3.66342989862027e-305,  -4.29176022090965e-278, 4.90274403849123e-309, 1.06103027407474e-314,  -2.05226938383413e-289, -1.24371214513728e-30, -1.26836459270033e-30,  3.66343140688495e-305), x = c(6.98051818285132e-310, -2.30328334270592e-156,  -2.30331110816477e-156, -2.29827867994589e-185, -2.30331110816476e-156,  -2.30331110816272e-156, -5.5516993870748e+306, 4.65661286890991e-10,  NaN, Inf, 5.41175239064118e-312, -9.37438000463309e-287, 7.29112201955619e-304,  -2.11966640218428e-289, -5.81608789291487e-34, -1.26836459270829e-30,  -8.81443176193936e-280, 1.91697470586404e-321, -2.87284972623436e-188,  2.36726998478986e-306, 1.28823036902996e-231, -5.48681743872625e+303,  -3.65398847701729e-306, 3.83677401710034e+117, NaN, 0, 0, -Inf,  8.44254251528635e-227, 3.8004944616188e-311, NaN, Inf, -3.01441880984572e-305,  -6.75197064217763e-287, -2.96004356739545e-306, -3.18471904527818e-248,  6.68177101606839e-310, 1.390671161567e-309, 0, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -1.36573625663878e-151,  9.69630022349229e+192, 3.60253364704011e-306, 2.11057946754239e-309,  2.71615461243555e-312, 7.14190420369699e-304, -1.03074483068877e-228,  2.71615461306795e-312, 5.85363771866075e+170, 1.21044018067558e-305,  5.85363771868791e+170, 5.74181509249139e+199, -2.11852534547717e-289,  6.95335580783535e-310, Inf, 2.00877667922349e-139, 8.40642559654881e-85,  1.91777968406795e+289, 1.42543900304488e-308, 1.00053821907223e-267,  7.78719609911814e-308, 2.71984339982699e-312, 6.96279910355789e-310,  -7.39330193316336e-287, 5.85318274554714e+170, 5.85363771868791e+170,  7.84460841921515e+168, NaN, 7.2911220195564e-304, 1.390671161567e-309,  1.94475639764444e-301, 7.20492353770119e-310, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
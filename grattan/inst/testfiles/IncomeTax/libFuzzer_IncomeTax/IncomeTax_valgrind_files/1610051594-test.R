testlist <- list(rates = c(-8577.50588235294, -8577.50588235294, 2.64868533186271e-305,  -2.82149851225675e-277, 3.41641322410626e-312, 7.19870908769578e-310,  NaN, 2.84809456010918e-306, -2.05227035158761e-289, 1.88680652875407e-301,  1.21044669999601e-305, 3.60253636549892e-306, 7.06996359174762e-304,  NaN, NaN, NaN, NaN, NaN, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0), thresholds = c(-Inf, Inf), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
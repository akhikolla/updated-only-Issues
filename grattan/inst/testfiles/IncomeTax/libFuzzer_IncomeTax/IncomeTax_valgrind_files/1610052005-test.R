testlist <- list(rates = c(-9.77818300079457e-150, -9.77818300079457e-150,  3.65365169083783e-306, 2.8480945455619e-306, -5.48612677708818e+303,  2.72888655986149e-312, -2.69092032704316e+305, NaN, -2.8728483499532e-188,  NaN, 4.65661203714475e-10, -5.46354474764561e-108, -9.77818300079457e-150,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  NaN, 7.19929512000783e-310, NaN, NaN, 1.08646184497373e-311,  1.06099795872304e-314, 0), thresholds = c(-5.46354690059085e-108,  1.60559212927429e-146, -Inf), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-Inf, 3.65190389201212e-306, 2.11860490845826e-309,  -8.81442987533329e-280, 2.56647495437793e-301, -2.30331110816311e-156,  -2.30331110816477e-156, -6.05390363808932e-157, -2.30331110816477e-156,  -1.32083970121448e-284, 3.65207087186091e-306, NaN, NaN, NaN,  7.73071190387239e-12, 6.98327594525623e-310, -6.05898824717554e-65,  -2.25769487008466e-289, 3.65207086127239e-306, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, 1.43026673502722e-316, -1.26823091051179e-30,  -4.02651530039782e-34, -1.26836459270827e-30, 1.43026673502722e-316,  2.56647495110178e-301, -4.9540049074147e-33, 8.6307324120218e+115,  -2.82116785652972e-277, -2.05302881705185e-289, -3.9759940224262e-34,  -1.26836459270827e-30, 1.43026673502722e-316, -1.26823091051179e-30,  -4.02651530039782e-34, NaN, 1.43026673502722e-316, 2.56647495110178e-301,  -4.9540049074147e-33, -1.26836459066993e-30, -1.26836459270829e-30,  -2.92463923369992e-135, -1.26836459245897e-30, 0), thresholds = c(NaN,  2.81199605989981e-312, NaN, -8.22918610319053e+303, 4.46108959687689e-140,  3.60297094497336e-306, -1.06556334613796e-314, 9.7020880290895e-310,  -7.39330493781016e-287, 2.81199605863994e-312, NaN, -8.22918610319053e+303,  4.46108959687689e-140, -1.40444775900542e+306, NaN, 7.2911220195564e-304,  -1.28189897097266e-30, 2.40086640681612e-300, NaN, -1.36890628482908e-231,  1.29984683923723e-312, -5.74764671183377e-306, -3.79844612865593e-33,  3.66343140688495e-305, 7.17065483396996e-310, -5.82831890007183e+303,  2.73737457034026e-312, Inf, 6.9674882998028e-310, -2.30331110816476e-156,  -3.05240007165387e-188, 6.95335580946107e-310, 1.6189543082926e-319,  3.7835305088198e+117, -4.00791701437355e-306, -4.29176022090965e-278,  4.90274403849123e-309, -1.06103027407474e-314, 2.11860490837427e-309,  -2.74014046480744e-230, -6.56793027847815e-287, 1.38999208669611e-309,  2.393494597516e-301, 4.46061123829277e-140, -2.30331110816476e-156,  -2.32219514465083e-185, -2.82131043438816e-277, 9.64483644714128e-101,  9.70418706716128e-101, 4.49490997380411e-101, 9.1603645752645e-313,  1.48074143480854e-105, 9.70418706716128e-101, 9.70418706716128e-101,  -9.77580118946814e-150, 5.74181509249131e+199, 9.70399275160785e-101,  7.88136321243153e+115, -9.77817400064788e-150, 7.2903536873204e-304,  NaN, NaN, -5.48612930076931e+303, -1.26836459351501e-30, 4.33892353296385e-317,  7.00746712868804e-310, NaN, 2.81218450745104e-312, 0), x = c(9.70395179000033e-101,  9.70418704587148e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 5.45991945219162e-320, 0, 0, 4.49490997380411e-101,  -Inf, -7.39330192378598e-287, -1.33453641541175e-314, 2.81199573737869e-312,  -5.46302015506779e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -9.01049622743489e+306, -5.46354690487052e-108,  1.82724810416579e-305, NaN, -8.22918577619206e+303, 4.46108959687689e-140,  3.42882753485303e+304, NaN, NaN, -1.4197067138704e+306, NaN,  9.70418706716154e-101, 9.70418706716128e-101, -2.96164487932264e-277,  NaN, NaN, NaN, 7.06373517387971e-304, 4.49490997380411e-101,  2.40086640681612e-300, 1.11579631478852e-308, -2.11966640218428e-289,  -5.81608789291487e-34, -1.26836459270829e-30, -8.81443176193936e-280,  -2.1196558821383e-289, -Inf, -1.26834825275039e-30, -7.39330555877084e-287,  -9.11306812174856e-306, 8.34402647205924e-310, -7.93443086178592e-308,  7.14206412621187e-304, 8.44151198692257e-227, 2.84845449850617e-306,  2.81741340991653e+118, -5.49084600862143e+303, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
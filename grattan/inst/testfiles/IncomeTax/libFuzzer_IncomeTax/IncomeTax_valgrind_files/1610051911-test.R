testlist <- list(rates = c(NA, NA, -5.46354690059085e-108), thresholds = c(NaN,  NaN, 2.3641409746639e-308, -2.05228209337354e-289, 7.20492353770119e-310,  2.5664749543746e-301, -2.30331110816311e-156, -2.30331110816477e-156,  -6.05390363808932e-157, -2.30331110816477e-156, -1.32083970121448e-284,  3.65207087186091e-306, NaN, NaN, NaN, 7.73071190387239e-12, 6.98306374891504e-310,  0, 0, 0, 9.72926582174422e-309, NaN, -1.40444736503779e+306,  -6.05390363808017e-157, -2.30331110816477e-156, -1.32083970121448e-284,  3.65207087186091e-306, NaN, 3.91612999631911e-306, -8.98798625795533e+307,  -6.69969684636837e-287, 6.98327553585668e-310, -6.05898824717554e-65,  -2.82171714966931e-277, 3.41641322410626e-312, 1.08601191821704e-306,  NaN, NaN, NaN, -1.23414267921078e-30, -6.00848451485491e+303,  NaN, -5.48612930076931e+303, -2.8480945494992e-306, 7.21427783629983e-304,  -5.4635447603095e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -8.81442988821026e-280, 7.10464176766301e-304, -2.44618987567313e-306,  -1.09723553931675e+304, 7.18364664522222e-310, 3.60297094801959e-306,  -2.30331152433666e-156, 3.94107863313095e-312, -2.24667375998195e-289,  5.89131532170214e+199, -7.22526743806673e-287, -1.33453641541175e-314,  2.92069032157404e-306, 3.83698199955456e+117, -2.82145658608811e-277,  5.73716459465271e+170, 5.85363771868791e+170, 1.21044018067558e-305,  0, NaN, NaN, NaN, -7.76289525494821e-171, 1.16875544483603e-314,  0, 0, 3.60739284464096e-313, 2.26527122355628e-318, 8.54602158179859e+194,  -2.29545296083695e-156, NaN, -2.30331110816477e-156, NaN, NaN,  3.02610044756979e-306, 1.86165783044538e-130, -3.0149750772162e-305,  -1.45382491094285e+306, 6.95335580946088e-310, -2.872850261341e-188,  2.81218450871091e-312, 9.6963001895514e+192, 3.60253364836636e-306,  1.38540861169112e-309, NaN, NaN, 0), x = c(2.08964957151526e-309,  -9.77703287175481e-150, -1.38527110735584e+306, 7.18364664522222e-310,  -1.46772636800616e-154, -1.26333753792012e-30, 4.00791842552789e-306,  -1.26826829408472e-30, 2.40086640681612e-300, 1.21044018122494e-305,  1.41497286004339e+190, 6.9533558094591e-310, -2.30328334270592e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110816272e-156,  -5.5516993870748e+306, 4.65661286890991e-10, NaN, -2.67120456398375e+305,  1.39066109167247e-309, 0, 8.90931040158488e-310, 0, NaN, NaN,  0, -5.48612407015086e+303, -7.05154399823469e-279, 2.94031613646671e-306,  -2.2962031506993e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110763906e-156, -2.30331110816477e-156, NaN, NaN, NaN,  1.3854086120054e-309, NaN, 2.80614289249855e-312, 1.62587122733437e-319,  0, 0, 3.60739284464096e-313, 2.26527122355628e-318, 8.54602158179859e+194,  -2.29545296083695e-156, -2.30331110763906e-156, -2.30331110816477e-156,  NaN, NaN, 3.02610044756979e-306, 1.86165783044538e-130, -3.0149750772162e-305,  -3.97083461829064e-34, -1.26836459270827e-30, 3.65365169215277e-306,  2.8480945455619e-306, 6.9755102825313e-310, -3.01363922187462e-135,  -2.30331110816476e-156, -2.30331110816477e-156, -2.29449120144681e-156,  -2.30331110816477e-156, -1.84314079543842e+306, 7.1987099133561e-310,  8.6326563380475e+115, -2.82116926034698e-277, 3.23785921002061e-319,  -8.81442986644817e-280))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
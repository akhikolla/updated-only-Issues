testlist <- list(rates = c(7.00767890008367e-310, 7.37818343015736e-301,  NaN, -2.30331110816477e-156, -2.30331110816272e-156, -5.5516993870748e+306,  4.65661286890991e-10, -Inf, -Inf, 7.29112072943601e-304, -3.04032340824977e-288,  NaN, -Inf), thresholds = c(3.652068166337e-306, -8.06310497168394e+303,  -4.95400484445602e-33, -1.26836459270829e-30, 2.1788294981599e-321,  3.6634314009933e-305, NaN, 1.390671161567e-309, NaN, 1.5218165557294e-317,  -8.81442986651231e-280, -2.11866430635714e-289, 1.06243882805742e-314,  0, 1.93515632163099e-319, -9.77580117033241e-150, 4.53801546776678e+279,  -1.06597124722923e-314, -2.11852534546502e-289, -3.07840103521725e-288,  -9.77676971352519e-150, 1.39067124445746e-309, 0, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -1.26841746137343e-30,  -8.81442566349554e-280, -3.79844687780135e-33, 3.66343140688495e-305,  7.17065483396996e-310, -1.00198365631698e-291, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, NaN, -2.82126001799815e-277, -1.39408757479111e-309,  -1.24267801634966e-267, NaN, 4.65661287305794e-10), x = -Inf)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
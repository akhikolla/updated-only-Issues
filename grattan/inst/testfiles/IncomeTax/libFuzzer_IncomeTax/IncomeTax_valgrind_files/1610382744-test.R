testlist <- list(rates = c(4.81463757751044e-10, NaN, -1.46214999204744e+128,  2.14328157074589e-312, NaN, 1.36845553142777e-48, -7.45541777599514e+307,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -5.18931555224442e+245,  7.2911220195564e-304, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, -1.45115006268835e+128, -1.1818685957232e-125,  1.39781724570911e+181, -5.18931553596509e+245, 1.23596395333285e-279,  9.58542700017712e-307, -3.14666901810749e+53, -2.8363711018493e-124,  1.71272844748826e-260, 1.04291228582557e+40, -1.29209058968189e+241,  -5.18847371542227e+245, -1.18182171192008e-125, 7.29111854342396e-304,  -6.03473647566956e+304, NaN, 3.04689594342695e-05, 5.95750399973395e+228,  5.95750278984877e+228, Inf, 5.95750278984877e+228, 5.94417741721548e+228,  4.11558861514195e+51, 6.13636390603352e-92, 1.32963778288506e-105,  2.33598865781438e-310, 6.47561816356976e-308, 1.68048229123576e+117,  -5.17512497150785e+245, NaN, 5.95718343413698e+228, 5.95750278984877e+228,  9.53897477258812e-307, NaN, -8.52438965099017e+245, -5.49989589574762e+303,  NaN, -8.5243896509936e+245, -5.18892797390551e+245, -5.75028645430585e+243,  1.39113587822264e-308, 2.33590042682797e-310, 0), thresholds = c(-5.06400186529511e+245,  NaN, NA, NaN, -5.7502866102558e+243, -5.17495827120738e+245,  1.05487533745491e+40, 7.51065533929466e-308, 6.80571229283552e+38,  7.2911220098082e-304, NaN, 1.6524962482103e+40, -3.23461993025561e+244,  4.77830972979241e-299, 2.82755217285071e-110, NaN, NaN, NaN,  NaN, NaN, 1.20270737765667e-72, NaN, NaN, NaN, NaN, 2.57461749641602e-310,  -5.49989590899971e+303, -5.1884612128952e+245, -1.33065862692467e+307,  6.24338558373285e+144, 1.36845553155725e-48, NaN, NaN, NaN, -8.22918610319053e+304,  -4.08986561657492e+245, 4.77045810117188e-299, -5.17538999909498e+245,  6.80564992442599e+38, 1.51189165578349e-304, 1.42943185985413e-101,  1.63335743813925e+40, -5.49989589574741e+303, NaN, -8.5243896509936e+245,  -8.64067982270303e+245, -6.31001569488506e-256, NaN, 2.82755283377312e-110,  NaN, 3.23785921002061e-319, 5.54095540613061e-310, NaN, NaN,  -1.37153101719842e+305, 4.46014903970612e+43, -8.4070565483332e+304,  NA, NaN, 6.64032995703601e-07, 1.39113490711204e-308, 2.33589462449573e-310,  -1.12554546352376e-256, NaN, 2.14329443004937e-312, NaN, 1.36845553142777e-48,  0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
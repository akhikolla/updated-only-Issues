testlist <- list(rates = c(-1.02357023881679e+270, -3.3807305879321e+221,  -3.38084306397821e+221, -3.38084306397821e+221, NaN, 6.81576207291685e-28,  6.81576207296943e-28, -6.58334888261629e+304, 7.06819371078026e-28,  -5.37116380441611e+218, -3.38084306397821e+221, 2.41516312126952e+120,  -1.92767432614805e+304, 5.15204585931982e-169, 2.33003459345858e-315,  4.73812995909776e+43, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 3.13152202184476e-294,  1.39065019902192e-309), thresholds = NA_real_, x = c(-Inf, Inf,  NaN, NaN, NaN, NaN, NaN, NA, 2.12199579047121e-314, 1.39056506177745e-309,  0, 0, 0, 0, 0, 3.76147843988702e-315, 0, 0, 0, 0, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
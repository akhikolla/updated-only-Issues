testlist <- list(rates = c(NaN, -2.64494692448922e+154, -7.39330276535403e-287,  5.85318274554714e+170, 2.4187509198326e+24, 7.84460841921515e+168,  5.85363771868791e+170, 1.41497286004339e+190, 2.4187509198326e+24,  7.74565015452962e-304, 2.12198042552369e-314, 0, 0, 0, -5.48612407015086e+303,  2.96439387504748e-323, NaN, 3.80261645728329e-311, NaN, NaN,  2.84809454421703e-306, 3.78987813636309e-312, 3.65365169083783e-306,  -2.35343652661368e-185, -2.35343736826454e-185, -2.30174327470608e-286,  1.44838919828424e+147, 3.82819507210577e-303, 5.14265712180014e+25,  6.98396996593453e-310, -6.76385741726459e-231, -2.20207999320142e-289,  7.84460841922937e+168, 5.85363771868791e+170, -9.77579998268762e-150,  5.8536377186878e+170, 9.69630018960263e+192, 3.60253364836636e-306,  -2.65184177536707e+305, 1.39066109167247e-309, 0, 0, 0, 0), thresholds = -2.43593029637101e-306,      x = c(9.70418668394489e-101, 9.64395611395822e-101, 9.70418161697269e-101,      9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,      9.7041598162183e-101, -2.25943212098472e-110, -5.46354690059085e-108,      -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,      -5.35044484234063e-108, -5.46354690059085e-108, -5.46354690059085e-108,      -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,      NaN, Inf, 1.38540861198517e-309, NaN, NaN, NaN, 1.390671161567e-309,      NaN, NaN, NaN, NaN, NaN, NaN, NaN, Inf, NaN, NaN, NaN, NaN,      NaN, -8.81442989928447e-280, -8.18300487900495e-171, 9.70418706716128e-101,      -1.12583501772562e-305, -2.30331110816477e-156, -1.26841746136911e-30,      -8.81442566349554e-280, -3.79844687780135e-33, 1.09009353398286e+217,      -5.77778983314016e-33, 5.67865050383217e-270, 2.81197615182599e-312,      2.92371689850816e+48, NaN, 6.23700570774326e+291, 7.29023546669082e-304,      -6.98448328841344e-251, -3.65223816670614e+304, NaN, -2.67120427074901e+305,      NaN, 8.28904161186728e-317, 0, -2.18053517568976e-289, 7.84460841922937e+168,      5.85363771868791e+170, -9.77579998268762e-150, 5.8536377186878e+170,      9.69630018960263e+192, 3.60253364836636e-306, 0, 9.70418706714725e-101,      9.70418706716128e-101, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
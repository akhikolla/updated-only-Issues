testlist <- list(rates = c(-1.26836459270732e-30, NaN, 1.00891829346114e-309 ), thresholds = c(-2.30331110816477e-156, Inf, 1.48074143480854e-105,  9.70418706716128e-101, 9.70418706716128e-101, -2.30331110816474e-156,  9.70418706716142e-101, 8.02711540254363e-125, -1.54596619208108e-158,  NaN, 7.07039469279235e-304, 1.03174956156455e+113, 4.46108959690324e-140,  Inf, 5.39198933343013e+67, 7.08307515683401e-308, NaN, 6.11894886690324e-308,  -2.05226840435238e-289, 2.87903833578224e-306, -2.30331110816477e-156,  0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
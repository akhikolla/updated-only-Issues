testlist <- list(rates = c(-Inf, 2.7518336180954e-135, 5.8705864364286e+197,  2.77448104559133e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 1.81509523696993e+179, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 4.13661402318479e+193,  NA, NA, -1.34765550943381e+28, NaN, -2.02443040000394e+220, -3.38084306397821e+221,  -3.38084306397821e+221, -2.88021498839032e+304, 1.39065217965152e-309,  1.39067116131694e-309, 2.12197078482074e-314, NaN, 6.01193071810134e-310,  NaN, -7.21232445132047e+304, -7.21232445132069e+304, NaN, 1.9613105391578e-153,  -3.31483865929745e+221, -3.38084306397821e+221, 3.92907534730164e+117,  -1.34765551026013e+28, NaN, -1.7183331139941e-93, 1.39067116156659e-309,  3.1315130647925e-294, -6.13037135980293e-92, -3.38084306226197e+221,  -3.38084306396312e+221, 3.11941819105242e-143, -2.63376737821326e+305,  2.78144248133533e-307, -8.50285706298532e+304, 1.95750872702249e-305,  2.90457027633263e-144, -2.02442984453411e+220, -3.31601174254945e+221,  -Inf, NaN, 0), thresholds = c(-Inf, 4.17201348476424e-309, -Inf,  -3.38084306397151e+221, -3.38084306397821e+221, -1.68137181437122e+308,  -1.85156687320421e+304, NaN, 7.29043465588961e-304, NaN, 4.81148672254132e+173,  -3.38084205683093e+221, Inf, -1.34765550943382e+28, -1.34765550943381e+28,  -1.34765550943381e+28, -1.34765550943381e+28, -5.48612406879393e+303,  NaN, 4.756281455097e-91, 4.46015328454723e+43, 3.83698282132418e+117,  7.18609505983388e-304, 9.52262077882977e-307, 7.06683208934051e-304,  2.12435237088743e+183, -4.69526163440602e+305, -3.1597397188189e-96,  NaN, NaN, NaN, NaN, 8.6221612017154e-308, 4.16348356764151e+202,  -3.22583579311276e-264, 3.83698281196667e+117, -2.67120456620166e+305,  2.04218517852291e+280, -Inf, -7.13206648753426e+304, 2.95650875942016e-144,  3.9655857341685e-310, 1.23170580865923e+194, 2.77600674195731e+180,  2.77448001762441e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, NA, 2.15162051651561e-312,  3.96558573507921e-310, -5.70642425329479e+305, 4.49047989057169e-306,  3.83698281515951e+117, 1.31744879044881e-284, 1.33939372871051e-142,  7.27603497800276e-308, 2.12738328712367e-106, -2.48721736378895e+304,  7.29023199250634e-304, 1.33278671340845e-142, 3.84372534613508e+117,  1.52706140083726e-310, 1.10343781130194e-312, -1.02357023881679e+270,  -3.3807305879321e+221, -3.38084306397821e+221, -3.38084306397821e+221,  NaN, 1.91608710019963e+53, 1.91608710660622e+53, 5.87747177600647e-39,  1.25542034707734e+58, 3.83698292462809e+117, -3.38084306397821e+221,  -3.38084306397821e+221, -1.34770966294335e+28, NaN, -1.71833259367664e-93,  NaN, 1.06099789548264e-312, -1.02357023094459e+270, -3.3807305879321e+221,  -3.38084207473076e+221, 3.83698438948762e+117, 7.18520929158341e-304,  0), x = NaN)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
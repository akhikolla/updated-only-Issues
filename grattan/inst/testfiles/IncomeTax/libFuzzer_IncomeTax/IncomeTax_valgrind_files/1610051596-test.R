testlist <- list(rates = numeric(0), thresholds = c(-5.48612406879369e+303,  NaN, -4.25550648705951e+305, NaN, NaN, 1.390671161567e-309, 8.28904605845809e-317,  NaN, 7.2911220195564e-304, NaN, NaN, NaN, NaN, NaN, -8.5970259569188e-171,  1.41497286004344e+190, 1.8487055376056e-272, 3.0909330954486e+284,  0, 4.94065645841247e-324, NaN, NaN, NaN, 7.19929512000783e-310,  NaN, NaN, 1.08646184497373e-311, NaN, NaN, 2.81201880367822e-312,  2.71615461243555e-312, 7.1420641308985e-304, NaN, 2.71623750252558e-312,  6.95335580784256e-310, 2.71984339982699e-312, -4.52623862326188e+304,  7.29112639256615e-304, 2.72125383818099e-312, 1.28823036902948e-231,  1.24358875393136e-13, 7.2903536873204e-304, 1.09614956738224e-314,  -2.8213831420555e-277, 6.52166652510445e-322, 0), x = c(NaN,  4.00791842552789e-306, -1.77581404481234e-187, 6.65988378995207e-310,  2.22507386265735e-308, NaN, 2.94024551642532e-306, 3.83698199955456e+117,  7.29069965756742e-304, 0, NaN, 2.94024551642532e-306, 3.83698199955456e+117,  7.29069965756742e-304, 0, 0, 0, 2.3641409746639e-308, 1.48456814906984e-313,  3.9191047797502e+202, -2.18028465462708e-289, 534.645996093779,  -1.24281111519981e-267, 2.47229315721747e-94, -9.37438000465967e-287,  -2.25803282008749e-156, -2.30331110816477e-156, -1.84314079543842e+306,  7.1987099133561e-310, NaN, 3.78576699573368e-270, 7.29112072938316e-304,  -3.04032340824977e-288, 1.2105798403029e-305, 7.19919234034436e-310,  0, 0, -8.81442986644817e-280, -2.3033111077411e-156, -2.30331110816477e-156,  -1.12583501772562e-305, -2.30331110816477e-156, -6.36358120662016e+305,  -6.64678428260241e-287, NaN, 5.85363771868791e+170, 5.85318274554714e+170,  5.39907627431893e-310, 1.08601191821704e-306, -2.82475658649829e-277,  3.41641322410626e-312, 7.19919233908099e-310, -2.97619001462835e-288,  2.94004452098408e-306, 1.47812115956268e+282, -1.25152205320375e+306,  2.60187727435827e-259, -2.8217180072897e-277, 6.98327511958953e-310,  7.10656579635189e-15, 2.81218450810321e-312, 9.23492568236041e-311,  5.79909433230408e-316, 1.44804023176556e+190, -1.75590191507535e+306,  2.29775642758296e+189, 4.36428616530596e-306, 3.90913259233617e+304,  3.65784678046935e-306))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
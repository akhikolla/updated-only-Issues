testlist <- list(rates = c(3.56159180157686e-314, 8.11695649353667e-308,  2.90435521009177e-144, 1.27732942583614e+194, NaN, 6.81576207291685e-28,  NaN, NaN, 1.36257052583702e-105, -2.87980148639721e+304, -2.88021513611667e+304,  NaN, -1.71819990763859e-93, NaN, 1.39065217937453e-309, 1.39064994160909e-309,  NaN, -5.48636997164788e+303, -5.486124068794e+303, 2.84136877649549e-173,  NaN, -1.7183325936647e-93, 1.80331613628201e-130, 2.12196682636678e-314,  -1.00684145547149e+307, NaN, NaN, 1.74261312604737e-142, 7.24307897083599e-313,  4.46015025262667e+43, 7.15604264128451e-304, -1.56500819821427e-209,  8.58517889263655e-312, -1.5648359955067e-209, NaN, 2.7744800176243e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.15162051651561e-312,  2.77448001762434e+180, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, -1.72227260337231e-93, 1.39124676429592e-316,  1.39065209773244e-309, 1.39067107899907e-309, NaN, -5.82900678221848e+303,  NaN, 2.77448001762442e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.90435604891356e-144, 2.12196670038005e-314, -3.35204919617239e+221,  -3.38058981662888e+221, 1.9722078523203e-314, NaN, 1.23387897093268e-178,  3.23785921002061e-319, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(5.67167035009198e-310,  2.44982437767255e+203, -1.565008398417e-209, 2.72362611782637e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.50163229279291e+50,  2.95941249538295e-144, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
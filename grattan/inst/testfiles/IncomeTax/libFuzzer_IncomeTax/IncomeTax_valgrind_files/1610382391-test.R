testlist <- list(rates = c(-8.5243896509936e+245, NaN, NaN, 1.5490569264511e-312,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = Inf, x = c(1.23971598178855e+224,  8.90389806695633e+252, -9.32461492462113e+304, -5.17512496883702e+245,  NaN, NaN, NaN, NaN, 1.39065593335898e-309, NaN, 9.79032497743128e-307,  -3.14666901810749e+53, NaN, 4.77830972972643e-299, 2.82755217285071e-110,  NaN, 8.28904556439245e-317, NaN, NaN, NaN, -2.88665259471098e-63,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -7.31781923598515e+241,  7.29112201886404e-304, -6.03473647566956e+304, NaN, 4.77947283820032e-299,  NaN, NaN, NaN, NaN, NaN, NaN, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = numeric(0), thresholds = c(NaN, NaN, 1.39785663411574e-304,  1.0429122855008e+40, -8.7398998774007e+245, NaN, -5.17495848366862e+245,  NaN, 4.46014744463253e+43, 5.95745073761192e+228, -8.5233227686842e+245,  3.10503470425215e+231, -3.41198191497305e+306, NaN, 8.73189439513484e-308,  5.32511829734552e+178, 3.9419405716798e-259, -1.29287442728532e+164,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -5.17453735279954e+245,  -1.29209058969158e+241, -5.18847371542227e+245, -5.18925946911527e+245,  -8.46891178714298e+245, 4.73878840674895e-10, -8.91608454487772e+303,  NaN, NaN, -3.10503491799727e+231, 5.56268857482253e-309, -6.03473646393718e+304,  -6.17134535844025e-38, -6.17473459648367e-256, -5.06443593198239e+245,  -8.73989987746104e+245, -1.12022642773623e+243, -8.73989987741634e+245,  NaN, 7.56881123708566e-304, NaN, -1.46215003400902e+128, NaN,  -5.54237304891436e+303, -8.52545653330287e+245, -8.72554259640141e+245,  -6.17189479381467e+303, 2.70150264931866e-307, 1.71193373937516e-260,  3.94212982853171e-259, 2.82820116936561e-110, 5.43230890108024e-312,  0, 0, 0, 0, 0, 0, 1.6525917826537e+40, NaN, 8.28904556439245e-317,  0), x = c(4.18634103082863e-149, 1.36831010172268e-48, 1.8292213616796e-260,  2.00727256679093e+42, NaN, -5.49953241650381e+303, NaN, Inf,  -1.29499475563148e+116, NaN, NaN, NaN, 1.09366830293346e-302,  9.79032497743166e-307, NaN, NaN, 4.39827725298861e-149, 4.18634103082863e-149,  NaN, NaN, 2.78348636811127e-309, -1.93372419349018e+242, -Inf,  -1.18297538621888e-125, 3.64694784736045e-315, 1.04294967003054e+40,  -5.1754427937987e+245, -2.75842493979136e-258, NaN, NaN, 2.78923583711486e+228,  2.08809742756317e-53, 8.83798409398953e-280, -5.18931554308705e+245,  NaN, NaN, 1.03265897329382e-255, 2.00727256679093e+42, -7.95487989975079e+304,  NaN, Inf, 5.95727185328328e+228, NaN, NaN, -2.88021513611669e+304,  8.73189386359976e-308, NaN, 1.31977420435937e-309, 4.64733658125295e-299,  1.65257101343723e+40, NaN, 3.64556100396923e-304, -1.18297538621888e-125,  NaN, NaN, NaN, NaN, NaN, 1.36845553155729e-48, NaN, NaN, 3.04689601761448e-05,  -6.3087860496203e-256, -5.06443593198239e+245, 1.3684555315667e-48,  -5.17538999909499e+245, NaN, NA, 3.56459708432476e-315, 1.04294967003054e+40,  5.43443122066157e-311, -8.739899877442e+245, NaN, NaN, NaN, NaN,  1.80331613628628e-130, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
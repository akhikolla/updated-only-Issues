testlist <- list(rates = c(-2.05226840465102e-289, 2.87903833578224e-306,  2.80103962472795e-312, 3.24665356080927e-312, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 3.94108684980331e-312, 2.71598149214445e-306,  -1.26836459270255e-30, 3.66148293307183e-314, -1.2341419504043e-30,  -2.24767481577173e-289, 7.54951658409808e-15, -3.1315127781037e-294,  3.56047671159453e-306, -8.02506476812756e+304, 1.390652843099e-309,  4.28183424758689e-317, -7.39330388852429e-287, 0, 0, 2.3641409746639e-308,  1.48456814906984e-313, 2.84844220667961e-306, -2.05226840465102e-289,  2.87903833578224e-306, 2.80103962472795e-312, 3.24665356080927e-312,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4.53801546776667e+279, -1.06597124722923e-314,  -2.11852534546502e-289, -3.07840103521725e-288, -6.64630829265655e-287,  0, 0), thresholds = c(-1.2341419504043e-30, -1.80650535611164e+307,  -9.7757963632732e-150, 2.73729184714066e-312, -1.26418156348547e-30,  3.94108708470682e-312, 3.66302783956748e-305, 3.652068166337e-306,  -9.11378520770331e-306, 2.40060263696258e-300, 5.67865049360052e-270,  -1.26836459270826e-30, 2.8435571614667e-312, -7.06373421489677e-304,  2.64121166339307e-301, -1.26836459270829e-30, 0, 3.94108708470682e-312,  2.71598149214445e-306, -1.26836459270255e-30, 3.66148293307183e-314,  -1.2341419504043e-30, -2.24767481577173e-289, 7.54951658409808e-15,  -3.1315127781037e-294, 3.56047671159453e-306, -8.02506476812756e+304,  1.390652843099e-309, 4.28183424758689e-317, -7.39330388852429e-287,  0, 0, 2.3641409746639e-308), x = c(-2.6064446869563e+304, -5.66324542991478e+303,  2.84809454421703e-306, 3.78987813636309e-312, 3.65365169083783e-306,  2.8480945455619e-306, -5.48612677708818e+303))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(0, 1.72759795267618e-260, 4.89613425871169e-299,  1.42943178999697e-101, 5.43655321645303e-311, 1.51172411644936e-304,  NaN, 8.37149626369062e+298, 3.48333079838242e-307, 6.8089704084083e+38,  -8.53292470946426e+245, NaN, NaN, -1.99700494896339e+242, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN), thresholds = 6.80897040840823e+38, x = c(5.43818615865253e-311,  NaN, 3.05162830045447e-05, NaN, 4.85063765717048e-299, -Inf,  -1.53095600232164e+256, 2.23743236237318e-310, NaN, 2.36422584620654e-308,  5.84500265952282e+199, 5.95750278984756e+228, NaN, NaN, NaN,  3.24260049547299e+178, NaN, -6.0347364756092e+304, -Inf, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
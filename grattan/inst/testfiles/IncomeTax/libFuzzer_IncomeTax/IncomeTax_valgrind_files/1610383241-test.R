testlist <- list(rates = c(-Inf, NaN, 6.55651547276648e-07, -5.48612405857659e+303,  NaN, NaN, -9.00181948337867e+241, 5.02982669403682e-10, -1.29287484775418e+164,  -1.29211778498328e+294, NaN, 1.390671161567e-309, NaN, NaN, NaN,  NaN, -1.99700494896339e+242, NaN, -7.30312836037816e+307, NaN,  NaN, NaN, NaN, NaN, NaN, -5.17453735279954e+245, -1.29209058969158e+241,  -5.18847788293129e+245, -5.18925946911527e+245, -8.46891178714298e+245,  4.73878840674895e-10, 1.18495789628904e-303, 1.42991672770676e-308,  7.00659668223032e-308, -6.03473647567281e+304, NaN, NaN, 5.10961083395558e-95,  -6.8983169458176e+305, -5.17544277751961e+245, 5.95792084061793e+228,  NaN, NaN, 6.60774410574939e-304, 3.20876125492599e-294, -3.07268513826713e+54,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -5.7502866102558e+243,  4.96474335111844e-14, 4.77072469916124e-299, 7.27118756337024e-240,  1.39631574048471e-309, 1.82941345362256e+248, 1.75261887564955e+243,  1.23971598178855e+224, 8.90389806695633e+252, 1.42991673128175e-308,  7.42022340955951e-68, NaN, NaN, 7.29112184298707e-304, NaN, -6.17473461383181e-256,  -5.06443593198239e+245, -8.73989987746104e+245, -1.12022642773623e+243,  -8.73989987741634e+245, NaN, 7.56881123708566e-304, NaN, -1.46215003400902e+128,  NaN, -5.54237304891436e+303, -7.95487989975085e+304, NaN, NaN,  3.24195556454397e+178, 2.78105030004137e-309, 1.28683596660321e-167,  3.811166663352e+40, NaN, 5.43230922486616e-312, 0), thresholds = numeric(0),      x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
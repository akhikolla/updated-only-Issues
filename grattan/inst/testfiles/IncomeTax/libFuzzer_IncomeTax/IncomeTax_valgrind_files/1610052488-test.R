testlist <- list(rates = c(2.81199605989981e-312, -5.96890832411666e+306,  1.390652843099e-309, -5.16216864106284e-306, -8.81442986644817e-280,  -1.85907762421774e-183, -3.07800257785878e-288, NA, NaN, -5.96890832411666e+306,  -5.82900230650667e+303, NaN, NaN, NaN, 3.94108717358923e-312,  -1.26822486837899e-30, 2.81199605989981e-312, 0), thresholds = c(5.41494177254505e-312,  NaN, 1.8507078392869e-272, 7.00767807117911e-310, 2.00877667922349e-139,  0), x = c(0, -8.24519868127501e-157, -2.30331109514079e-156,  -9.8926458820812e-147, -2.30327665540415e-156, -2.30331110816477e-156,  NaN, 2.81199605989981e-312, NaN, -8.22918610319053e+303, -5.8290068155091e+303,  7.95923289723679e-310, 4.4610895907977e-140, 3.60297094497336e-306,  -6.953355807835e-310, 1.11073217183338e-314, -7.92737104019607e-308,  0, 8.31143311405278e-310, 0, -2.95841658691758e-188, 1.94693962620681e-307,  1.0451773909944e-308, 1.11604253465019e-314, 3.60446694374285e-305,  -9.77941371393343e-150, 2.33246235504083e-12, 7.19919234231015e-310,  9.70418706716128e-101, 9.70418696071228e-101, 7.55652533908718e-308,  9.70418706357123e-101, 9.70418706716095e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706715965e-101,  5.41696352383362e-307, -8.81442986651231e-280, 1.90709339294721e-321,  3.65190247027494e-306, 2.71984340047916e-312, 0, 4.95400018337535e-317,  0, 2.95489645946111e-306, 7.10542909137157e-15, -5.69758256091615e-306,  7.29111937478047e-304, -3.04032340824977e-288, 2.72784216611317e-312,  2.64868533186271e-305, -2.82149851225675e-277, 3.41641322410626e-312,  7.19870908769578e-310, 2.9548978549633e-306, 2.39957410182667e-309,  5.68604456976406e-270, -1.26836459270829e-30, 1.11076451584089e-314,  3.02540651506046e-306, 7.31409635508346e-310, 1.16347433520585e+76,  2.33385326930198e-301, -2.97619001462835e-288, -2.9718420926367e-147,  7.52609340439459e-304, NaN, -9.77818300079457e-150, -9.77579636327222e-150,  3.65365168861588e-306, 9.73469821385947e-309, -3.02879630252661e-288,  0, 0, 0, 9.72926582174422e-309, 2.84809453888922e-306, 2.84347436052587e-312,  2.47222686857108e-94, 3.91126264191351e-310, -2.11940804072445e-289 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
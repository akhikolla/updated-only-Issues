testlist <- list(rates = numeric(0), thresholds = c(NaN, NaN, NaN, NaN, 4.65661287307739e-10,  -4.28076304470408e+221, NaN, NaN, 2.16443570677964e-312, -1.45094702117037e+128,  2.78132881200157e-309, 6.8089704084083e+38, NaN, NaN, 0, -4.57671320724439e-246,  NaN, NaN, NaN, -1.3323138021754e+305, 7.23066945774505e-308,  -5.54371769730056e+303, 2.12455197126707e+183, 3.94213052632413e-259,  -3.18196870780537e+305, -4.28076303124122e+221, 2.39021605894259e-310,  -1.12554546352376e-256, NaN, 4.31753057173121e-304, 7.29023212965317e-304,  NaN, NaN, -6.3100801632785e-256, -5.06443593198239e+245, -8.73989987746104e+245,  -1.12022642773623e+243, -3.56598064469182e+304, -1.37153101719842e+305,  3.23785921002061e-319, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0), x = NA_real_)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
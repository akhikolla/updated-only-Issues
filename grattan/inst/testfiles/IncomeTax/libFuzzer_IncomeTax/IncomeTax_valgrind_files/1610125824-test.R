testlist <- list(rates = numeric(0), thresholds = c(5.43223475676734e-312,  5.16828234876896e+120, 2.85351632101249e-173, 2.84132113906601e-173,  2.84132114440832e-173, 1.36257052583702e-105, -2.87980148639721e+304,  -2.88021513611667e+304, 6.31088725681422e-28, 3.11941819105243e-143,  8.37203947772377e+115, NaN, 2.12199579047121e-314, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0), x = c(1.61013452731574e-24, NaN,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77447979814893e+180, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, 2.12455197126707e+183, -4.69526163440602e+305, -1.56500888530369e-209,  -1.56500839841835e-209, -1.56500839841835e-209, -1.56500839841835e-209,  7.29032584867621e-304, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 4.46015072443745e+43, 4.23352053470512e+175,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
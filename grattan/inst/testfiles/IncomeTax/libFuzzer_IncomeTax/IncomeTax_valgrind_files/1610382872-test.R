testlist <- list(rates = c(5.95792084061793e+228, 5.95760689429934e+228,  -5.48746344301155e+303, NaN, -8.5243896509936e+245, 1.82961824935451e-260,  -9.01171516728222e+303, NaN, NaN, NaN, NaN, NaN, -8.53292470946769e+245,  NaN, 2.78105668265994e-309, NaN, -2.83637103419045e-124, 1.71272844748826e-260,  7.50963276040374e-308, 1.65249625247277e+40, NaN, 1.390671161567e-309,  NaN, NaN, -9.00181948337867e+241, NaN, NaN, 7.29048330221851e-304,  9.34561095207492e-307, 1.08729903862711e-311, 2.33589462432972e-310,  -1.12554548901531e-256, 4.77793833555639e-299, 5.23868948222345e-10,  1.02096057434023e+40, 1.36845553155725e-48, 3.94171798504617e-259,  NaN, 1.3684555315672e-48, -4.19867256722788e-140, NaN, NaN, -9.00181948337867e+241,  NaN, NaN, 7.29048330221851e-304, 9.34561095207492e-307, 1.08729903862711e-311,  2.33589462432972e-310, -1.12554548901531e-256, 4.77793833555639e-299,  5.23868948222345e-10, 1.02096057434023e+40, 1.36845553155725e-48,  3.94171798504617e-259, NaN, 1.3684555315672e-48, -4.19867256722788e-140,  -5.17538999909499e+245, NaN, 4.22492486917067e-304, NaN, -1.37153101719842e+305,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 2.82820116936576e-110,  NaN, NaN, NaN, NaN, 2.05236116102037e-289, NaN, -5.17544274496094e+245,  -1.4509988461317e+128, NaN, -5.17539189176135e+245, 9.58542700017712e-307,  -3.14666901810749e+53, -2.8363711018493e-124, 1.71272844748826e-260,  NaN, -6.31008200917246e-256, 2.14321575007056e-312, 2.18187977605904e-313,  1.39065508144753e-309, 4.460149039706e+43, -6.25613929180512e+269,  NaN), thresholds = c(NA, NaN, NaN, NA, -4.28076304470408e+221,  4.87705561876137e-153, 7.0055059783365e-308, -5.4861241097e+303,  0), x = c(NaN, -5.18846954791307e+245))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-2.24767481577173e-289, NaN, -7.36331510668791e+303,  NaN, 7.1987099133561e-310, NaN, NaN, NaN, 2.21650109394514e-301,  -2.05226840064919e-289, NaN), thresholds = c(-2.35343736622667e-185,  -3.55455592789981e-147, -1.36573625663878e-151, -8.81442986657624e-280,  5.41696412505757e-307, -2.82116798318132e-277, 6.51171632684634e+286,  1.86165783044538e-130, NaN, -6.5692049514092e-287, 7.29109419979547e-304,  0, 0, -Inf, 6.51171632684634e+286, 9.70418706716128e-101, 3.31442972709309e-99,  9.70418706716128e-101, 9.70418706716128e-101, NaN, 9.70418706716128e-101,  3.91612999628465e-306, -8.98798625795533e+307, -6.69969684636837e-287,  NaN, 0), x = 8.81950571114775e-312)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
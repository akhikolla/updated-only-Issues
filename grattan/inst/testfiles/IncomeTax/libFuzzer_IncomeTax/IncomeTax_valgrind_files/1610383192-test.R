testlist <- list(rates = c(0, 0, 0, 2.12199579047121e-314, NaN, NaN, NaN,  -8.73989987746428e+245, NaN, 5.14674736242857e-312, 5.5019110818446e-310,  NaN, 6.85453414910053e-07, -1.56500839580408e-209, -1.56500840031282e-209,  -2.92901966364515e+54, 7.29112201954863e-304, NaN, -2.35215821444862e+306,  -8.40705653199343e+304, NaN, 6.80564992442599e+38, 1.51189165578349e-304,  -5.17495847330328e+245, 9.1246110346702e-313, 3.92660069275906e-310,  NaN, 5.43230922486616e-312, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, -5.18931555224442e+245, NaN, NaN, -5.1882486699603e+245,  2.64818487196165e+43, 3.94235123396369e-259, NaN, 1.3911337752202e-308,  1.70141080425748e+40, 5.43265613443585e-311, 1.15046858148047e+228,  -5.18931140810103e+245, NaN, -5.82900682309329e+303, -8.52438965099359e+245,  -8.72554259640141e+245, -6.17189479381467e+303, NaN, NaN, NaN,  -6.3100779998114e-256, -5.75032878056942e+243, -1.13562063540755e-256,  3.62557269002042e+53, 5.45435836126695e-312, NaN, 1.31977521678509e-309,  1.39064994493837e-309, NaN, NaN, -5.06443593278922e+245, -5.17538999909498e+245,  3.13667399520326e+151, 3.5644358163573e-315, 1.67290190041334e+262,  4.87620583420803e-153, 7.01093828756137e-308, -5.4861241097e+303,  5.95750278497579e+228, 1.14737330167402e+195, 5.95750278953851e+228 ), thresholds = Inf, x = c(2.14321575007056e-312, 2.02853472869499e-317,  1.39065508144753e-309, 4.460149039706e+43, 4.5593113112108e+169,  -5.32422064141857e+305, NaN, NaN, NaN, NaN, NaN, -5.77615416653796e+303,  NaN, NaN, -6.03473229009266e+304, -8.66760300771106e+241, 3.9417192163691e-259,  NaN, NaN, NaN, -6.3100801632785e-256, -5.06443593198239e+245,  2.82755217996341e-110))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
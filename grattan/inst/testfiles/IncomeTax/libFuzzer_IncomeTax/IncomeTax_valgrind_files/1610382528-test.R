testlist <- list(rates = 3.63054263558128e+228, thresholds = c(NaN, NaN,  NaN, NaN, NaN, NaN, -4.65383402028335e+129, -3.2346199403792e+244,  NaN, NaN, -8.53292470946769e+245, NaN, NaN, NaN, -8.53292470946753e+245,  NaN, 9.34849387329773e-97, 5.43230922486616e-312, -1.4433316564099e+128,  3.44363373742016e+178, 1.04291229360581e+40, 4.86173068579365e-63,  NaN, 9.75584653612141e-259, -6.03473647567281e+304, 4.45998517039374e+43,  -2.83637103417778e-124, 1.71272844748826e-260, -3.14666901810749e+53,  7.23040374413963e-308, NaN, -8.73989964949029e+245, NaN, 2.78348636811127e-309,  -1.93372419349018e+242, 3.56429232981243e-315, 1.04294967003054e+40,  8.29655182101368e-114), x = c(-4.65373580032827e+129, -2.21813560182797e+130,  NaN, NaN, NaN, NaN, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
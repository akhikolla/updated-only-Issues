testlist <- list(rates = c(Inf, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, -5.18931555224442e+245, -Inf, 7.50963275957326e-308, NaN,  1.04294967003024e+40, -5.18847310563366e+245, -5.75028645430585e+243,  NaN, -5.17495827121042e+245, NaN, -5.66347311684925e+243, 4.77830972972668e-299,  -1.33009567995099e+305, 6.80571226748251e+38, NaN, NaN, 1.390671161567e-309,  6.21370296905965e-313, 0, 6.80564989907298e+38, -5.17512497157144e+245,  3.39850888396782e-315, 0, 0, 1.45438725203291e+135, -3.45507950618034e+304,  1.390671161567e-309, 1.09000805643622e-305, 1.08729904423278e-311,  NaN, 6.64032995703574e-07, 1.39113490711204e-308, -1.1255454651159e-256,  2.28135770725662e-310, 0, NaN, 0, 0, 1.9156377091253e+53, NaN,  1.390671161567e-309, 0), thresholds = numeric(0), x = c(3.94213052632413e-259,  NaN, NaN, NaN, NaN, -2.8866224505485e-63, 7.23148982346426e-308,  -5.54371769730056e+303, 2.12455197126707e+183, 3.94213052632413e-259,  -3.18196870780537e+305, 3.56429232981243e-315, 1.13203791517163e-72,  NaN, 8.28904556439245e-317, 9.79032495090674e-307, -8.7398998701513e+245,  -8.50343441154999e+304, 4.46014903970612e+43, NaN, 6.55651547271668e-07,  2.78105668265994e-309, NaN, -2.83637103419045e-124, 1.71272844748826e-260,  2.92041368326167e-308, -3.14666784575731e+53, -5.49989589581548e+303,  -5.18847371542227e+245, NaN, NaN, NaN, -5.18892797390551e+245,  -5.75028645430585e+243, NaN, NaN, NaN, 8.73189386463589e-308,  1.42991672770726e-308, -8.52118900406582e+245, -4.78904768543923e+54,  -5.50000973208021e+303, -5.18847371542227e+245, -7.02630600428121e-260,  1.04294967003024e+40, -3.45507950830426e+304, NaN, 3.23785921002061e-319,  NaN, NaN, NaN, -3.23465380139002e+244, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, 6.99830926169978e-126, NaN, 1.36845553142777e-48,  -5.7502851316102e+243, 1.38653691272916e-309, 1.70114806571822e+40,  -3.31521377423868e+118, 6.55651094312864e-07, 7.29112200597775e-304,  NaN, -5.06443593276214e+245, NaN, NaN, 5.96811443183854e-315,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
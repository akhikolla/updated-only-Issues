testlist <- list(rates = c(1.57027688594671e-312, 3.78576699573368e-270,  -1.26836459270033e-30, 7.27950633336389e-310, -5.66324542991447e+303,  -3.01398036400076e-135, 5.68604456976417e-270, -8.81443174834308e-280,  3.41641371420455e-312, NaN, 3.56048348188083e-306, -5.48612677708818e+303,  NaN, 2.80614289249855e-312, -2.2308331518689e-289, 1.39067116173462e-309,  0, 0, 0, 9.72926582174422e-309, 2.84809453888922e-306, 2.84347436052587e-312,  2.47222686857108e-94, 6.32404026676796e-322, -5.48612677708818e+303,  9.10138324582566e-306, 4.14452302922905e-317, 0, NA, 8.28904605845809e-317,  -5.69758254997445e-306, 7.29111937478047e-304, -3.04032340824977e-288,  2.72784216611317e-312, 2.64868533186271e-305, -2.82149851225675e-277,  3.41641322410626e-312, 7.19870908769578e-310, 2.9548978549633e-306,  2.39957410182667e-309, 5.68604456976406e-270, NaN, 1.11076451584089e-314,  0), thresholds = numeric(0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
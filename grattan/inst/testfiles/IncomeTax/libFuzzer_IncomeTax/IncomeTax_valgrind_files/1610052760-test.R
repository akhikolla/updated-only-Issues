testlist <- list(rates = c(-9.77719780333789e-292, 2.12131683540626e-309,  4.36707825033567e-306, -6.36390391980068e+305, 3.65207087186091e-306,  NaN, NaN, 1.39067049844331e-309, 0, 0, 0, 9.70418614810987e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, NA, NaN, NaN, -9.77719780333789e-292,  -5.46354689758385e-108, -5.46310509567581e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, NaN, -9.7781740006482e-150, NaN,  3.42882753485303e+304, NaN, NaN, 5.43230922486616e-312, -5.82900682309298e+303,  NaN, NaN, NaN, 1.00891829368621e-309, 2.67904644895999e+301,  -1.26836459117002e-30, 5.67865050383217e-270, -2.08934551532475e-289,  3.24665388331556e-312, 0, -2.29844981641981e-185, 3.55816254229689e-310,  4.08272418357189e-311, 3.60289283426669e-306, 3.56117344641329e-306,  -9.77818300088349e-150, 2.94613684519112e-306, -2.8211692616491e-277,  -9.77719387587134e-292, 7.18032555749451e-304, -3.13227758653431e-294,  -9.77719780333789e-292, -9.77719780333789e-292, NaN, 7.19929512000783e-310,  NaN, NaN, 1.08646184497373e-311, 8.97712454626148e-308, 2.12131683540752e-309,  4.36707825033567e-306, -6.36390391980068e+305, 3.65207087186091e-306,  NaN, NaN, 0), thresholds = c(-5.46354690059085e-108, -3.2612252457407e-294,  Inf), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = NaN, thresholds = c(NaN, NaN, 2.77448001762435e+180,  2.77448001762435e+180, 2.51252739625984e+179, 1.01145361746601e-123,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.74034205346322e+180,  1.33266580634705e-142, -1.45665085897931e+144, 7.26857606333092e-308,  -3.38050603471505e+221, -3.38084306397821e+221, -3.38084306397821e+221,  1.23387896896657e-178, NaN, 3.23785921002061e-319, 4.73812995909776e+43,  -2.70494424383608e-11, -2.70494424244937e-11, -2.70494424244937e-11,  -2.70494424244937e-11, 1.39125086504079e-316, 1.39065209773244e-309,  1.0914992111287e-172, 2.84132113906601e-173, -2.04415994792938e+307,  7.29032584869847e-304, 1.26217975946955e-27, -2.70494424383608e-11,  -2.08849643609004e+307, -1.85133771268567e+304, 4.17201348470226e-309,  6.3108910935826e-28, NaN, NaN, NaN, -5.48612406879369e+303, NaN,  NaN, 2.11370674490681e-314, -5.48745941505172e+303, 2.84132113906602e-173,  NaN, 1.2338789709237e-178, 4.73812995909776e+43, -2.70494424383608e-11,  -2.70494424244937e-11, -2.70494424244937e-11, 3.83722666337214e+117,  -1.57520780846576e-260, 7.88221939608748e+115, 2.12199579047121e-314,  7.97859330059203e-29, -2.70494424244939e-11, -2.70494424244937e-11,  -2.70494424244937e-11, -6.08673445283698e-92, 2.11954162065895e-321,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.76009647643194e+180, -Inf, -4.7367525011088e+226, 2.77448001764258e+180,  9.52157095844336e-307, -6.51477233752036e+303, 0), x = NA_real_)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
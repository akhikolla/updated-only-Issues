testlist <- list(rates = c(9.70418706716122e-101, 2.81218450766349e-312,  5.85363771866079e+170, 8.62805110310557e-307, 5.85363594144907e+170,  -2.10901416965392e-312, 5.67154552225164e-310, 8.44260302692322e-227,  3.8004944616188e-311, NaN, 7.17719822995867e-304, 6.52166652510445e-322,  0, 0, 9.70395179000027e-101, 2.56647495437413e-301, -1.26836452888033e-30,  6.01362129181413e-317, -1.26836459057627e-30, 4.00791842552789e-306,  -1.26826829408472e-30), thresholds = c(-2.30331110545783e-156,  -2.30331110816477e-156, -7.39330504553435e-287, -2.25739033689687e-277,  -2.11940804072442e-289, 2.72810281967378e-312, -2.83427023367766e+306,  534.645996101197, -1.48508911181252e-267, NaN, -2.60644468696874e+304,  1.33453654139849e-314, 5.59610256518376e-275, -5.48612406879369e+303,  NaN, -4.57616264227797e-246), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
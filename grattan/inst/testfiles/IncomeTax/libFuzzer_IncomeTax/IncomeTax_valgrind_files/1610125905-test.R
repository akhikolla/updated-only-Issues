testlist <- list(rates = c(2.78351413506459e-307, 2.90457027633263e-144,  1.36258222479578e-105, 1.39141082068133e-101, NaN, -1.68423228495932e-93,  NaN, 7.29032584869847e-304, 7.29023199001299e-304, NaN, 2.55318533568937e-310,  1.23185827059543e+194, 1.20083376848553e-178, -1.00679627773539e+307,  -1.85133771268567e+304, -5.486124068794e+303, NaN, 2.63554948580763e-82,  -1.56500888528598e-209, 4.80173281363225e-301, -2.37636445786895e-212,  1.20082999144929e-178, 2.77448001459322e+180, 2.77448001762435e+180,  2.77448001762435e+180, 9.52157095844336e-307, 2.77448001676702e+180,  NaN, NaN, NaN, 2.22809558051354e-312, 4.14452302922905e-315,  NaN, -3.38084262461866e+221, -3.38084306011397e+221, -3.38084306397821e+221,  NaN, 1.23168074914076e+194, -5.35618020325774e+305, 3.78320585132875e+117,  3.83698281517203e+117, 4.75585522139022e-91, 5.04350075164834e-308,  1.30460985732647e-187, 8.45903516046689e+298, 8.62216118734781e-308,  -5.48612408923078e+303, NaN, 5.41696412298759e-307, 2.774480017621e+180,  NaN, NaN, NaN, NaN, -3.54326091297505e-99, 2.90455893959195e-144,  3.83677035965387e+117, 5.41696412298537e-307, 1.38623610747342e-309,  3.04818740858215e-319, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(1.38745413269646e-309,  NaN, 1.23170587986056e+194, -5.31725232956651e+305, 6.9835057255443e-251,  -6.58334888255243e+304, 2.62525437062869e-82, -2.88021513611669e+304,  8.28893242335955e-317, 3.53443687095329e-111, 4.50605740111045e+43,  -1.56500839841834e-209, -1.56500839841835e-209, NaN, 2.7744800176243e+180,  2.77448001762435e+180, 2.77448001762435e+180, 1.89100213944103e-307,  NaN, 5.70392468611959e-310, 3.83698281517198e+117, 7.12855376056394e-304,  1.39065475744336e-309, 1.01789465122828e-293, 3.23785921002061e-319,  5.4322273057831e-312, 0, 2.72362611779663e+180, 2.74256845990468e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 8.40476764068988e-315, 1.24936746184687e-309,  5.16576046638286e+120, 1.25197719695963e-312, 4.46059314155594e+43,  4.5060574011485e+43, 4.46014905202093e+43, -2.74306263116906e+304,  9.12404584912149e+194), x = c(-3.38084306397815e+221, -1.68137181437122e+308,  1.3906501987003e-309, NaN, NaN, NaN, 1.66880379409451e-308, NaN,  -5.48612406879369e+303, 7.2903258603164e-304, 7.29024321160419e-304,  0, NaN, -5.4861292803319e+303, 1.0567763617903e-293, NaN, NaN,  NaN, NaN, 5.87747175411145e-39, NaN, NaN, NaN, NaN, 5.67424280049957e-299,  5.37794075126812e-299, 5.37794075126812e-299, 5.37794075126812e-299,  NaN, NaN, NaN, NaN, -7.2911220195564e-304, 2.33412480329989e-309,  8.94686740005785e-135, 5.43226008327886e-312, 5.16828234876896e+120,  4.54591376928944e-231, 2.84132113906601e-173, 4.1632023769047e+202,  8.76130844671872e+194, 4.72587160262087e-284, 6.11610084062185e+197,  NaN, NaN, 5.16401285858016e+120, 1.44632716009107e-307, NaN,  3.23785921002061e-319, -2.88021513611656e+304, 8.28893242335955e-317,  4.1254014950077e-293, -1.60283297695242e-180, NaN, NaN, NaN,  NaN, 3.13151307417981e-294, NaN, 2.84132132514972e-173, 2.89422986933961e-173,  NaN, 5.43230922486616e-312, 2.781342323134e-307, 1.60993257980271e-24,  3.16532144686239e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 1.60993257980748e-24, 3.16532144686239e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77436918268819e+180,  2.84132113906604e-173, 2.77448001762435e+180, 2.77448001762435e+180,  -2.51617453667531e-265, 3.83698281515951e+117))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
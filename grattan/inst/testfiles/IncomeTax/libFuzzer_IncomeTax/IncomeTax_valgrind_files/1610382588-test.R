testlist <- list(rates = c(-4.19867256722788e-140, NaN, NaN, NaN, -3.23461733568612e+244,  NaN, 1.20270700235443e-72, NaN, NaN, NaN, NaN, -5.69193919251524e+243,  NaN, -1.99700494896418e+242, -2.36553070989811e+306, 4.43975549210195e+43,  1.04294967408673e+40, -5.49952239281811e+303, NA, -5.18825401415261e+245,  9.32596345928043e-313, 3.92660069275906e-310, NaN, NaN, NaN,  NaN, NaN, NaN, -3.42882754431144e+304, NaN, -8.22918610319053e+304,  NaN, 2.21386317669016e-80, 3.94212982868299e-259, NaN, -3.23461994037922e+244,  1.52973827730112e-308, -8.5243896509936e+245, 9.79032293365848e-307,  -5.49989590899971e+303, NaN, -5.06443593276214e+245, -5.17495827203406e+245,  -7.45541665923325e+307, 1.36845553142777e-48, NaN, NaN, NaN,  4.8925788545346e-14, 7.27118756337022e-240, NaN, 0), thresholds = 1.06559867695611e-255,      x = c(2.33589462432972e-310, 3.94171798504617e-259, NaN,      1.3684555315672e-48, NaN, -3.3269968253101e+242, -5.17538999909498e+245,      -6.25614091221733e+269, NaN, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
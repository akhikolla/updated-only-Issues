testlist <- list(rates = numeric(0), thresholds = c(8.28904605845809e-317,  0, 0), x = c(-9.37339630957792e-312, 2.64121103063769e-301, 1.24660111018731e-266,  1.96568260790928e-236, -3.85254213647597e-34, 3.56048353890995e-306,  -1.26836459270255e-30, 3.66148293307183e-314, -1.2341419504043e-30,  -1.23259516653985e-30, -1.26826754177099e-30, 2.40086640681612e-300,  -1.23414195319381e-30, -2.24767481577173e-289, 1.11579631478852e-308,  -2.11966640218428e-289, NaN, -1.26836459270829e-30, -8.81443176193936e-280,  7.27950633103402e-310, -5.66324542991447e+303, -1.12858219058046e-276,  -5.78534238436574e-34, 2.5664749559172e-301, Inf, NaN, -7.3933069341805e-287,  NaN, NaN, NaN, NaN, Inf, -9.77580118946814e-150, 5.8536377186878e+170,  5.39907627431893e-310, NaN, NaN, NaN, NaN, NaN, -8.59702596077467e-171,  NaN, 1.8487055376056e-272, 5.68604456976406e-270, NaN, 1.11076451584089e-314,  3.02540651506046e-306, 7.31409635508346e-310, 1.16347433520585e+76,  2.33385326930198e-301, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-2.30171521140952e-286, NaN, -2.11965588215347e-289,  -1.83593039382815e-307, 2.03189331491788e-139, 2.00877667922349e-139,  1.94422819550396e+280, -1.12858219058046e-276, -2.25789611982447e-156,  -2.30331110816477e-156, -2.30327665540415e-156, -2.30331110816477e-156,  NaN, 2.81199605989981e-312, NaN, -5.97027451786473e+306, -Inf,  NaN, NaN, NaN, NaN, -3.47896303666081e-147, 1.2564435285036e+294,  -2.97578962437998e-288, 2.80609319566051e-312, -1.93600291201749e-309,  3.83677401710034e+117, -1.21944409577075e-306, -1.06099789548264e-314,  -2.81573130523723e-147, 7.52609340439459e-304, 3.32760790845441e-310,  8.6114931511834e+115, -1.97637753174225e+306, -1.25986739689518e-321,  2.64121103063769e-301, 3.65365169215275e-306, 5.85363594144907e+170,  5.85363771868791e+170, 5.73716459465267e+170, 8.62805110310557e-307,  -1.04185715658648e-306, 2.9621337120295e-306, -2.2962031506993e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110763906e-156,  -2.30331110816477e-156, NaN, NaN, NaN, 1.3854086120054e-309,  7.29069965756742e-304, -9.77719780333766e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, Inf, -9.77719780333789e-292,  -9.77719780333789e-292, -7.39330276865421e-287, -2.25704522481571e-277,  -1.48508910633323e-267, NaN, -3.07840260097373e-288, NaN, NaN,  NaN, 0, 0, 0, 9.6439561139442e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  -2.96164487932264e-277, NaN, NaN, NaN, 0), thresholds = c(2.30127027866676e-12,  -8.24519926735414e-157, -2.30313370586657e-156, -2.30331110816477e-156,  -2.30331097358367e-156, -2.30331110816477e-156, NaN, -5.48612677708849e+303,  NaN, NaN, -9.77818300079457e-150, 2.06276892872168, NaN, 6.98147805439749e-310,  -2.67120456398365e+305, 1.39066109167247e-309, 0, 0, 0, 9.23601983636058e-311,  5.79909433230408e-316, 1.44804023176556e+190, 1.94475639764438e-301,  7.20492353770119e-310, 7.29023203789148e-304, 3.84055472530744e+304,  2.33615297618001e-12, 6.98327594525623e-310, -6.05898824717554e-65,  -1.12850385925865e-276, -1.26836459270732e-30, NaN, 1.00891829346114e-309,  -2.11966640218436e-289, -1.26836459123889e-30, 9.37339630957792e-312,  -5.78534238436574e-34, -1.26836459270829e-30, -1.26836459122741e-30,  Inf, 1.70257006040729e-313, -3.9759940224262e-34, -1.26823100659151e-30,  -1.26836459270829e-30, 2.39422219319154e-301, NaN, 3.66343140689406e-305,  -2.11967030492847e-289, -1.26836419890938e-30, 3.78576961503532e-270,  2.8925960194786e-307, -1.2682309133528e-30, -4.02651530039782e-34,  Inf, 7.51896962953452e-304, 8.8144256634553e-280, -2.82116925744606e-277,  0), x = c(-2.6064446869563e+304, -5.66324542991478e+303, 2.84809454421703e-306,  3.78987813636309e-312, 3.65365169083783e-306, 2.8480945455619e-306,  -5.48612677708818e+303, 2.72888655986149e-312, 3.66145950596111e-314,  -1.2341419504043e-30, -1.80650535611164e+307, -9.7757963632732e-150,  2.73729184714066e-312, 1.11604253465019e-314, 3.65365168478819e-306,  -9.86076133836501e-32, 2.5664749559172e-301, 7.29112639256595e-304,  5.74181414461066e+199, -2.15995069167566e-277, -5.69758255001719e-306,  7.29111937478047e-304, -3.04032340824977e-288, 7.84460841917251e+168,  2.81218450794511e-312, 1.26480805335359e-321, 0, 0, 1.40913782993788e-315,  8.84871571701673e-321, -8.81442986651231e-280, -2.11866430635714e-289,  2.87869041217117e-306, 0, 3.24665356017687e-312, 3.56011817361152e-306,  -2.95841658691758e-188))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
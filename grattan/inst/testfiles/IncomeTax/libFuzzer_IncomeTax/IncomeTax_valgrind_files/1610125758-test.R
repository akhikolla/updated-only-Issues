testlist <- list(rates = c(NaN, 3.9656346395276e-310, NaN, -3.19744231092046e-14,  1.57277335058454e-314, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = c(1.23170580865923e+194,  2.54639250802938e-313, -2.08849643354369e+307, 2.54552169758936e-29,  NaN, NaN, -7.2911220195564e-304, 2.33412480329989e-309, -1.78379395381334e+304,  1.39064994161035e-309, 2.84132113906885e-173, 2.84132113906601e-173,  2.84132113906601e-173, 7.88084934424544e+117, NaN, 7.29032584869847e-304,  3.94019876227253e+117, -2.51617249348227e-265, NaN, 1.60993257980272e-24,  6.51876482060659e-311), x = c(1.60993257980271e-24, 3.16532144686239e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.76009647643194e+180,  NaN, -4.7367525011088e+226, NaN, -1.49222574671188e+306, NaN,  NaN, NaN, 9.52157095850594e-307, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, -1.93267624126747e-12, 9.11767501288655e-312,  NaN, -5.48746343411527e+303, 2.84132113906602e-173, 2.84132113906601e-173,  3.90914936710285e-308, 1.23239822953883e-27, NaN, 1.39065217937453e-309,  3.83738600246539e+117))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
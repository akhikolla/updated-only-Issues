testlist <- list(rates = c(NaN, NaN, NaN, NaN, -4.95668081957698e+245, -5.82900682308922e+303,  -8.52545653330285e+245, -8.72554259640141e+245, -6.17189479381467e+303,  2.70150264931866e-307, 1.71193373937516e-260, 3.94212982853171e-259,  NaN, 1.36845553155725e-48, -5.17538999909499e+245, NA, NA, NA,  0), thresholds = c(1.45604964231e-101, NaN, 9.55087193157339e-318,  0, 0, 0, 0, 0, -5.48612406879369e+303, NaN, -8.5243896509936e+245,  1.82961824935451e-260, -9.01171516728222e+303, NaN, NaN, NaN,  NaN, NaN, 3.64556100396923e-304, -1.18297538621888e-125, -8.52438965094796e+245,  9.87239057337792e-55, -2.83637103416632e-124, 1.71272844748826e-260,  7.50963276040374e-308, 1.65249625247277e+40, NaN, 1.390671161567e-309,  NaN, NaN, -9.00181948337867e+241, NaN, NaN, 7.29048330221851e-304,  -5.54792474493996e+243, NaN, 5.54095540936847e-310, -1.1255454651159e-256,  4.77793833555639e-299, 5.23868948222345e-10, 1.02096057434023e+40,  1.36845553155725e-48, 3.94171798504617e-259, NaN, 1.3684555315672e-48,  -4.19867256722788e-140, -5.17538999909499e+245, NaN, 4.22492486917067e-304,  NaN, -1.37153101719842e+305, -4.64462880803803e+54, NaN, NaN,  NaN, 1.390671161567e-309, NaN, NaN, -4.57671320724439e-246, NaN,  1.65249625247191e+40, 1.36932522936453e-304, 2.21386317043116e-80,  -1.33009544452471e+305, NaN, 0, NA, 0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
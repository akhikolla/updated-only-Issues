testlist <- list(rates = c(0, 0, 0, 1.82922136165714e-260, 2.00727256679093e+42,  NaN, 5.43818615865253e-311, -3.5510117602496e+307, NaN, 1.39782377108199e-304,  NaN, NaN, -8.4070565320089e+304, 2.33589462432874e-310, 0, 0,  0, NaN, 3.23785921002061e-319, 0, 0, 0, 0, 6.8059264245726e+38,  9.79032495839614e-307, 1.42991597048945e-308, 4.8961350595991e-299,  9.51112577266627e-307, -3.14666901810749e+53, 2.84262487975273e-109,  NaN, NaN, NaN, 2.16443570677964e-312, 7.37314787232748e-302,  8.04398474339347e+55, 2.74837317429499e+228, 2.78923464737621e+228,  2.08809742756317e-53, -5.50078690424118e+303, NaN, NaN, NaN,  NaN, 3.24181522621478e+178, 4.77028265708835e-299, 1.82922136166111e-260,  -2.67088736479396e-260, NaN, 7.23040570036398e-308, 5.98415352919567e+228,  1.22379014285756e-307, 1.31977417966646e-309, NaN, -6.31007797996308e-256,  1.36845549830095e-48, NaN, -5.17495827121042e+245, -5.18847371542225e+245,  NaN, NaN, -8.5243896509936e+245, -8.5243896509936e+245, -6.31001569488506e-256,  NaN, NaN, -5.75028661065071e+243, -5.06443614361371e+245, 1.19787461711709e+142,  NaN, -5.50078902973508e+303, 5.95750278987369e+228, -8.73989752405637e+245,  NaN, -2.21813575529665e+130, 1.04294967003054e+40, -5.49952239281811e+303,  1.42916841262284e-101, 3.94172293792919e-259, NaN, -3.60608572893633e+242,  NaN, 6.80730238413181e+38, -5.18825401415261e+245, 9.32596345928043e-313,  3.92660069275906e-310, NaN), thresholds = numeric(0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(2.77448001762435e+180, -Inf, 2.77448001762435e+180,  2.77448001762432e+180, 1.33939390043606e-142, 1.46962009863291e+179,  1.05493541950587e-19, 1.61882814908925e-309, -1.52087325303613e-209,  -1.85133727361007e+304, 2.77448001761251e+180, 2.77448001762435e+180,  2.77448001762435e+180, 5.50814852228496e-310, 2.774480017621e+180,  NaN, NaN, NaN, NaN, NaN, NaN, -8.37116099364271e+298, NaN, NaN,  NaN, -1.92773711349415e+304, NaN, NaN, 1.38470701984657e-300,  2.23576549985131e-183, 1.38523885266592e-309, 7.11520559445523e-304,  2.84130263160834e-173, 2.84132113906601e-173, 2.84132113906609e-173,  6.48935851204218e-307, -1.01101465746676e+308, -1.85133771268567e+304,  NaN, 2.54552169758936e-29, 4.75568663113044e-91, 2.9043552133606e-144,  1.05493541950587e-19, 2.28156987522253e-310, 1.4290355277928e-284,  NA, NaN, NA, 2.77448598139128e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, NaN, -1.56500774119781e-209, -1.56500839841835e-209,  -1.56500839841835e-209, 1.81215592126807e-132, 2.77428136957826e+180,  2.77448001762435e+180, 2.77448001457499e+180, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.38470701984657e-300,  2.23576549985131e-183, 1.38523885266592e-309, 7.11520559445523e-304,  2.8413211397929e-173, -1.92767339828986e+304, 2.84132113906601e-173,  NaN, NaN, 5.16828234876867e+120, 5.16401286819967e+120, 1.44632716009107e-307,  NaN, 2.77448001762442e+180, 2.77448001762435e+180, 0), thresholds = numeric(0),      x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
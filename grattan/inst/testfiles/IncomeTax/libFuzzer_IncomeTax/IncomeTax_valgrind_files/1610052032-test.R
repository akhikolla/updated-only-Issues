testlist <- list(rates = c(-7.92736885185439e-308, -2.30331110815824e-156,  -2.29449120144681e-156, 3.65207087186085e-306, -5.46354690059072e-108,  -2.11965588219791e-289, -1.83593039382815e-307, -2.6064446869563e+304,  -5.66324542991478e+303, 2.84809454421703e-306, 3.78987813636309e-312,  3.65365169083783e-306, 2.47192512089336e-94, -5.48612677708833e+303,  2.72888655986149e-312, 3.66145950596111e-314, -1.2341419504043e-30,  -1.80650535611164e+307, 6.51851512432001e+91, 9.07656688407038e+223,  2.93471523213911e+213, 8.90389806695635e+252, 4.44032494274833e+252,  -2.58213468532822e-287, -4.95400484443369e-33, -1.26836459270829e-30,  2.1788294981599e-321, 3.6634314009933e-305), thresholds = c(-2.67120456398365e+305,  1.39066109167247e-309, 0, 0, 0, 9.23492568228087e-311, 5.79909433230408e-316,  1.44804023176556e+190, -1.75590191507535e+306, 2.29775642758296e+189,  4.36428616530596e-306, 3.90913259233617e+304, 3.65784678046935e-306,  1.01955734498014e-314, 2.12199579096527e-314, -5.48612406879369e+303,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 3.02610044756979e-306,  NaN, NaN, -1.28189897098414e-30, 6.01362129181413e-317, 3.62255133977557e-69,  3.66343140688495e-305, 3.93301506933988e-312, 2.92300471201586e+48,  5.41696633969235e-307, -5.78579789596655e-34, 2.56647495592844e-301,  7.29112639256595e-304, NaN, 2.67904645290897e+301, -1.26836459123889e-30,  9.37339630957792e-312, -5.78534238436574e-34, 2.56647495592844e-301,  7.29112639256595e-304, NaN, -8.81442988269071e-280, 2.94162805531324e-306,  -2.30328263070267e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110816272e-156, 6.98722785359005e-310, -6.76385741726459e-231,  534.646484374069, -3.00998639227798e-135, -1.26836459245897e-30,  2.34903511315221e-319, 3.6634314068609e-305, -2.11966640218428e-289,  -1.2683642165418e-30, 2.39958945525286e-309, 5.68604456976406e-270,  -5.46354690059085e-108, -5.46310509567581e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, NaN, -9.7781740006482e-150, 7.2903536873204e-304,  NaN, NaN, 5.43230922486616e-312, 2.84878987447e-306, 2.9548964544048e-306,  2.56647495437453e-301, -2.35322190464905e-185, -2.35343736826454e-185 ), x = c(-2.82145547647864e-277, -3.97599209931275e-34, -1.26823100659151e-30,  -1.26836459270829e-30, 2.39422219319154e-301, -2.87284834993229e-188,  -2.35322190464904e-185, -5.77729739522216e-275, 7.31960296499841e-304 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
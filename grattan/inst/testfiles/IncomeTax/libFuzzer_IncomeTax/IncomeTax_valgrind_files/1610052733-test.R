testlist <- list(rates = c(-8.22918608762313e+303, 4.46108959687689e-140,  4.92150736867532e-303, 1.21044018122494e-305, 5.85363771868791e+170,  2.10901416965392e-312, NaN, NaN, NaN, NaN, NaN, -5.02570917414969e+306,  6.37328271834745e+40, 6.17090266767238e-140, 3.60297094497336e-306,  -5.4635469005853e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -2.2655433520892e-289, 9.70418614815292e-101,  8.02711540254363e-125, 9.70408896376656e-101, 1.42873424000035e-101,  9.7027918188809e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.69721082575941e-101, 9.70418706716128e-101,  NaN, NaN, 1.12583501772562e-305, 6.95335600738377e-310, 2.94582991971988e-306 ), thresholds = c(-1.24371214513728e-30, -7.2239847844844e-287,  -1.24371214513728e-30, -2.29827868269844e-185, 6.65988378995207e-310,  2.22507386265736e-308, NaN, 2.94024551642532e-306, NA, 7.29069965756742e-304,  4.14452302922905e-317, -2.30331110816476e-156, -2.30331110816477e-156,  -2.29449120144681e-156, 2.01890044860109e-319, 0, -2.29602087786811e-156,  -2.30331110816477e-156, -2.30331110816477e-156, -2.30331110763906e-156,  -2.30331110816477e-156, 534.645996093779, -1.24281111519981e-267,  2.47229315721747e-94, -9.37438000465967e-287, 2.61006680314917e-312,  5.4323092248711e-312, 0, NaN, 2.21650109394514e-301, -2.05226840064919e-289,  1.24351972100265e-13, 7.2903536873204e-304, -1.24371214513728e-30,  2.71615461306795e-312, -4.38889926233518e+306, 1.1258202972119e-305,  -5.8268287099016e-157, -9.36473567632315e-280, -3.04032340213361e-288,  -1.24371214513728e-30, 5.67865049362949e-270, 3.93230069501036e-312,  8.74601910837028e-310, -4.38753740307468e+307, -2.11965588216799e-289,  -1.83593039382815e-307, -2.6064446869563e+304, 7.18372580480888e-310,  5.94568495811084e-302, 7.29112203361732e-304, 0, 0, 0, 5.59610256518376e-275,  0, 7.27929436294622e-310, -2.93988024154063e-306, 1.6211281971343e-319,  0), x = c(-3.67250450303174e-306, 9.21188620376016e-97, -7.990239683788e+304,  NaN, NaN, -2.11965588213836e-289, -1.83593039382815e-307, 7.74744339243659e-320,  0, 0, 0, 0, 0, 0, -9.77579636319873e-150, 1.06099789548264e-314,  8.57184702566419e-315, 1.04517715692599e-308, 7.0699502755748e-304,  4.46006854028005e-140, 3.42882753485303e+304, NaN, NaN, NaN,  -5.5353477920106e-108, -5.46354690059085e-108, -1.7976931348579e+308,  NaN, NaN, NaN, NaN, 1.390671161567e-309, NaN, 1.25986739689518e-321,  0, 5.43222633441051e-312, 9.23492568228087e-311, 5.79909433230408e-316,  3.8004944616188e-311, NaN, 7.06416447794651e-304, -5.35582666016898e+305,  NaN, 3.66343140689406e-305, -2.11967030492847e-289, -1.26836419890938e-30,  3.78576961503532e-270, 9.70418706716123e-101, 9.70418707472913e-101,  9.70418706716128e-101, 9.70418706674546e-101, 3.83687416993436e+117,  3.65365168978109e-306, 3.60322897961994e-306, NaN, NaN, NaN,  2.84809456010918e-306, -1.3029750348081e-284, -5.81608789291487e-34,  -1.26836459351185e-30, 3.94108708470682e-312, -1.26836459059369e-30,  2.15817304953837e-301, -2.05226840064919e-289, 1.24351972100265e-13,  1.25801436270365e-60, -5.66365833706557e+303, 5.43230922486616e-312,  3.56048354833801e-306, -1.39066533631862e-309, 2.9621337120295e-306,  -2.2962031506993e-156, -2.30331110816477e-156, 1.90709339294721e-321,  -1.83593039382815e-307, -2.6064446869563e+304, -5.66324542991478e+303,  2.84809454421703e-306, 3.78987813636309e-312, 3.65365169083783e-306,  2.8480945455619e-306, -5.48612677708818e+303, 2.72888655986149e-312,  3.66145950596111e-314, -1.2341419504043e-30, -1.80650535611164e+307,  -9.7757963632732e-150, -8.81551001641906e-280, 3.78576700315105e-270,  1.00666897792269e-309, 1.21044182572191e-305, -7.93173268652899e-308,  3.65784678046929e-306, 1.390671161567e-309))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
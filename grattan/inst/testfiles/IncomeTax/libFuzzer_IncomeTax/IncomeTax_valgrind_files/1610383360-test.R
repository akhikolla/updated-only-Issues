testlist <- list(rates = c(8.5914458122987e-227, 7.06416809851907e-304, -1.1821064132557e-125,  NaN, 8.28904556439245e-317, NaN, NaN, NaN, -2.88665259471098e-63,  5.14036479689933e-312, -1.29499464712615e+116, NaN, 2.56882117562077e-295,  -1.50465302948754e-43, NaN, 2.79513953293095e-129, NaN, NaN,  2.16443570677964e-312, 2.7810487249198e-309, -6.32699214442674e-256,  7.1177190551809e-304, 4.32185817775748e+43, 8.770970400092e+179,  1.42991672770676e-308, 5.95750154236552e+228, 5.95750278984877e+228,  -5.75028661445059e+243, -8.22918610235701e+304, NaN, 2.7892346473729e+228,  2.08809742756317e-53, NaN, 5.95750278984886e+228, NaN, 3.26792712858383e+178,  1.04291228749732e+40, 2.39524526325109e-08, -2.39536098123135e+260,  7.56881123708566e-304, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, 1.70141183460469e+40, 1.39785663411574e-304,  1.0429122855008e+40, 7.29023213934846e-304, NaN, NaN, NaN, NaN,  -6.3100779998114e-256, -6.31001569488506e-256, NaN, 5.14674736242857e-312,  NaN, 3.23785921002061e-319, NaN, NaN, NaN, -3.23465380139002e+244,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -6.30899970420524e-256,  -1.25542031655889e+58, NaN, 4.77830972972643e-299, 2.82755217285071e-110,  NaN, 1.02084759352235e+40, -4.93751584743096e+304, NaN, -4.19867256683219e-140,  -5.17538999909499e+245, NaN, -5.82766745777171e+303, NaN), thresholds = c(5.07559999063505e-116,  7.2306694577448e-308, NaN, 6.64032995703601e-07, 1.39113490711204e-308,  2.33590042682797e-310, 2.70150095835327e-307, NaN, 1.390671161567e-309,  NaN, NaN, NaN, NaN, -1.99700494896339e+242, NaN, NaN, NaN, NaN,  NaN, NaN, 7.2314900401484e-308, -6.03473647567294e+304, -5.17538999909478e+245,  1.7127284533022e-260, 7.50966246834481e-308, 1.65249625247277e+40,  NaN, -5.18847371542227e+245, NaN, NaN, NaN, -6.3100801632785e-256,  -5.06443593198239e+245, 7.29112201955369e-304, NaN, 1.3684555315672e-48,  7.27955163548947e-304, 1.04294967003054e+40, NaN, NaN, NaN, NaN,  NaN, 4.65661287307739e-10, -4.28076304470408e+221, NaN, NaN,  2.16443570677964e-312, -1.45094702117037e+128, 2.78132881200157e-309,  6.8089704084083e+38, NaN, NaN, 0, -4.57671320724439e-246, NaN,  NaN, NaN, -1.3323138021754e+305, 7.23066945774505e-308, -5.54371769730056e+303,  2.12455197126707e+183, 3.94213052632413e-259, -3.18196870780537e+305,  3.56429232981243e-315, 1.51189165578346e-304, 5.41109259624256e-312,  0, 3.94212982853162e-259, 5.95718343413698e+228, 5.95750278984877e+228,  4.73791139586999e+226, 5.95750278984877e+228, 5.90784496692506e+228,  NaN, 1.52264858200281e-308, 5.95750279622772e+228, 5.95750279143728e+228,  5.95750278984877e+228, NaN, 1.42991672770688e-308, NaN, 9.79032497743168e-307 ), x = c(NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -5.18931555224442e+245,  NaN, NaN, -6.30948725319357e-256, 7.1177190551809e-304, 4.32185817775748e+43,  -4.39920255204919e-259, -1.18182239472382e-125, NaN, NaN, -5.75028661024338e+243,  -8.22918610235701e+304, NaN, 2.7892346473729e+228, 2.08809742756317e-53,  NaN, 5.95750278984886e+228, NaN, 3.26792712858383e+178, 1.04291228749732e+40,  2.39524526325109e-08, -2.39536098123135e+260, 7.56881123708566e-304,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, -1.18182171214456e-125, NaN, 4.34940402462135e-114,  7.51011421099525e-308, 1.88062745788168e-119, 9.26369954385498e+25,  1.62968375413993e-310, 2.783485538935e-309, 5.87574772763166e+228,  5.95750278984877e+228, 5.95229749923487e+228, 5.95750278984877e+228,  2.78910999442478e+132, 5.95750258651972e+228, -5.18846954791325e+245,  3.10503470425211e+231, 2.94664509246412e+229, 1.36836119869508e-48,  NaN, 4.77923608727567e-299, -1.45094702117037e+128, -1.1818685957232e-125,  1.39781724570911e+181, -5.18931553596509e+245, 1.23596395333285e-279,  3.48195683645818e+228, -2.83637103417481e-124, 1.71272844748826e-260,  9.07655807758655e+223, -3.49120610854758e+304, -3.2345079385743e+244,  -2.54624726144729e+306, 1.42873420450692e-101, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
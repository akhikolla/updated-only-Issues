testlist <- list(rates = c(NaN, NA, 1.3854086120054e-309, NaN, -Inf, NaN,  -Inf, NA, 6.9627991035571e-310, -1.41970671387167e+306, NaN,  NaN, NaN, NaN, 3.66343140689406e-305, -3.01363922187462e-135,  -2.30245756880496e-156, -2.30331110816477e-156, -2.29449120144681e-156,  -2.30328041065087e-156, -1.84314079542948e+306, 1.00497720676431e-309,  1.25800338602655e-316, 6.98594916584147e-310, 2.56647601891924e-301,  -2.25769487008466e-289, 2.10025856537575e-309, 3.56011819483148e-306,  -8.02506476812756e+304, 1.390652843099e-309, -5.16216864106284e-306,  0), thresholds = c(-2.29827867994584e-185, 9.11389926506012e-306,  3.44571489180014e-94, -2.18056649082045e-289, NaN, 2.7271398649941e-312,  7.14190420369699e-304, 5.43226988934558e-312, 0, 0, 3.23751336406852e-319,  0, 0, 0, 0, 0, 0, 0, 0, 1.40913782993788e-315, 8.84871571701673e-321,  -5.35532635250002e+305, 1.38803996951476e-309, -6.69969684636807e-287,  2.89689873904097e-312, -3.18411881987467e-248, 1.80354409094537e-130,  1.55571390562492e-319, 3.23790861658519e-319, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, 1.390671161567e-309,  -1.28189863302947e-30, 6.01362129181413e-317, 1.55587395324171e-59,  -1.26836459270829e-30, -3.56013998772825e-306, 2.9621337120295e-306,  -2.2962031506993e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110763906e-156, -2.30331110816477e-156, NaN, NaN, NaN,  1.3854086120054e-309, NaN, NaN, 6.95335580946088e-310), x = NaN)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(-2.30331097358367e-156, -2.30331097358367e-156,  -1.26836479922652e-30, -3.10267783351777e-277, -1.24255658710767e-30,  1.00891829368586e-309, 2.80103704451952e-312, NaN, NaN, -2.52435489670724e-29,  1.53948714210656e-314, -3.97083461829737e-34, NaN, -2.0562923949346e-289,  7.29035467871684e-304, -1.7555603938943e+306, -7.20534541618306e-304,  2.9621337120295e-306, -2.2962031506993e-156, 2.56647495437747e-301,  -2.30331110816311e-156, -2.30331110816477e-156, -6.05390363808932e-157,  -2.30331110816477e-156, -1.32083970121448e-284, 3.65207087186091e-306,  NaN, NaN, NaN, 7.73071190387239e-12, -5.42935359518774e-108,  -5.46354690059085e-108, -5.46354689225606e-108, -5.46354690059085e-108,  NaN, 3.78573811262366e-270, 7.29112072938316e-304, 3.32652954498878e-111,  NaN, NaN, NaN, 1.390671161567e-309, -3.9759940224262e-34, -1.26823100659151e-30,  -1.26836459270829e-30, 2.39422219319154e-301, 2.9548978549633e-306,  -2.27359004736068e-289, 7.84460841922937e+168, 5.85363771868791e+170,  -9.77579998268762e-150, 6.97444594952665e-310, 3.83698281198602e+117,  -1.25801783497968e-30, -2.30331097358367e-156, 2.84809454438177e-306,  -9.77580118946814e-150, -3.18471904296289e-248, NaN, 9.72927692906585e-309,  NaN, -1.40444736503779e+306, -1.4094657681933e-52, -1.05115074807266e-286,  -1.21044017903676e-305, -1.84912323760304e-248, 2.40313001605884e-306,  7.2911220195564e-304, 0), thresholds = c(-1.06243883200994e-314,  2.55299237240191e-156, -6.00891709300815e-157, -2.30331110816477e-156,  4.65661286890994e-10, NaN, NaN, 3.23785921002061e-319, 1.42873492567808e-101,  -1.26834825275039e-30, NaN, -1.26823093099111e-30, -2.24767623012983e-289,  -1.24371214513728e-30, -1.26836459270829e-30, 3.78576699573368e-270,  -2.82156678758265e-277, NaN, NaN, NaN, NaN, 6.95335581431077e-310,  -1.28170651945491e-30, NaN, 7.29112201780596e-304, -5.48612406879369e+303,  4.46108959688739e-140, -9.92138319262286e-150, 3.6532931414665e-306,  4.56545065531948e-317, 0, 9.23492568228087e-311, 5.79909433230408e-316,  1.44804023176556e+190, -1.75590191507535e+306, 2.29775642758296e+189,  4.36428616530596e-306, 3.90913259233617e+304, 3.65784678046935e-306,  1.01955734498014e-314, 2.12199579096527e-314, -5.48612406879369e+303,  NaN, NaN, NaN, NaN, NaN, 2.73737457034026e-312, -2.30331110773024e-156,  -2.30331110816477e-156), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
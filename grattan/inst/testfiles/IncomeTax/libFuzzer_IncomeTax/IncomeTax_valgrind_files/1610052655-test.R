testlist <- list(rates = c(6.98594916738453e-310, -2.97578918250622e-288,  NaN, -9.59009956827805e-277, 3.41641322410626e-312, 7.19870908769578e-310,  3.65365168449662e-306, -5.77662200276729e-275, NaN, NaN, NaN,  6.9534619076246e-310, -2.30328334270592e-156, -2.30331110816477e-156,  -2.30331110816477e-156, NaN, -5.46299574661044e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.35044484234063e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  NaN, NaN, 6.96290478869193e-310, 0), thresholds = c(-1.97637754040058e+306,  -6.36358119846463e+305, -6.64678428260241e-287, NaN, NaN, NaN,  -9.77818300079457e-150, 2.94613684519112e-306, -1.01124262054605e-185,  6.06584682809919e-301, -6.64677928231362e-287, NaN, NaN, NaN,  NaN, -1.05658906227133e+270, 3.23785921002061e-319, 0, 0, 0,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, NaN, -5.82900681339492e+303,  2.65985899590435e+277, 1.10313045262037e+217, -1.97637754040066e+306,  -9.77719778799622e-292, -1.40291828956126e-291, -9.77719780333788e-292,  -9.77719780333789e-292, -1.12858219058046e-276, -2.30330777402665e-156,  -2.30331110816477e-156, -2.30327665540415e-156, -2.30331110816477e-156,  NaN, 2.81199605989981e-312, 8.84871571701673e-321, -8.81442986651231e-280,  -2.11866430635714e-289, 1.06243882805742e-314, 0), x = c(-5.77662200276729e-275,  8.63073241202171e+115, 6.54387809211282e-125, 6.54404558221225e-125,  6.54404558221225e-125, 6.54404558221225e-125, 6.54404558221225e-125,  6.54404558221225e-125, 6.54404558221225e-125, 6.54404558221225e-125,  6.54404558221225e-125, 6.54404558221225e-125, 7.29069965757512e-304,  0, 0, 0, 2.3641409746639e-308, 1.48456814906984e-313, 3.9191047797502e+202,  -2.18028465462708e-289, 534.645996093779, -1.24281111519981e-267,  2.47229315721747e-94, -9.37438000465967e-287, 2.61006680314917e-312,  5.4323092248711e-312, 0, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, -7.40507430179044e-171, 2.8487888201287e-306, 7.10591798586467e-15,  -5.46354484299115e-108, -5.46310509567581e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, NaN, NaN, -9.7781740006482e-150, 7.2903536873204e-304,  NaN, NaN, 5.43230922486616e-312, NaN, 3.67243167615617e-306,  -2.30331110816486e-156, -2.29449120144681e-156, -2.30331110816477e-156,  -1.84314079542573e+306, 7.1987099133561e-310, NaN, 3.78576636814657e-270 ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
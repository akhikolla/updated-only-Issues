testlist <- list(rates = NaN, thresholds = c(7.07039469279248e-304, -Inf,  -5.66324542991478e+303, 3.65365168978315e-306, -5.77662200276729e-275,  NaN, NaN, NaN, 7.09803712463454e+132, 1.45230786625803e+282,  -1.25152205320375e+306, -2.82144293878164e-277, 3.41641322410626e-312,  5.68652200142243e-270, -1.26836459270829e-30, NaN, 3.02540651506046e-306,  -3.01406960140899e-135, -3.01363922187473e-135, -2.30331110816476e-156,  -2.30331110816477e-156, -2.29449120144681e-156, NaN, -1.84314079543842e+306,  7.1987099133561e-310, NaN, -1.03867836358987e-149, 7.2903536873204e-304,  -4.57615391491265e-246, 4.00791842552797e-306, -1.26826829408472e-30,  1.09474055385795e-303, 1.21044018122494e-305, 1.41497286004339e+190,  NaN, 3.65365168445533e-306, 2.62480682658967e-301, -6.56793027847815e-287,  -1.23259554222072e-30, 3.66148293307183e-314, 3.91615180508941e-306,  -3.3622572058832e-285, 9.38197868360131e+301, 2.95976968687414e-312,  1.53948714210656e-314, 7.17097144962613e-310, -2.1808986712673e-289,  7.84460841922937e+168, 5.85363771868791e+170, -9.77579998268762e-150,  NaN, NaN, NaN, NaN, -3.47306054607043e-164, 7.20267746058957e-304,  2.71502979554261e-307, -8.83059900015834e-280, -1.85907762421774e-183,  -9.77580118946814e-150, -2.97619079749159e-288, -2.11852534546505e-289,  2.78134232313277e-309, 7.10464176283464e-304, 0), x = c(1.39066109167247e-309,  0, 0, 8.63073241202171e+115, NaN, NaN, NaN, NaN, -1.36573625663878e-151,  NaN, -2.11852534547344e-289, 2.2738937554767e-13, 9.70399065486153e-101,  9.70418706716128e-101, 9.70418706674546e-101, 3.83687416993436e+117,  NaN, NaN, NaN, 8.63073241202171e+115, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
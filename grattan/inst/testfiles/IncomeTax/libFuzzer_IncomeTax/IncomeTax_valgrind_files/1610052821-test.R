testlist <- list(rates = numeric(0), thresholds = c(NaN, -3.07840260097373e-288,  NaN, NaN, NaN, 0, 0, 1.11073217183338e-314, 3.02540651506046e-306,  7.31409635508346e-310, 1.16347433520585e+76, 2.33385326930198e-301,  -2.97619001462835e-288, -2.9718420926367e-147, 7.52609340439459e-304,  NaN, -9.77818300079457e-150, -9.77579636327222e-150, 3.65365168861588e-306,  8.28904605845809e-317, 0, 0, 9.23492568228087e-311, 6.95336160692934e-310,  -6.76385741726459e-231, 534.646484374069, 6.98391380520808e-310,  0, 1.26822404694409e-314, 1.55587395324168e-59, 2.33971970338447e-11,  3.78576960480379e-270, 2.92300471201596e+48, 2.40086679487401e-300,  3.65365168994788e-306, 9.70418706716122e-101, 9.7041598162183e-101,  9.70418706715543e-101, 9.70418614810987e-101, 9.70418706707811e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706674546e-101, 3.83687416993436e+117, 9.73468556510352e-309,  -2.60644468698059e+304, -5.66324542991478e+303, 2.10081244788473e-309,  3.56011817361152e-306, -8.02506476812756e+304, 1.390652843099e-309,  -5.16216864106284e-306, -8.81442986644817e-280, -1.85907762421774e-183,  -9.77580118946814e-150, 2.72676459139037e-312, 7.14190420369699e-304,  2.12198042552369e-314, 2.60750842793813e-310), x = c(-2.00482719347345e+52,  -2.00482719347345e+52, -2.00482719347345e+52, -2.00482719347345e+52,  -2.00482719347345e+52, -3.67206935373818e-306, 6.06585028392632e-301,  1.21044018122494e-305, -6.64550663505903e-287, -2.34568207499818e-185,  -1.23269146090507e-30, 3.78576699573368e-270, -1.26836459270033e-30,  7.27950633336389e-310, -5.66324542991447e+303, 7.3962762441881e-272,  5.68604456976417e-270, -8.81443174834308e-280, 3.41641371420455e-312,  NaN, 3.56048348188083e-306, 34082834.0004893, NaN, 2.80614289249855e-312,  -2.2308331518689e-289, 1.39067116173462e-309, 0, 0, 0, 9.72926582174422e-309,  2.84809453888922e-306, 2.84347436052587e-312, 2.47222686857108e-94,  6.32404026676796e-322, 8.90029543402881e-306, 0, 2.31407681284749e-306,  33554432.062793, 1.84870553760557e-272, 2.30127027866676e-12,  NaN, -9.77818300079457e-150, 7.29069965756742e-304, -9.77719780333766e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -7.39330276865421e-287))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
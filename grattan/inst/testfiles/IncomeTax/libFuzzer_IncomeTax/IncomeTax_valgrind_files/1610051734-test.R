testlist <- list(rates = c(NA, -5.46354690059085e-108, 0), thresholds = c(-3.97223051032683e-34,  2.1788294981599e-321, -1.26836459066847e-30, -3.15108981780877e-248,  NaN, 2.56647495797302e-301, -4.9540049074147e-33, -1.26836459066993e-30,  -1.26836459270829e-30, 8.24445099066359e-312, -9.11306812174856e-306,  8.34402647205924e-310, -7.92682562887111e-308, -2.82116724839022e-277,  NaN, -8.81442988344703e-280, 7.74565138159227e-304, 2.12198042552369e-314,  0, 0, 0, 1.40913782993788e-315, 8.84871571701673e-321, -5.35532635250002e+305,  1.38803996951476e-309, -6.69969684636807e-287, 2.89689873904097e-312,  -3.18411881987467e-248, 1.80354409094537e-130, 1.55571390562492e-319,  3.23790861658519e-319, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, 1.00891829368621e-309, 2.67904644895999e+301,  -1.26836459117002e-30, 9.37339630957792e-312, -2.05629239493452e-289,  -1.25152224677666e+306, 6.95367949510419e-310, -6.76385741726459e-231,  -6.56793027847815e-287, 1.38999208669611e-309, 2.393494597516e-301,  2.72747191823907e-312, 7.14190420369699e-304, 5.43226988934558e-312,  0, 0, NaN, 3.60739284464096e-313, Inf, 8.54602158179859e+194,  7.17085996195659e-310, 4.94065645841247e-324, NaN, NaN, NaN,  -2.30880195073034e-289, NaN, NaN, -8.81442989928447e-280, -1.26834825275039e-30,  1.53948714210656e-314, -1.26836404691013e-30, -2.82145547645118e-277,  -1.2437121450743e-30, -1.26836459270829e-30, -8.81442986644817e-280,  -7.39330504599438e-287, 1.26480805335359e-321, NaN, NaN, NaN,  NaN, NaN, NaN, -2.60644468696874e+304, -5.66324542991478e+303,  -2.11840698477846e-289, 2.81218450745104e-312, 0), x = c(0, 0,  0, 0, 0, 0, 9.72926582174422e-309, NaN, -1.40444736503779e+306,  3.78576699572034e-270, -7.5814175940347e-148, 7.2903536873204e-304,  -4.57615391491265e-246, 2.71615461306795e-312, -4.38889926233518e+306,  4.5113879864095e-10, NaN, NaN, 5.41175239064118e-312, -2.60644468696874e+304,  NaN, 5.85363771174557e+170, 2.8480955933963e-306, NaN, NaN, -1.26837024764283e-30,  2.1788294981599e-321, 3.6634314009933e-305, -9.77941371393343e-150,  2.33246235504083e-12, -2.15995069167566e-277, -5.69758255001719e-306,  7.29111937478047e-304, -3.04032340824977e-288, 7.84460841917251e+168,  2.81218450794511e-312, 0, 0, 1.40913782993788e-315, 8.84871571701673e-321,  -8.81442986651231e-280, 2.09460784313725, -6.56725888207741e-287,  6.96279910522665e-310, -1.09415610340935e-314, 1.26822404694409e-314,  0, -9.11307071058342e-306, 8.83068548410198e-311, 4.08272418357189e-311,  -3.02879629660141e-288, 7.52700933528117e-304, 4.29076497820112e-317,  -7.92737104019607e-308, 7.17066143930354e-310, 8.31143311567173e-310,  0, -2.95841658691758e-188, 1.94693962620681e-307))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(1.24660111018731e-266, NaN, -3.85254213647597e-34,  3.56048353890995e-306, -1.26836459270255e-30, 3.66148293307183e-314,  -1.2341419504043e-30, 3.66343140688495e-305, -1.26836459270251e-30,  3.66148293307183e-314, -8.81442592686244e-280, 3.65365169003036e-306,  5.85363594144907e+170, 5.85363771868791e+170, 3.75990818875158e+175,  NaN, 1.42873492292532e-101, 2.56647495437793e-301, -2.30331110816311e-156,  -2.30331110816477e-156, -6.05390363808932e-157, -6.64678428257378e-287,  -5.463546900558e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354689384944e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, 8.63073241202193e+115,  -2.82116926034698e-277, 2.81218450871091e-312, 9.6963001895514e+192,  3.60253364836636e-306, 9.50582302598558e-321, 5.59610256518376e-275,  -5.48612406879369e+303, NaN, -5.32245148159513e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -1.46889178304203e-110, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.71336793340794e+303, NaN, 7.07039469194368e-304, -2.67663059352969e+304,  -1.3675878655138e+306, -Inf, -7.2911220195564e-304, 3.83677401710034e+117,  -2.11966639819275e-289, -Inf, 7.18122423106661e-304, NaN, 7.84460841917251e+168,  2.81218450794511e-312, 0, 0, 1.40913782993788e-315, 8.84871571701673e-321,  -8.81442986651231e-280, -2.11866430635714e-289, 1.28823036902948e-231,  6.95335580950455e-310, -8.11387794495712e-289, -7.92736885185439e-308,  -2.05226941377742e-289, 0), thresholds = -2.87284972623436e-188,      x = c(5.14291265930839e+25, -6.31165898276195e-145, -2.2303328618551e-289,      NaN, NaN, NaN, NaN, 2.84809456010918e-306, 4.79214007319005e+173,      5.39907627431754e-310, 1.08601191821704e-306, -1.23404262264968e-30,      5.96421176826582e-212, 5.9642088354358e-212, 5.9642088354358e-212,      5.9642088354358e-212, 5.9642088354358e-212, 5.9642088354358e-212,      5.9642088354358e-212, 5.9642088354358e-212, 5.9642088354358e-212,      5.9642088354358e-212, -2.11840698478085e-289, 5.96420883543064e-212,      5.9642088354358e-212, 5.9642088354358e-212, 1.00891829368586e-309,      -3.59167169015842e-288, 7.19870991013391e-310, NaN, 3.78576699573368e-270,      7.29112072938316e-304, NaN, NaN, NaN, -1.34497461654424e-284,      -4.93080912822429e-299, -7.05154057019435e-279, 5.68662584238163e-270,      -8.81443176193936e-280, 3.41641371420455e-312, NaN, 3.56048348188083e-306,      34082834.0004893, NaN, 2.80614289249855e-312, -2.2308331518689e-289,      7.19919234075083e-310, 5.67154552427533e-310, 1.26480805335359e-321,      -5.48612407015086e+303, 2.96439387504748e-323, 3.91612999627774e-306,      -3.56047810653759e-306, 2.22507386265735e-308, 2.71615461308772e-312,      7.55920438137107e-322, 0, 2.72888639350958e-312, 3.60253364404992e-306,      NaN, 7.73070854945038e-12, -9.37437999395387e-287, 7.29112201955619e-304,      -2.11966640218428e-289, -5.81608789291487e-34, -1.26836459270829e-30     ))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
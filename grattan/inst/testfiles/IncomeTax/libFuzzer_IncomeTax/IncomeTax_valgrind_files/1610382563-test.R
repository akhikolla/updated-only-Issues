testlist <- list(rates = numeric(0), thresholds = c(5.43722619646479e-109,  -5.06663242082258e+245, NaN, NaN, -1.37153101719842e+305, 4.46014903970612e+43,  6.55651547276628e-07, -6.17181915010916e+303, 2.16443570677964e-312,  -1.45094702117037e+128, 7.76462361818661e-304, NaN, -1.99700494896339e+242,  -8.73989987746428e+245, 5.14674736236434e-312, 1.04294967003024e+40,  5.22277776582315e-10, NaN, -3.50791655390178e-92, NaN, -5.17512518402944e+245,  NaN, NaN, NaN, NaN, NaN, 2.05236116102037e-289, NaN, -5.17544274496094e+245,  -1.4509988461317e+128, NaN, 4.77830972972642e-299, 2.82755217285071e-110,  -3.14666901810749e+53, -2.8363711018493e-124, 1.71272844748826e-260,  1.04291228582557e+40, -1.29209058968189e+241, -5.18847371542227e+245,  NaN, NaN, -5.1754460813335e+245, NaN, 5.56268857482253e-309,  NaN, -5.17539189157058e+245, -7.45541667185533e+307, 4.77830744862128e-299,  2.78134232318839e-309, 7.00659244291961e-308, -1.1255454651159e-256,  6.64032995770248e-07, 1.39113490711204e-308, 3.94212982853777e-259,  NaN, -6.3100779998114e-256, NaN, 7.2911220195564e-304, NaN, 1.65274779966312e+40,  1.39785663411574e-304, 5.54456932798762e-97, -1.31667145074268e+305,  NaN, NaN, -3.10503491799727e+231, 2.75747243957378e-10, -5.17538999909499e+245,  NaN, 2.23764521978205e-310, NaN, NaN, NaN, 7.2911220195564e-304,  -1.18297538621888e-125, NaN, -2.87890719086542e-63, NaN, NaN,  -1.33064540864887e+307, -5.18931555224442e+245, NaN, NaN, 0,  0, 0, 0, 0, 0, 0, 0, 0), x = c(2.46003930924697e+198, NaN, -1.99700494896338e+242,  -8.7398998701518e+245, -8.50343441154999e+304, 4.46014903970612e+43,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, Inf, NaN, NaN, -8.73989987746428e+245,  -Inf, NaN, -5.17495848279176e+245, -8.00197165336822e+304, -6.17182154143209e+303,  3.62557269002036e+53, NaN, NaN, -1.4371383716238e+241, 5.54095540936847e-310,  5.23232075589497e-105, 3.2221328488709e-115, 8.76431881444561e+252,  7.35876460944816e+223, NaN, NaN, 1.80331613628628e-130, 2.21386307615192e-80,  -1.33009544456318e+305, 4.31748810751854e-304, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
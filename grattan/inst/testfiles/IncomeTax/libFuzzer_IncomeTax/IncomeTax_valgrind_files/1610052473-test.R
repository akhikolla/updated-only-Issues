testlist <- list(rates = c(2.74753095756362e-282, 1.39066090306839e-309,  NaN, -9.59009956827805e-277, -2.3033111077411e-156, -2.30331110816477e-156,  2.95908645841946e-306, -3.01406960140899e-135, 3.66343140688495e-305,  -3.85185988877447e-34, -8.81443176193936e-280, -Inf, -1.26836459270827e-30,  1.43026673502722e-316, -1.26823091051179e-30, NA, -1.23278775486536e-30,  -4.00930495879766e-306, 3.83677401710034e+117, NaN, -1.06567983545374e-314,  -5.46299736432448e-108, 3.65365169148704e-306, 5.85363594144907e+170,  2.74753095756362e-282, 2.84853183978188e-306, 2.81741340991653e+118,  -7.39330450733463e-287, -1.33453641541175e-314, 5.67154552225164e-310,  1.41497839550385e+190, 1.84870553760561e-272, -5.46354690059085e-108,  NaN, 3.78573811262366e-270, NaN, -Inf, 7.2903536873204e-304,  NaN, NaN, 1.39067116124447e-309, 7.29112201955619e-304, -1.26418156348545e-30,  NaN, -1.23414719310911e-30, 2.56680426183462e-301, -4.9540049074147e-33,  -1.26836459270829e-30, 2.1788294981599e-321, -1.26836459066847e-30,  -4.76141252969079e-33, 6.99276667868207e-310, 0), thresholds = c(9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  NaN, NaN, -3.13227758653431e-294, -9.77719780333789e-292, Inf,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, 4.46078843844753e-99, 7.19919233962066e-310,  2.12131683540626e-309, 4.36707825033567e-306, -6.36390391980068e+305,  -Inf, NaN, NaN, NaN, NaN, 1.390671161567e-309, Inf, 0, 9.6439561139442e-101,  9.70418706716128e-101, 9.70448276569105e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706714725e-101,  -1.97671907330892e+306, NaN, NaN, 2.81741341740251e+118, NaN,  7.29112561891135e-304, -1.3906499427506e-309, 9.70418706716128e-101,  4.95400018337535e-317, 0), x = NaN)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = numeric(0), thresholds = numeric(0), x = c(1.23971598178855e+224,  1.04294967003024e+40, 5.43412073090628e-311, 8.90389806695633e+252,  NaN, -5.17512496883702e+245, NaN, NaN, NaN, NaN, 1.04294981664194e+40,  2.17292331044328e-310, -5.54792474493996e+243, 2.12455197125173e+183,  3.94213052632413e-259, -3.18196870780537e+305, 3.5643011834688e-315,  1.13203791517163e-72, NaN, 2.12199579047121e-314, NaN, NaN, NaN,  -8.73989987746428e+245, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  6.99830926169978e-126, -8.73989966500304e+245, -8.72554259640141e+245,  1.054774176803e+40, 1.48157480960601e-304, NaN, 1.64258821123531e-260,  1.64990284736617e+40, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
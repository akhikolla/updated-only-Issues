testlist <- list(rates = numeric(0), thresholds = numeric(0), x = c(NaN,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, -5.1071114359872e+245, -5.54792475454324e+243,  NaN, 5.54095540936847e-310, -1.1255454651159e-256, 4.77793833555639e-299,  2.78134232318839e-309, -3.45507950618034e+304, NaN, 1.25986739689518e-321,  2.16443570551977e-312, NaN, NaN, NaN, 1.70141183460469e+40, 2.12862023884205e-106,  7.50963275957326e-308, NaN, 1.04294967003024e+40, 9.55008712236373e+139,  -7.35904245289298e+168, -8.64067982270303e+245, -6.31001569488506e-256,  NaN, 5.14674736242857e-312, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
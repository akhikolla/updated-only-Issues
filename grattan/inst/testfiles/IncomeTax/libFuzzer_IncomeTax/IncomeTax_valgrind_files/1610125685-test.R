testlist <- list(rates = numeric(0), thresholds = c(3.52953696534134e+30,  3.52953696534134e+30, 3.52953696534134e+30, 2.84132114005833e-173,  2.84132113906601e-173, 2.84132113906601e-173, 6.11610085054236e+197,  NaN, 1.20089319277906e-178, -7.21018141782026e+304, 5.10239975985148e-308,  NaN, 3.9656346395276e-310, NaN, -3.19744231092046e-14, 3.8369843877193e+117,  7.18520929158341e-304, 1.50192485449233e-307, -5.3172514347146e+305,  9.94684568527618e-316, 4.23528411428097e-305, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0), x = c(1.60993257980271e-24, 3.16532144686239e+180, 2.77448001762435e+180,  2.77448001761987e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 8.10452260312399e+179, NaN, NaN, NaN,  -7.2911220195564e-304, NaN, NaN, 5.10239975985148e-308, NaN,  3.9656346395276e-310, NaN, -3.19744231092046e-14, 3.8369843877193e+117,  7.18520929158341e-304, 1.50192485449233e-307, -5.3172514347146e+305,  NaN, NaN, NaN, NaN, 1.38470701984657e-300, 2.23576549985131e-183,  7.29023199006604e-304, 3.52953696492524e+30, 3.52953696534134e+30,  3.52953696534134e+30, 3.52953696534134e+30, 3.52953696534134e+30,  3.52953696534134e+30))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
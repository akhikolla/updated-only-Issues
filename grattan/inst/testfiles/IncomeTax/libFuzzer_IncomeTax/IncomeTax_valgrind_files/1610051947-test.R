testlist <- list(rates = c(1.24660111018731e-266, 1.96568260790928e-236,  -3.85254213647597e-34, 3.56048353890995e-306, -1.26836459270255e-30,  3.66148293307183e-314, -1.2341419504043e-30, 3.66343140688495e-305,  -1.26836459270251e-30, 2.10901417032585e-312, NaN, NaN, NaN,  NaN, NaN, -1.26834268997559e-30, 8.81442566340335e-280, -2.82145547645109e-277,  1.67129192517088e-112, -1.26836459270826e-30, 1.00891829368586e-309,  7.51897652547968e-304, -2.0524101093504e-289, 5.59179063829187e-312,  -2.30328334270592e-156, -2.30331110816477e-156, -2.30331110816477e-156,  -2.30331110816272e-156, -5.5516993870748e+306, 4.65661286890991e-10,  NaN, 1.42873492528142e-101, 7.29112072943601e-304, 1.42873492528142e-101,  -1.26836446127185e-30, 2.1788294981599e-321, 3.6634314009933e-305,  -9.77941371393343e-150, 2.33246235504083e-12, -2.15995069167566e-277,  -5.69758255001719e-306, 7.29111937478047e-304, -3.04032340824977e-288,  7.84460841917251e+168, -Inf, 0, 0, 1.40913782993788e-315, -2.82116711389366e-277,  3.41641322410626e-312, 1.12579341133916e-309, 1.42873492528142e-101,  -1.5873679807473e-151, -3.96031617897604e-31, 9.37339630957792e-312,  -1.12858219058046e-276, -2.30331110816477e-156, 0), thresholds = 8.35872426077374e-77,      x = NaN)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
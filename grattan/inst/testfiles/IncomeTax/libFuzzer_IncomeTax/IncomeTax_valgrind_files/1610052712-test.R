testlist <- list(rates = Inf, thresholds = c(1.06099789548264e-314, -2.87285026134106e-188,  -5.66362677157793e+303, NaN, NaN, 1.3854086120054e-309, NaN,  NaN, NaN, 5.43230922486616e-312, NaN, 2.73737457034026e-312,  3.66145950596111e-314, -1.2341419504043e-30, -1.80650535611164e+307,  -9.7757963632732e-150, 2.73729184714066e-312, 1.11604253465019e-314,  3.60446694374285e-305, -9.77941371393343e-150, 2.33246235504083e-12,  -2.15995069167566e-277, -5.69758255001719e-306, 7.29111937478047e-304,  -3.04032340824977e-288, 7.84460841917251e+168, 2.81218450794511e-312,  1.26480805335359e-321, 3.7835305088198e+117, 4.00791700745219e-306,  -9.77719387587112e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, 4.95224540605997e-303, 1.21044018122494e-305,  -2.05226841231125e-289, NaN, NaN, -5.48612677708849e+303, NaN,  NaN, 8.28904161186728e-317, 0, 0, 0, 9.70418706716122e-101, 9.70418706716128e-101,  9.70418706716128e-101, 9.70418706716128e-101), x = c(8.64562743173829e-217,  8.64562743173829e-217, 6.95740341078687e-310, 2.72974914124656e-312,  -2.30331099970595e-156, -2.30331110816477e-156, -2.30331110816477e-156,  4.65661203714475e-10, -5.46354474764561e-108, -5.46354690059085e-108,  -5.46354690059085e-108, 5.95547220139951e-214, 8.64562743173829e-217,  8.64562743173829e-217, 7.19919233931592e-310, -7.55234771438901e-287,  NaN, NaN, 4.77830972673648e-299, NA, -5.46354690482098e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, -5.71336793340794e+303,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, 7.2911220195564e-304, 0, 1.40913782993788e-315,  8.84871571701673e-321, -8.81442986651231e-280, -2.11866430635714e-289,  NaN, -5.48612930076931e+303, -Inf, 1.3854086120054e-309, 1.93515632163099e-319,  0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
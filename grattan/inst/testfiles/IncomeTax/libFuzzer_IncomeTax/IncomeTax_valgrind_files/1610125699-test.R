testlist <- list(rates = c(7.2911220195564e-304, 9.12404584912149e+194, 2.77448002163985e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  1.81509523696993e+179, 2.77448001762435e+180, 2.77448001762435e+180,  1.20631551248452e-178, -7.21018141782026e+304, 2.77448001762442e+180,  -5.48612406879369e+303, 7.2903258603164e-304, NaN, NaN, 5.87747175411145e-39,  2.77478592362428e+180, 6.56526229094945e-145, 3.84502431692785e+117,  -5.56782730201631e+303, 2.78134232315986e-307, 4.16348356759272e+202,  2.77448001771535e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.15162051651561e-312, 3.96558573507921e-310, -5.70642425329479e+305,  2.77474317717187e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762432e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.95941217311784e-144,  NaN, 2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, 6.56526229094945e-145,  NaN, NaN, NaN, -8.50349230663022e+304, 1.51727559837847e-320,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -1.72227260337231e-93,  -5.48745825687952e+303, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),      thresholds = c(3.83698281517203e+117, -1.39103330863219e+305,      -1.59691691567425e-209, -1.56500839841835e-209, -1.56500839841835e-209,      -1.56500839841835e-209, -1.85133727361007e+304, 2.77448001761251e+180,      2.77448001762435e+180, 2.77448001762435e+180, 9.52157097035887e-307,      2.77448001676702e+180, NaN, 1.390671161567e-309, 0, 0, 0,      0, 0), x = 2.22809558051354e-312)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
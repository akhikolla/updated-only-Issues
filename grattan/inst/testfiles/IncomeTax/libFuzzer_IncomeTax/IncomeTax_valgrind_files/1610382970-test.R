testlist <- list(rates = c(NaN, NaN, NaN, NaN, NaN, NaN, 8.73189386463589e-308,  5.32511829734552e+178, 3.9419405716798e-259, NaN, 1.02084759352235e+40,  NaN, -Inf, -4.19867256683219e-140, -5.17538999909499e+245, NaN,  -5.17512497157144e+245, -2.83637103419045e-124, -2.39536098026912e+260,  4.89613425858066e-299, 1.09572122103091e+74, 4.77830972972651e-299,  NaN, -5.17453735279954e+245, -1.29209058969158e+241, 6.55675648886245e-07,  -5.8290068026591e+303, -8.52438965099359e+245, 7.41978889811217e-304,  6.80897040840823e+38, NaN, NaN, -5.06443593276214e+245, -Inf,  4.89617984588572e-299, 7.10544092057131e-15, 9.12458837627621e-313,  6.64032995770279e-07, 3.9417200938354e-259, NaN, 2.78348553888302e-309,  NaN, 1.02084759352235e+40, -4.93751584743096e+304, NaN, -4.19867256683219e-140,  -5.17538999909499e+245, -5.15627199919406e+120, 2.36465212865648e-312,  0), thresholds = c(1.18495789628904e-303, 1.42991672770676e-308,  7.00659668223032e-308, -6.03473647567281e+304, NaN, NaN, 5.10961083395558e-95,  -6.8983169458176e+305, -5.17544277751961e+245, 5.95792084061793e+228,  NaN, NaN, 6.60774410574939e-304, 3.20876125492599e-294, -3.07268513826713e+54,  NaN, NaN, NaN, 5.05707317871566e-85, NaN, -8.73941206645068e+245,  7.7710698149671e-305, -3.1466690181077e+53, NaN, NaN, NaN, 7.2314900401484e-308,  -5.18931555222206e+245, NaN, NaN, -7.31781923598515e+241, 7.29112201886404e-304,  -6.03473647566956e+304, NaN, 4.77947283820032e-299, 1.65276105961175e+40,  1.39785663411574e-304, 1.0429122855008e+40, 7.29023213934846e-304,  NaN, NaN, NaN, NaN, -6.3100779998114e-256, -6.31001569488506e-256,  NaN, 5.14674736242857e-312, NaN, NaN, -8.08634877216209e-174,  -4.82778918048755e+305, NaN, -5.49989589581548e+303, 2.11208114594975e-106,  NaN, NaN, -2.88021513611669e+304, 8.73189386359976e-308, NaN,  1.65249624504117e+40, -5.4861261329807e+303, 2.78134240181518e-309 ), x = c(NaN, NaN, -1.71762913443569e+305, 2.78348555322358e-309,  7.54778189695544e-15, 6.80592642457296e+38, 2.34043639465199e-317,  0, 1.6525917826537e+40, NaN, 8.28904556439245e-317, 0, 0, 0,  0, 1.6189543082926e-319, 0, 0, 0, 2.12199579047121e-314, NaN,  NaN, NaN, -8.73989987746428e+245, NaN, 5.14674736242857e-312,  1.04294967099682e+40, 5.22277776582315e-10, 1.08646184497373e-311,  NaN, NaN, NaN, -5.75028661020612e+243, 5.95792084061793e+228,  8.73189386459932e-308, NaN, 7.2911220195564e-304, -5.48612406879369e+303,  NaN, NaN, NaN, 2.75744471483016e-10, NaN, NaN, NaN, NA, NaN,  NaN, Inf, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(2.77448001762435e+180, 2.77448001762435e+180,  -2.19452731711137e+306, 3.83698281517198e+117, 2.06931066862672e+183,  2.15162051651561e-312, 2.90457027633263e-144, 1.36258221057062e-105,  1.39141082068133e-101, NaN, 5.43222633463778e-312, 8.28891957765276e-317,  4.46014904003046e+43, 7.1832399476163e-187, -2.7049441990867e-11,  -2.08849643609004e+307, -2.70494424245485e-11, -0.116176470588235,  1.20089319277676e-178, 3.13151306255959e-294, NaN, -1.34765550943377e+28,  -1.34765550943381e+28, -1.34765550943381e+28, -1.34765550943381e+28,  -1.34765550943381e+28, -1.34765550943381e+28, -1.34765550943381e+28,  6.40369402425613e-317, NaN, -1.34765550943377e+28, -1.34765550943381e+28,  -1.34765550943381e+28, -1.34765550943381e+28, 6.20102779604429e-305,  1.80331613627316e-130, 2.12196682636678e-314, 1.26217821871384e-27,  NaN, 2.042116387842e+301, 3.56401687016316e-286, 2.77448001761661e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  7.18520929162922e-304, 4.79917891050571e-310, 3.1315130647925e-294,  -6.13037135980363e-92, -3.38084306226197e+221, -3.38084306397821e+221,  -3.38084306397821e+221, 1.23387896896657e-178, NaN, NaN, NaN,  -2.22568242918476e+304, -3.38058523427243e+221, NaN, 3.0517578125e-05,  3.88548539924577e-318, 2.84132113906601e-173, 1.36257052583702e-105,  NaN, 2.75183362045782e-135, 6.98286479238584e-251, 2.84132113906343e-173,  NaN, 1.39066063420151e-309, 5.08693138851929e-107, NaN, 7.29111890951398e-304,  7.29032585060827e-304, NaN, NaN, -7.2911220195564e-304, 2.33412480329989e-309,  2.84132194638916e-173, 9.5215682689291e-307, 2.52435489670724e-29,  0), thresholds = c(-2.70494424227998e-11, NaN, -5.48612426787813e+303,  -2.70494424244937e-11, NaN, 1.39065217937453e-309, 1.6837124806243e-317,  6.4058838766769e-145, NaN, -1.34765550943381e+28, -1.34765550943381e+28,  -1.34765550943381e+28, -1.34765550943381e+28, -1.34765550943381e+28,  NaN, -1.34765550943381e+28, 2.72311959207815e+180, 2.77448001762435e+180,  2.77448001762435e+180, NaN, NaN, NaN, NaN, NaN, NaN, 4.73813421230301e+43,  1.23387897092574e-178, -7.21018141782026e+304, -1.83366322023212e+304,  NaN, -1.12612678974843e-88, 4.94065645841247e-324, -1.4244327365293e+306,  2.05613253628974e-309, 2.77448001456303e+180, 2.77434666483131e+180,  2.77448001762435e+180, 1.58121689353907e+180, 2.90457027634082e-144,  6.90415667854301e-172, NaN, 2.93130158874666e-173, NaN, NaN,  6.31088725681422e-28, NaN, 2.54639250802938e-313, 1.20089319277908e-178,  -7.21018141782026e+304, NaN, 1.25986739689518e-321, NaN, -5.4861292803319e+303,  1.0567763617903e-293, NaN, 1.53960083286989e+179, Inf, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, -2.51617453667531e-265,  3.83698281515951e+117, -3.7026701454427e+304, 5.50814852228496e-310,  1.38745413269646e-309, NaN, 6.31088725681422e-28, NaN, 2.54639250802938e-313,  NaN, NaN, NaN, 5.43223507675884e-312, 4.46015025262667e+43, -6.13578776317959e-92,  0), x = -Inf)
result <- do.call(grattan::IncomeTax,testlist)
str(result)
testlist <- list(rates = c(4.77045810117177e-299, 5.54095540936847e-310,  -1.1255454651159e-256, 2.48084742099826e-265, 2.78134232318839e-309,  -3.45507950618034e+304, NaN, 3.23785921002061e-319, NaN, NaN,  NaN, -3.23465380139002e+244, NaN, NaN, NaN, NaN, NaN, NaN, NaN,  NaN, -4.95668081957698e+245, -5.82900682308922e+303, -8.52438965099359e+245,  -8.72554259640141e+245, -6.17189479381467e+303, 2.70150264931866e-307,  1.71193373937516e-260, 3.94212982853171e-259, 2.82820116936561e-110,  1.36845553155725e-48, -5.17538999909499e+245, NaN, 1.16415321618768e-08,  7.29112200597775e-304, -6.32698706326891e-256, 2.64778388583727e+43,  -3.31521377423868e+118, 1.62597454977704e-260, NaN, 1.31756732478297e-309,  NaN, NaN, 4.4601490396738e+43, NaN, NaN, 2.75744471483016e-10,  NaN, NaN, NaN, NaN, NaN, -5.18931555224442e+245, NaN, 1.31756732478297e-309,  6.64033212419108e-07, 2.68838251105223e-299, -5.17512518402926e+245,  NaN, 5.14674736242857e-312, 1.04294967003024e+40, 1.39065508144753e-309 ), thresholds = NaN, x = c(NaN, NaN, NaN, -5.17512496883702e+245,  NaN, NaN, NaN, NaN, 1.39065593335898e-309, NaN, 9.79032497743128e-307,  -3.14666901810749e+53, NaN, 4.36590067866828e+291, 4.44172304180766e+291,  -2.88665259471098e-63, NaN, -5.75028662029127e+243, 6.80564989907298e+38,  7.29112229883701e-304, 4.77947629277063e-299, 4.06493635923808e-259,  -6.54099935049723e+245, -4.86173068582901e-63, NaN, NaN, NaN,  7.29048330221851e-304, -5.54792474493996e+243, 8.29655182446163e-114,  3.67142983950248e+228, 7.24455658408632e+165, 3.63054263558128e+228,  5.43722619646479e-109))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
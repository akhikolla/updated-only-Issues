testlist <- list(rates = c(-7.39330493781016e-287, 2.81199605863994e-312,  NaN, -8.22918610319053e+303, 4.46108959687689e-140, -1.40444775900542e+306,  NaN, NaN, 5.77662199200766e-275, -5.48612406879369e+303, NaN,  1.42873559907201e-101, -8.81442987472173e-280, -8.18300487900495e-171,  -2.30331110816477e-156, -1.12583501772562e-305, -1.12583501772562e-305,  -2.35343736497682e-185, 7036874417766.4, -2.35343736826454e-185,  7.17736025324585e-310, 7.32777351949015e-15, -3.04032340822605e-288,  -5.08165230815204e-306, NaN, NaN, 4.00791842552789e-306, 1.28823036902011e-231,  -5.48681743872625e+303, -3.65398847701729e-306, 3.83677401710034e+117,  NaN, 0, 0, 0, -2.29602087786811e-156, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30331110763906e-156, 3.65365169107097e-306,  2.62480682658967e-301, -6.56793027847815e-287, -8.81442988493713e-280,  -2.64494692448922e+154, 2.29775642758308e+189, -1.48603602467489e-267,  -1.06099789548264e-314, -9.77719780333766e-292, -9.77719780333789e-292,  4.95224540605997e-303, 1.21044018122494e-305, -2.05226841231125e-289,  NaN, NaN, 4.2818806897576e-317, 0, 0, NaN, -3.67243182468058e-306,  2.72626708044692e-312, -8.81442988748469e-280, -2.3033111077411e-156,  -1.12583501772562e-305, -2.29602087786811e-156, -2.30331110816477e-156,  -2.30331110816477e-156, -2.30331110763906e-156, -2.30331110816477e-156,  -5.46354690059085e-108, -5.46354690059085e-108, 1.19750493928353e-300,  -2.97579020849294e-288, -4.82412117284787e-110, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108), thresholds = c(0,  0, 1.40913782993788e-315, 8.84871571701673e-321, -5.35532635250002e+305,  1.38803996951476e-309, -6.69969684636807e-287, 2.89689873904097e-312,  -3.18411881987467e-248, 1.80354409094537e-130, 1.55571390562492e-319,  7.9182692682687e-101, 9.70418706716128e-101, 4.35306418581347e-319,  NaN, NaN, NaN, -2.6714852594368e+305, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, -1.26836459351501e-30, 4.00930495879766e-306,  -1.26826378018642e-30, 3.94108708470682e-312, 2.92300471201586e+48,  -9.7781830135282e-150, -9.77579636327222e-150, 3.65365168861588e-306,  8.28904605845809e-317, 0, 0, 9.23492568228087e-311, 5.79909433230408e-316,  6.95346190762455e-310, -2.89730164716124e-147, 7.52609340439459e-304,  -2.27532421655581e-156, -2.30331110816477e-156, -2.30327665540415e-156,  -2.30331110816477e-156, NaN, 2.81199605989981e-312, -9.77580118946814e-150,  2.33246235504083e-12, 4.46108959687708e-140, 3.60297094497336e-306 ), x = c(-1.12583501772562e-305, -2.30331110816477e-156, -5.46354689218091e-108,  -5.46354690059085e-108, -5.46354690059085e-108, 3.60023630981326e-312,  -5.46299574004171e-108, -5.46354690059085e-108, -5.4635451747904e-108,  -5.46354690059085e-108, -5.46354690059085e-108, -5.46354690059085e-108,  -5.46354690059085e-108, -5.46354690059085e-108, NaN, NA))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
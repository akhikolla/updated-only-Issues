testlist <- list(rates = numeric(0), thresholds = NA_real_, x = c(-1.85156687320421e+304,  NaN, 7.29043465588961e-304, NaN, 4.81148672254132e+173, -3.38084205683093e+221,  -1.56500839842578e-209, -1.56500839841835e-209, -1.56500839841835e-209,  4.94065645841247e-324, -2.82266461892444e+304, 2.77447924165542e+180,  2.77448001762435e+180, 2.77448001762435e+180, 2.77448001762435e+180,  2.77447979814893e+180, NaN, NaN, NaN, -2.82266461893784e+304,  9.5215682954423e-307, NaN, NaN, NaN, 2.77600674195731e+180, 2.77448001762435e+180,  2.77448001762435e+180, 2.77448001762435e+180, -3.38084306396496e+221,  -1.56500839841838e-209, -Inf, 4.80173281363225e-301, -2.37636445786895e-212,  1.20082999144929e-178, 2.77448001459322e+180, 2.77448001762435e+180,  2.77448001762435e+180, -7.15905620980588e+304, NA))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
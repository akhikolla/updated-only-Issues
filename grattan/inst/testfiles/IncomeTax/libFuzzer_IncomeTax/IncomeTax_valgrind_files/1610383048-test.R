testlist <- list(rates = c(1.71272844748826e-260, 7.50963276040374e-308,  -3.14666784575731e+53, -5.49989589581548e+303, -5.18847371542227e+245,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -6.85765508599211e+303,  NaN, NaN, NaN, 3.35877285666699e+227, NaN, 6.31001593821752e-256,  5.95750442285959e+228, NaN, NaN, 1.37437816244707e-309, 4.17415755274666e-309,  -1.13428637238403e-256, NaN, 2.12455196732528e+183, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, -5.17538835488245e+245, NaN, -6.3100779998114e-256,  5.5446316004081e-97, NaN, 1.02088463191188e+40, 7.76462361821357e-304,  -5.49989590899971e+303, -4.93751584743096e+304, NaN, NaN, 1.20270737744251e-72,  NaN, -5.74994784420039e+243, -5.17495827120738e+245, NaN, 5.14674736242857e-312,  NaN, NaN, -8.08634877216209e-174, -4.82778918048755e+305, NaN,  -5.49989589581548e+303, 2.11208114594975e-106, NaN, NaN, -2.88021513611669e+304,  8.73189386359976e-308, NaN, 1.65249624504117e+40, 2.78134232317104e-309,  2.82755217285077e-110, 7.2911220195564e-304, 0, 0, 0, 0, 6.953355807835e-310,  0, NaN, NaN, -5.18931555224442e+245, 5.48663232018746e-310, 5.58561222671114e-311,  7.29044757046209e-304, NaN, -5.06414419567344e+245, NaN, NaN,  2.7574742489378e-10, -1.45094702039305e+128, NaN, 1.31977521678509e-309,  1.39064994493837e-309, NaN, NaN, NaN, 9.36270038563636e-307,  1.08729903862711e-311, 2.33589462432972e-310, -2.83637110188085e-124 ), thresholds = 2.78105668265994e-309, x = c(NaN, 8.74079907220133e-313,  NaN, NaN, NaN, NaN, NaN, 2.23764539047744e-310, -2.87893513927628e-63,  NA, NaN, NaN, 7.27887368330136e-304, 1.3906746426426e-309, NaN,  -3.14666901810749e+53, NaN, 4.77830972972642e-299, 2.82755217285071e-110,  NaN, 0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
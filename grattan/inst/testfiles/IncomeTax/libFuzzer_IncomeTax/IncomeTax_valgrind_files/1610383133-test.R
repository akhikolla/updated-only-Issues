testlist <- list(rates = c(-1.29287484775418e+164, NaN, 6.55651547276648e-07,  -5.48612405857659e+303, NaN, NaN, -9.00181948337867e+241, 5.02982669403682e-10,  1.18495754800529e-303, -1.29211778498328e+294, NaN, 1.390671161567e-309,  NaN, NaN, NaN, NaN, -1.99700494896339e+242, NaN, 7.2911220195564e-304,  NaN, NaN, 6.24349710063198e+144, NaN, NaN, 1.04291228752109e+40,  NaN, NaN, NaN, NaN, 1.02101755470357e+40, 7.76462360460874e-304,  6.60774410574276e-304, NaN, 5.43230922486616e-312, NaN, NaN,  NaN, NaN, NaN, NaN, -5.82900682309329e+303, NaN, NaN, -3.29167444127621e+305,  NaN, NaN, NaN, NaN, NaN, -5.75028661030548e+243, 4.96474335111844e-14,  4.77072469916124e-299, 7.27118756337024e-240, 1.39631574048471e-309,  NaN, 1.25986739689518e-321, 4.14452302922905e-317, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,  0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = numeric(0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
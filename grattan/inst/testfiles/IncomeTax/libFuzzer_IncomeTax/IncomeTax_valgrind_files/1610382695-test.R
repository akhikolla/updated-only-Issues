testlist <- list(rates = c(NaN, NA, 3.97536191470556e+72, 3.564388850477e-315,  5.95791866048639e+228, 5.95745073761192e+228, -8.5233227686842e+245,  NaN, -4.55943088768514e-215, NaN, Inf, NaN, NaN, 4.65661287307739e-10,  -4.28076304470408e+221, -Inf), thresholds = c(1.35979513816045e-317,  1.45438725203291e+135, -3.45507950618034e+304, 1.390671161567e-309,  0, 0, 2.07507571253324e-322, 0, 6.953355807835e-310, 0, 0, 2.14321574887493e-312,  NaN, NaN, NaN, NaN, NaN, 4.17199041628582e-308, 4.89613426143643e-299,  1.39067107867654e-309, 5.95750278982956e+228, 5.84500266327855e+199 ), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
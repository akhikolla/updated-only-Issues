testlist <- list(rates = c(-1.29287484775418e+164, NaN, 6.55651547276648e-07,  1.30038077985416e-320, 0, 0, 0, 0, 0, NaN, NaN, 2.16443570677964e-312,  NaN, 1.63335743792007e+40, -1.28383608780517e+116, 3.24259741596867e+178,  NaN, NaN, 1.25986739689518e-321, NaN, NaN, NaN, -5.10711143681407e+245,  NaN, NaN, NaN, NaN, NaN, NaN, NaN, NA, -7.31781923598515e+241,  7.29112201886404e-304, -6.30904267910925e+304, NaN, 4.77947283820032e-299,  1.65276105961175e+40, 1.39785663411574e-304, 1.0429122855008e+40,  1.2027073776402e-72, NaN, -5.17495827121042e+245, NaN, 4.46014744463253e+43,  5.95745073761192e+228, -8.5233227686842e+245, 3.10503470425215e+231,  -3.41198191497305e+306, NaN, 8.73189439513484e-308, 5.32511829734552e+178,  3.9419405716798e-259, -1.29287442728532e+164, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, -5.17453735279954e+245, -1.29209058969158e+241,  -5.18847371542227e+245, -5.18925946911527e+245, -8.46891178714298e+245,  4.73878840674895e-10, 1.18495789628904e-303, 1.42991672770676e-308,  7.42022340955951e-68, NaN, NaN, 7.29112184298707e-304, NaN, -6.17473461383181e-256,  -5.06443593198239e+245, -8.73989987746104e+245, -1.12022642773623e+243,  -8.73989987741634e+245, NaN, 7.56881123708566e-304, NaN, -1.46215003400902e+128,  NaN, -5.54237304891436e+303, -7.95487989975085e+304, NaN, NaN,  3.24195556454397e+178, 2.78105030004137e-309, 1.28683596660321e-167,  3.811166663352e+40, 0), thresholds = numeric(0), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
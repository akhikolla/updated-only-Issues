testlist <- list(rates = NaN, thresholds = c(NaN, NaN, NaN, NaN, NaN, -5.48681744862531e+303,  NaN, NaN, -4.24399158143648e-314, -5.55059957471347e+303, -3.01363922187477e-135,  -1.26836459245897e-30, 2.34903511315221e-319, NaN, NaN, Inf,  -1.79769313486232e+308, 2.73737457034026e-312, -2.83427023367766e+306,  2.29775643588197e+189, -1.2683215880716e-30, 3.66329591320971e-305,  7.17065483396996e-310, NaN, -1.26333753792012e-30, 4.00791842552789e-306,  -1.26826829408472e-30, 0), x = c(NaN, -3.07840260097373e-288,  NaN, NaN, NaN, 0, 0, 0, 9.6439561139442e-101, 9.70418706707811e-101,  9.70418706716128e-101, 9.70418706716128e-101, 9.70418706716128e-101,  9.70418706716128e-101, -2.96164487932264e-277, NaN, NaN, NaN,  9.70418706716154e-101, 9.70418706716128e-101, 9.70418706716128e-101,  -5.82789329454073e+303, -5.82900681339507e+303, 2.65985899590435e+277,  -6.36390391980048e+305, -6.64678428260256e-287, 1.42873492355741e-101,  -1.26834825275039e-30, NaN, -1.26823093099111e-30, -2.24767623012983e-289,  -1.24371214513728e-30, -1.26836459270829e-30, 3.78576699573368e-270,  -1.26836459270033e-30, -1.24351955275956e-30, -1.26836459270829e-30,  5.20542961913381e-270, 4.00791842552789e-306, 2.34012289634757e-269,  -1.26836459270829e-30, 3.94108708470682e-312, 7.18370177147678e-310,  1.09843591396406e-314, 3.60739284464096e-313, 2.26527122355628e-318,  2.71619605766584e-312, 3.65190247027503e-306, 2.71984340047916e-312,  2.84809454436e-306, 4.95400018337535e-317, 0, 2.95489645946111e-306,  7.10542909137157e-15, -5.48612422239372e+303, -9.77702922971014e-150,  -7.39330193389088e-287, 1.26480805335359e-321, NaN, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
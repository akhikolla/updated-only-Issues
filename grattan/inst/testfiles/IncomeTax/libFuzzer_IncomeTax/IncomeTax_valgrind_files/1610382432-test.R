testlist <- list(rates = c(NaN, NaN, 5.54095540936847e-310, NaN, NaN, -5.17495827121042e+245,  -5.17538999909821e+245, -8.61963567899327e+241, -1.4045053552397e+306,  1.21484608296754e+248, 1.68048229123576e+117, 6.36595216459214e-313,  -1.96706425773063e+242, 7.50996086258245e-308, -8.76218775545065e+241,  NaN, 2.78105030004262e-309, 1.77045598093347e-302, 2.78134232318839e-309,  -3.45507950618034e+304, NaN, NaN, NaN, NaN, 6.64032995770279e-07,  NaN, NaN, NaN, NaN, 6.36699570614057e+151, 4.55926526610949e+169,  6.96742180489936e+252, -8.1936561351225e+244, 4.77028481940609e-299,  NaN, NaN, NaN, 1.70141183460469e+40, 2.12862023884205e-106, NaN,  -2.83637103419045e-124, 1.71272844748826e-260, 7.50966246834481e-308,  1.65249625247277e+40, NaN, 7.2911220195564e-304, -5.48612406879369e+303,  NaN, NaN, NaN, 2.75744471483016e-10, NaN, NaN, NaN, NaN, NaN,  NaN, NaN, NaN, NaN, NaN, -5.7502866102558e+243, 4.96474335111844e-14,  NaN, 3.44442210307504e+178, 0, 0, 0, 0, 0, 0, 0, 0, 0), thresholds = -2.88662233318839e-63,      x = c(-1.93372419349018e+242, 3.56429232981243e-315, 1.04294967003054e+40,      NaN, NaN, NaN, NaN))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
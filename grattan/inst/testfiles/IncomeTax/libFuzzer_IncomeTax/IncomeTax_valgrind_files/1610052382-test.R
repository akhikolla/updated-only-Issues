testlist <- list(rates = c(1.55571390562492e-319, 3.23790861658519e-319,  NaN, NaN, 4.77830972673648e-299, -9.77579638205135e-150, 1.90709339294721e-321,  -9.77719390567927e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -9.77719780333789e-292, -9.77719780333789e-292,  -9.77719780333789e-292, -2.20216447764871e-289, NaN, -6.56725888219402e-287,  NaN, NaN, NaN, NaN, -1.05658906227133e+270, 34082834.0004883,  -7.39330693418027e-287, -2.25739033689687e-277, -2.11940804072442e-289,  2.72810281967378e-312, -2.83427023367766e+306, 534.645996101197,  -Inf, NaN, 2.81199605989981e-312, NaN, -8.22918610319053e+303,  4.46108959687689e-140, 3.60297094497336e-306, -1.06556334613796e-314,  9.7020880290895e-310, -3.18471904527818e-248, 2.81199605863994e-312,  NaN, -8.22918610319053e+303, 4.46108959687689e-140, -1.40444775900542e+306,  NaN, 7.2911220195564e-304, 1.39067116124321e-309, -1.26836459066847e-30,  3.91682458094239e-306, 3.60297094493192e-306, -3.01363922187477e-135,  5.68604456976417e-270, -8.81443174834308e-280, 3.41641371420455e-312,  NaN, 3.65365169114922e-306, 5.85363594144907e+170, 5.85363771868791e+170,  5.73716459465267e+170, 8.62805110310557e-307, 8.5451750570825e+194,  1.0451773909944e-308, 0, 0, 2.81218450753503e-312, 2.21544747042005e-312,  2.84347435989841e-312, 2.47222686857108e-94, 6.32404026676796e-322,  8.90029543402881e-306, -9.77580118946814e-150, 7.29112485532916e-304,  Inf, 7.10542909137157e-15, -5.48612422239372e+303, -9.77702922971014e-150,  -3.18471904527818e-248, NaN, 4.00791842552789e-306, 2.34012289634757e-269,  -1.26836459270829e-30, 3.94108708470682e-312, 4.91407572666621e-319,  2.72888639290682e-312, 3.63041237940668e+282, 2.71984550446759e-312,  7.19919233907545e-310, -7.55234771438901e-287, 3.7835305088198e+117,  -1.97637754038728e+306, 1.25986739689518e-321, 0, 0, 0, 4.92150736863289e-303,  -1.26836452888033e-30, NaN, -1.26836407059221e-30, 0), thresholds = c(0,  0, 0, 1.40913782993788e-315, 8.84871571701673e-321, -5.35532635250002e+305,  1.38803996951476e-309, -6.69969684636807e-287, 2.89689873904097e-312,  -3.18411881987467e-248, 1.80354409094537e-130, 1.55571390562492e-319,  3.23790861658519e-319, NaN, NaN, NaN, NaN, NaN, NaN, NaN, -1.96154140339432e+23,  -1.96154140339432e+23, -1.96154140339432e+23, -1.96154140339432e+23,  NaN, NaN, NaN, NaN, NaN, NaN, 3.66343140689406e-305, -2.11967030492847e-289,  -1.26836419890938e-30, -1.96154140339432e+23, 3.94108709867406e-312,  2.92300471201586e+48, -1.96154140180546e+23, -1.96154140339432e+23,  -1.96154140339939e+23, -3.97035339280029e-34, -1.26836459270827e-30,  1.43026673502722e-316, -1.26823091051179e-30, 2.33385326930198e-301,  -3.9759940224262e-34, -1.26823100659151e-30, -1.26836459270829e-30,  2.39422219319154e-301, -9.11306812174856e-306, 8.34402647205924e-310,  -7.93443086178592e-308, -2.82116724839022e-277, NaN, -8.81442988344703e-280,  7.74565138159227e-304, 2.12198042552369e-314, 0, 0, 0, 1.40913782993788e-315,  8.84871571701673e-321, -5.35532635250002e+305, 1.38803996951476e-309,  -6.69969684636807e-287, 2.89689873904097e-312), x = c(9.70408896376656e-101,  1.42873424000035e-101, 9.7027918188809e-101, NaN, -7.85138445181826e-313,  8.97712456219174e-308, -2.30330777403303e-156, -2.30331110816477e-156,  1.64816262212861e-307, 6.59178402567098e-306, -2.41748370505956e-310,  -2.11852534930397e-289, 8.34402647205959e-310, -7.93443086178592e-308,  -2.82116724839022e-277, NaN, -8.81442988344703e-280))
result <- do.call(grattan::IncomeTax,testlist)
str(result)
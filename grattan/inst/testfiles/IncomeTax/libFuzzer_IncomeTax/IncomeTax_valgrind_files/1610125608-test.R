testlist <- list(rates = NaN, thresholds = c(2.34698334696459e+130, 1.09149921112807e-172,  2.84132113906601e-173, NaN, 2.84132113906601e-173, -3.38084306395666e+221,  2.50498988822283e-304, 5.41108958569307e-312, 1.38647698715568e-309,  2.84132106677126e-173, -1.92767339828986e+304, 6.31088766471742e-28,  NaN, NaN, 8.76131173076637e+194, 7.41841230141887e-68, -3.97744622824617e+304,  -1.71833341151532e-93, -5.95770543041629e+218, -3.38084306397821e+221,  1.80330059760174e-130, 7.2903258603164e-304, 7.29112200906806e-304,  5.43224520914109e-312, NaN, 3.83701083592285e+117, 3.83698438178812e+117,  7.18520929158341e-304, NaN, 1.06099789548264e-313, 5.43230922486616e-312,  2.00042176300345e-183, 8.2889210598497e-317, 1.39065019028047e-309,  -5.48612406879369e+303, 4.14452302922905e-316, 2.04218517853307e+280,  -5.95426331398876e+140, 1.80330065828665e-130, 2.79969574727999e-82,  1.33956710453541e-142, 4.81148658808622e+173, NaN, NaN, 9.49129894553818e+194,  1.03149571543972e+272, NaN, NaN), x = numeric(0))
result <- do.call(grattan::IncomeTax,testlist)
str(result)